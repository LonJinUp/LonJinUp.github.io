{"posts":[{"title":"å°ç¨‹åºè‡ªåŠ¨ä¸Šä¼ è„šæœ¬","content":"å°ç¨‹åºè‡ªåŠ¨ä¸Šä¼ è„šæœ¬ å¹³æ—¶å¤šäººå¼€å‘å°ç¨‹åºç»å¸¸ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šAå¼€å‘å®Œæˆåï¼Œä¸Šä¼ äº†ä½“éªŒç‰ˆï¼Œç„¶åBä¹Ÿè¿›è¡Œå¼€å‘ï¼Œå¼€å‘å®Œæˆåä¸Šä¼ ä½“éªŒç‰ˆï¼Œè¿˜éœ€è¦å»åå°è®¾ç½®ä½“éªŒç‰ˆä¸ºBçš„ä»£ç ï¼Œè¿™æ ·å°±å¾ˆéº»çƒ¦äº†ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¾®ä¿¡å°ç¨‹åºæä¾›çš„miniprogram-ciåŒ…æ¥å®ç°è‡ªåŠ¨ä¸Šä¼ ã€‚ç”±äºæˆ‘ç»å¸¸ä½¿ç”¨uni-appæ¥å¼€å‘å°ç¨‹åºï¼Œæ‰€ä»¥æˆ‘æŠŠè„šæœ¬æ”¾åœ¨äº†uni-appçš„/uploadç›®å½•ä¸‹ï¼Œé…åˆæ‰“åŒ…å‘½ä»¤å³å¯å®ç°æ‰“åŒ…åè‡ªåŠ¨ä¸Šä¼ ä»£ç ã€‚ ä»£ç å®ç° const { execSync } = require('child_process'); const ci = require('miniprogram-ci'); const packageJson = require('../package.json'); const fs = require('fs'); const path = require('path'); /** * è·å–å½“å‰ Gitç”¨æˆ·å * @returns {string} è¿”å› Git ç”¨æˆ·å */ function getGitInfo() { try { const branch = execSync('git rev-parse --abbrev-ref HEAD').toString().trim(); const user = execSync('git config user.name').toString().trim(); return { branch, user }; } catch (error) { console.error('è·å– Git ä¿¡æ¯å¤±è´¥:', error); return null; } } /** * ä¿®æ”¹ç‰ˆæœ¬å· */ function changeVersion() { const packageJsonPath = path.join(__dirname, '../package.json'); const packageJson = JSON.parse(fs.readFileSync(packageJsonPath, 'utf8')); const version = packageJson.version; const versionParts = version.split('.').map(Number); const env = process.env.NODE_ENV || 'test'; if (env === 'master') { versionParts[2] += 1; if (versionParts[2] &gt; 9) { versionParts[2] = 0; versionParts[1] += 1; } if (versionParts[1] &gt; 9) { versionParts[1] = 0; versionParts[0] += 1; } } packageJson.version = versionParts.join('.'); fs.writeFileSync(packageJsonPath, JSON.stringify(packageJson, null, 4), 'utf8'); console.log('æœ€æ–°ç‰ˆæœ¬å·ä¸ºï¼š', packageJson.version); return version; } /** * åˆå§‹åŒ–é¡¹ç›®ä¿¡æ¯ * @returns {ci.Project} è¿”å› ci.Project å¯¹è±¡ */ function initProjectInfo() { return new ci.Project({ appid: packageJson.appid, type: 'miniProgram', projectPath: './dist/build/mp-weixin', privateKeyPath: './upload/private.xxxxxxxxxx.key', }); } async function upload() { try { const project = initProjectInfo(); const { user, branch } = getGitInfo(); const version = changeVersion(); console.log('â³å¼€å§‹ä¸Šä¼ '); const uploadResult = await ci.upload({ project, version, desc: `${user}åœ¨${branch}åˆ†æ”¯ä¸Šä¼ äº†ä½“éªŒç‰ˆæœ¬: ${version}`, robot: 10, setting: { es6: true, }, onProgressUpdate: console.log, }); console.log('âœ…ä¸Šä¼ æˆåŠŸ'); process.exit(0); } catch (e) { console.error('âŒä¸Šä¼ å¤±è´¥:', e); } } upload(); package.jsonä¸­æ·»åŠ ä»¥ä¸‹å‘½ä»¤ï¼š { &quot;name&quot;: &quot;uni-preset-vue&quot;, &quot;version&quot;: &quot;0.0.3&quot;, &quot;appid&quot;: &quot;xxxxxxxxxx&quot;, &quot;scripts&quot;: { &quot;buildTest:mp-weixin&quot;: &quot;uni build -p mp-weixin --mode test &amp;&amp; node upload/index.js&quot;, &quot;buildPre:mp-weixin&quot;: &quot;uni build -p mp-weixin --mode pre &amp;&amp; node upload/index.js&quot;, &quot;buildMaster:mp-weixin&quot;: &quot;uni build -p mp-weixin --mode master &amp;&amp; node upload/index.js&quot; }, } è¿è¡Œ npm run buildTest:mp-weixin ","link":"https://lonjinup.github.io/mpweixin-upload/"},{"title":"è·¨æ ‡ç­¾é¡µé€šä¿¡ç¥å™¨ï¼šæ·±å…¥äº†è§£BroadcastChannelçš„å¦™ç”¨","content":"è·¨æ ‡ç­¾é¡µé€šä¿¡ç¥å™¨ï¼šæ·±å…¥äº†è§£ BroadcastChannel çš„å¦™ç”¨ æœ€è¿‘åœ¨åšé¡¹ç›®é‡åˆ°ä¸€ä¸ªåœºæ™¯ï¼šåœ¨é¡¹ç›®æ‰“å¼€æ—¶å€™è¿æ¥ä¸€ä¸ª websocketï¼Œåœ¨åˆå§‹åŒ–ã€æ”¶åˆ°æ¨é€æ¶ˆæ¯ç­‰åœºæ™¯ä¸‹ï¼Œå…¶ä»–é¡µé¢éœ€è¦åŒæ­¥è¿›è¡Œä¸€äº›æ“ä½œï¼Œæ‰€ä»¥éœ€è¦å»ºç«‹æ¶ˆæ¯å¹¿æ’­é€šçŸ¥ç»™éœ€è¦çš„é¡µé¢ã€‚ä¸‹é¢æ˜¯æˆ‘æƒ³åˆ°çš„ä¸€äº›å®ç°æ–¹æ¡ˆã€‚ æ–¹æ¡ˆå¯¹æ¯” æ–¹æ¡ˆ å®ç°æ€è·¯ æ¨èæŒ‡æ•° ä¼˜ç‚¹ ç¼ºç‚¹ Pinia (Vue é¡¹ç›®) ä½¿ç”¨ Vue çš„çŠ¶æ€ç®¡ç†å·¥å…· Piniaï¼Œåœ¨ä¸€ä¸ªæ ‡ç­¾é¡µä¸­æ›´æ–°çŠ¶æ€ï¼Œå…¶ä»–æ ‡ç­¾é¡µè®¢é˜…çŠ¶æ€å˜åŒ–å¹¶ä½œå‡ºå“åº”ã€‚ â­â­â­â­ é›†æˆ Vue é¡¹ç›®æ–¹ä¾¿ï¼ŒçŠ¶æ€ç®¡ç†å¼ºå¤§ ä»…é€‚ç”¨äº Vue é¡¹ç›®ï¼Œéœ€è¦é¢å¤–é…ç½® localStorage æˆ– sessionStorage ä½¿ç”¨ localStorage æˆ– sessionStorage å­˜å‚¨äº‹ä»¶æ•°æ®ï¼Œå¹¶é€šè¿‡ç›‘å¬ storage äº‹ä»¶åœ¨å…¶ä»–æ ‡ç­¾é¡µä¸­æ¥æ”¶æ¶ˆæ¯ã€‚ â­â­â­ ç®€å•æ˜“ç”¨ï¼Œæ— éœ€é¢å¤–åº“ äº‹ä»¶å¤„ç†è¾ƒä¸ºå¤æ‚ï¼Œä¼ é€’å¤æ‚æ•°æ®æœ‰å±€é™æ€§ BroadcastChannel ä½¿ç”¨ BroadcastChannel åˆ›å»ºé¢‘é“ï¼Œåœ¨ä¸åŒæ ‡ç­¾é¡µä¸­å‘é€å’Œæ¥æ”¶æ¶ˆæ¯ã€‚ â­â­â­â­â­ åŸç”Ÿæ”¯æŒï¼Œå¤šæµè§ˆä¸Šä¸‹æ–‡é€šä¿¡ç®€å•ç›´è§‚ ä»…æ”¯æŒåŒæºé¡µé¢ï¼Œéœ€è¦è¾ƒæ–°æµè§ˆå™¨æ”¯æŒ è€ƒè™‘åˆ°é¡¹ç›®ä¸­åŠŸèƒ½æ¨¡å—å¤ç”¨æ€§ï¼Œå¤šä¸ªé¡¹ç›®å¯èƒ½éƒ½ä¼šç”¨åˆ°ï¼Œæ‰€ä»¥æ–¹æ¡ˆ1ç›´æ¥passï¼›å»ç›‘å¬localStorageæˆ–sessionStorageä¹Ÿè¿‡äºç¹çï¼Œæ‰€ä»¥ä¹Ÿç›´æ¥passï¼›ç”±äºæ˜¯bç«¯é¡¹ç›®ï¼Œæ— éœ€è€ƒè™‘æµè§ˆå™¨å…¼å®¹çš„é—®é¢˜ï¼Œè€Œä¸”BroadcastChannel åœ¨ç»å¤§éƒ¨åˆ†æµè§ˆå™¨ä¸Šæ˜¯æ”¯æŒçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥é‡‡ç”¨æ–¹æ¡ˆ3å³å¯ã€‚ BroadcastChannelä»‹ç» BroadcastChannel æ˜¯ä¸€ç§ Web APIï¼Œå…è®¸åŒä¸€æ¥æºçš„ä¸åŒæµè§ˆä¸Šä¸‹æ–‡ï¼ˆå¦‚æ ‡ç­¾é¡µã€iframe æˆ– Web workerï¼‰ä¹‹é—´è¿›è¡Œæ¶ˆæ¯ä¼ é€’ã€‚è¿™ç§æœºåˆ¶ä½¿å¾—åœ¨åŒä¸€ç«™ç‚¹çš„ä¸åŒé¡µé¢ä¹‹é—´åŒæ­¥æ•°æ®å˜å¾—éå¸¸ç®€å•å’Œé«˜æ•ˆã€‚ ç‰¹æ€§ åŒæºç­–ç•¥ï¼šBroadcastChannel åªå…è®¸åŒä¸€æ¥æºçš„é¡µé¢ä¹‹é—´è¿›è¡Œé€šä¿¡ã€‚ å®æ—¶é€šä¿¡ï¼šæ¶ˆæ¯ä¼ é€’æ˜¯å³æ—¶çš„ï¼Œæ²¡æœ‰æ˜¾è‘—å»¶è¿Ÿã€‚ ç®€æ´æ˜“ç”¨ï¼šAPI ç®€å•ç›´è§‚ï¼Œæ˜“äºä¸Šæ‰‹ã€‚ ä½¿ç”¨åœºæ™¯ å¤šæ ‡ç­¾é¡µåŒæ­¥ï¼šç”¨æˆ·åœ¨ä¸€ä¸ªæ ‡ç­¾é¡µä¸­è¿›è¡Œçš„æ“ä½œå¯ä»¥å®æ—¶åŒæ­¥åˆ°å…¶ä»–æ ‡ç­¾é¡µã€‚ è·¨ iframe é€šä¿¡ï¼šåœ¨ä¸åŒçš„ iframe ä¹‹é—´ä¼ é€’æ¶ˆæ¯ï¼Œæ— éœ€é€šè¿‡çˆ¶é¡µé¢ä¸­è½¬ã€‚ Web worker é€šä¿¡ï¼šåœ¨ä¸»çº¿ç¨‹å’Œå¤šä¸ª Web worker ä¹‹é—´å®ç°é«˜æ•ˆé€šä¿¡ã€‚ ç¤ºä¾‹ ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨ BroadcastChannel è¿›è¡Œæ¶ˆæ¯ä¼ é€’çš„åŸºæœ¬ç¤ºä¾‹ï¼š &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;BroadcastChannel - Sender&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;input type=&quot;text&quot; id=&quot;inputBox&quot;&gt; &lt;button id=&quot;sendMessageButton&quot;&gt;å‘é€&lt;/button&gt; &lt;script&gt; const channel = new BroadcastChannel('example_channel'); document.getElementById('sendMessageButton').addEventListener('click', () =&gt; { const message = { type: 'update', content: document.getElementById('inputBox').value }; channel.postMessage(message); }); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; é¡µé¢Bæ¥æ”¶æ¶ˆæ¯ï¼š &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;BroadcastChannel - Receiver&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;æ¥æ”¶æ¶ˆæ¯&lt;/h1&gt; &lt;div id=&quot;messages&quot;&gt;&lt;/div&gt; &lt;button id=&quot;closeMessage&quot;&gt;æ–­å¼€&lt;/button&gt; &lt;script&gt; const channel = new BroadcastChannel('example_channel'); channel.onmessage = function(event) { const message = event.data; const messagesDiv = document.getElementById('messages'); const messageElement = document.createElement('div'); messageElement.textContent = `Type: ${message.type}, Content: ${message.content}`; messagesDiv.appendChild(messageElement); }; document.getElementById('closeMessage').addEventListener('click', () =&gt; { channel.close(); }); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; é€šè¿‡ä»¥ä¸Šä»£ç ï¼Œä¸åŒçš„æµè§ˆä¸Šä¸‹æ–‡ï¼ˆå¦‚ä¸åŒæ ‡ç­¾é¡µï¼‰å¯ä»¥åœ¨åŒä¸€ç«™ç‚¹å†…é€šè¿‡ example_channel é¢‘é“è¿›è¡Œæ¶ˆæ¯ä¼ é€’ï¼Œä»è€Œå®ç°æ•°æ®åŒæ­¥å’Œé€šä¿¡ï¼›å¦‚æœä¸å†ä½¿ç”¨å¯ä»¥è°ƒç”¨close()æ–¹æ³•è¿›è¡Œå…³é—­ï¼Œè¿™æ ·å°±å¯ä»¥è®©å…¶è¢«åƒåœ¾å›æ”¶ã€‚ æ€»ç»“ é€šè¿‡å¯¹æ¯”ä¸åŒçš„å®ç°æ–¹æ¡ˆï¼Œæœ€ç»ˆé€‰æ‹©ä½¿ç”¨ BroadcastChannel ä½œä¸ºè·¨æ ‡ç­¾é¡µé€šä¿¡çš„è§£å†³æ–¹æ¡ˆã€‚BroadcastChannel çš„ä¼˜åŠ¿åœ¨äºå…¶åŸç”Ÿæ”¯æŒï¼Œèƒ½å¤Ÿå®ç°å¤šæµè§ˆä¸Šä¸‹æ–‡ä¹‹é—´çš„ç®€å•ç›´è§‚çš„é€šä¿¡ï¼Œç‰¹åˆ«é€‚ç”¨äºéœ€è¦é«˜æ•ˆå®æ—¶é€šä¿¡çš„åœºæ™¯ã€‚å°½ç®¡åªæ”¯æŒåŒæºé¡µé¢ä¸”éœ€è¦è¾ƒæ–°çš„æµè§ˆå™¨æ”¯æŒï¼Œä½†åœ¨å¤§å¤šæ•°ç°ä»£æµè§ˆå™¨ä¸Šéƒ½èƒ½æ­£å¸¸è¿è¡Œã€‚ å½“ç„¶ï¼Œæˆ‘ä»¬è¿˜æ˜¯æ ¹æ®é¡¹ç›®éœ€æ±‚å»å¯»æ‰¾æœ€é€‚åˆçš„æŠ€æœ¯æ–¹æ¡ˆï¼Œä»é¡¹ç›®è§’åº¦å‡ºå‘ã€‚ ","link":"https://lonjinup.github.io/BroadcastChannel-study/"},{"title":"\"WebSocketæ¶ˆæ¯æ¨é€ï¼šå‰ç«¯å®ç°å®æ—¶é€šçŸ¥åŠŸèƒ½å…¨è¿‡ç¨‹è§£æ\"","content":"WebSocketæ¶ˆæ¯æ¨é€ åœ¨åšä¸€äº›åå°é¡¹ç›®çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™éœ€è¦å‰ç«¯å»å®æ—¶æ¥æ”¶æ¶ˆæ¯ï¼›ä¸€ç§æ¯”è¾ƒåŸå§‹çš„åšæ³•å°±æ˜¯å‰ç«¯æ¯éš”ä¸€æ®µæ—¶é—´ä¸»åŠ¨å»è½®è¯¢æœåŠ¡å™¨ï¼Œå¦‚æœç”¨æˆ·è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œä¼šç»™æœåŠ¡å™¨é€ æˆä¸€å®šçš„å‹åŠ›ï¼Œè€Œä¸”è®¿é—®çš„é¢‘ç‡ä¹Ÿæ— æ³•å‡†ç¡®æŠŠæ¡ï¼Œæ‰€ä»¥è¿™ç§éœ€æ±‚è¿˜æ˜¯ä½¿ç”¨websocketæ¥è§£å†³ã€‚ ä¸‹é¢æˆ‘ä»¬å°±ä»0åˆ°1å°è£…ä¸€å¥—websocketæ¶ˆæ¯æ¨é€åŠŸèƒ½æ¨¡å—ã€‚æ–‡ç« æ¶‰åŠåˆ°çš„çŸ¥è¯†å‡ä¸ºå‰ç«¯éƒ¨åˆ†ï¼Œåç«¯éƒ¨åˆ†æˆ‘ä»¬å°±ä¸å±•å¼€æ¥è¯´äº†ã€‚å¦‚æœæ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè®°å¾—ğŸ‘ç‚¹èµğŸŒŸæ”¶è—ï¼ éœ€æ±‚æ¢³ç† æˆ‘ä»¬è¿˜æ˜¯ä½¿ç”¨classæ¥å°è£…ï¼Œè¯¥æ¨¡å—éœ€è¦æä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š WebSocketå¯¹è±¡çš„åˆ›å»º WebSocketå¯¹è±¡çš„å…³é—­ å¯ç”¨å¿ƒè·³æœºåˆ¶ï¼Œé¿å…æ–­è¿ æ¶ˆæ¯æ¨é€ï¼Œæ¥æ”¶åˆ°æ¶ˆæ¯åè¿›è¡Œä¸šåŠ¡é€»è¾‘å¤„ç† é‡è¿æœºåˆ¶ï¼Œå¦‚æœæ–­è¿åå°è¯•ä¸€å®šæ¬¡æ•°çš„é‡è¿ï¼Œè¶…è¿‡æœ€å¤§æ¬¡æ•°åä»ç„¶å¤±è´¥åˆ™å…³é—­è¿æ¥ ä¸‹é¢æˆ‘ä»¬å°±é€ä¸€å®ç°è¿™äº›åŠŸèƒ½ã€‚ åŠŸèƒ½å®ç° åˆ›å»ºWebSocketç±» æ–°å»ºWebSocketManager.jsæ–‡ä»¶ï¼Œåˆ›å»ºä¸€ä¸ªWebSocketManagerç±»ï¼ŒåŒæ—¶åˆå§‹åŒ–ä¸€äº›å‚æ•°ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š export default class WebSocketManager { constructor(url = null, userId = null, receiveMessageCallback = null) { this.socket = null // WebSocket å¯¹è±¡ this.pingTimeout = null // å¿ƒè·³è®¡æ—¶å™¨ this.reconnectTimeout = 5000 // é‡è¿é—´éš”ï¼Œå•ä½ï¼šæ¯«ç§’ this.maxReconnectAttempts = 10 // æœ€å¤§é‡è¿å°è¯•æ¬¡æ•° this.reconnectAttempts = 0; // å½“å‰é‡è¿å°è¯•æ¬¡æ•° this.id = userId //ç”¨æˆ·IDï¼ˆä¸šåŠ¡é€»è¾‘ï¼Œæ ¹æ®è‡ªå·±ä¸šåŠ¡éœ€æ±‚è°ƒæ•´ï¼‰ this.url = url // WebSocket è¿æ¥åœ°å€ this.receiveMessageCallback = receiveMessageCallback // æ¥æ”¶æ¶ˆæ¯å›è°ƒå‡½æ•° } } åˆå§‹åŒ–WebSocketå¯¹è±¡ åˆå§‹åŒ–å®Œæˆåï¼Œæˆ‘ä»¬å…ˆå®ç°ä¸€ä¸ªinitializeæ–¹æ³•ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬è¦ç›‘æµ‹ä¸€ä¸‹ä½¿ç”¨æ—¶å€™æ˜¯å¦ä¼ å…¥äº†webSocketè¿æ¥çš„æœåŠ¡å™¨åœ°å€ã€ç”¨æˆ·idç­‰ï¼›å¦‚æœæ²¡æœ‰é—®é¢˜ï¼Œåˆ™è¿æ¥WebSocketã€‚ export default class WebSocketManager { constructor() { // ...çœç•¥ } /** * åˆå§‹åŒ– */ async start() { if( this.url &amp;&amp; this.id){ // è¿æ¥WebSocket this.connectWebSocket() }else{ console.error('WebSocketManager erros: è¯·ä¼ å…¥è¿æ¥åœ°å€å’Œç”¨æˆ·id') } } } åˆ›å»ºWebSocketè¿æ¥ åˆå§‹åŒ–å®Œæˆåï¼Œæˆ‘ä»¬å°±å¼€å§‹æ¥å®ç°ä¸€ä¸‹WebSocketè¿æ¥ï¼Œæ ‡å‡†çš„WebSocketæ„é€ å‡½æ•°ä»¥urlä½œä¸ºå…¶ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯é€‰çš„ï¼Œè¿™é‡Œæ ¹æ®æœåŠ¡ç«¯é‚£è¾¹çš„çº¦å®šå»è¿›è¡Œå¤„ç†å³å¯ï¼Œè¿™é‡Œè¦æ±‚ä¼ å…¥ç”¨æˆ·id+ä¸€ä¸ªéšæœºå€¼å»ç”Ÿæˆå”¯ä¸€æ ‡è¯†ç¬¦ã€‚ export default class WebSocketManager { constructor() { // ...çœç•¥ } /** * åˆ›å»ºWebSocketè¿æ¥ */ connectWebSocket() { // é€šè¿‡idç”Ÿæˆå”¯ä¸€å€¼ï¼ˆæœåŠ¡ç«¯è¦æ±‚ï¼Œå…·ä½“æ ¹æ®è‡ªå·±ä¸šåŠ¡å»è°ƒæ•´ï¼‰ let id = `${this.id}-${Math.random()}` // åˆ›å»º WebSocket å¯¹è±¡ this.socket = new WebSocket(this.url, id) // å¤„ç†è¿æ¥æ‰“å¼€äº‹ä»¶ this.socket.addEventListener('open', event =&gt; { // å¿ƒè·³æœºåˆ¶ this.startHeartbeat() }) // å¤„ç†æ¥æ”¶åˆ°æ¶ˆæ¯äº‹ä»¶ this.socket.addEventListener('message', event =&gt; { this.receiveMessage(event) }) // å¤„ç†è¿æ¥å…³é—­äº‹ä»¶ this.socket.addEventListener('close', event =&gt; { // æ¸…é™¤å®šæ—¶å™¨ clearTimeout(this.pingTimeout) clearTimeout(this.reconnectTimeout) // å°è¯•é‡è¿ if (this.reconnectAttempts &lt; this.maxReconnectAttempts) { this.reconnectAttempts++ this.reconnectTimeout = setTimeout(() =&gt; { this.connectWebSocket() }, this.reconnectTimeout) } else { // é‡ç½®é‡è¿æ¬¡æ•° this.reconnectAttempts = 0 console.error('WebSocketManager erros: Max reconnect attempts reached. Unable to reconnect.') } }) // å¤„ç† WebSocket é”™è¯¯äº‹ä»¶ this.socket.addEventListener('error', event =&gt; { console.error('WebSocketManager error:', event) }) } } å¿ƒè·³æœºåˆ¶ å¿ƒè·³æœºåˆ¶ä¸»è¦ç”¨äºæ£€æµ‹å®¢æˆ·ç«¯æ˜¯å¦åœ¨çº¿ï¼Œå¦‚æœå®¢æˆ·ç«¯è¶…è¿‡ä¸€å®šæ—¶é—´æ²¡æœ‰å‘é€æ¶ˆæ¯ï¼ŒæœåŠ¡ç«¯å°±ä¼šæ–­å¼€è¿æ¥ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦æ¯éš”ä¸€æ®µæ—¶é—´å‘é€ä¸€ä¸ªå¿ƒè·³æ¶ˆæ¯ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…é•¿æ—¶é—´çš„è¿æ¥æ–­å¼€ã€‚å…·ä½“å®ç°ä»£ç å¦‚ä¸‹ï¼š export default class WebSocketManager { constructor() { // ...çœç•¥ } /** * å¯åŠ¨å¿ƒè·³æœºåˆ¶ */ startHeartbeat() { this.pingTimeout = setInterval(() =&gt; { // å‘é€å¿ƒè·³æ¶ˆæ¯ this.sendMessage('ping') }, 10000) // æ¯éš” 10 ç§’å‘é€ä¸€æ¬¡å¿ƒè·³ } /** * å‘é€æ¶ˆæ¯ * @param {String} message æ¶ˆæ¯å†…å®¹ */ sendMessage(message) { if (this.socket.readyState === WebSocket.OPEN) { this.socket.send(message); } else { console.error('WebSocketManager error: WebSocket connection is not open. Unable to send message.') } } } æ¥æ”¶æ¶ˆæ¯ è¿™é‡Œæˆ‘ä»¬åªç®€å•å¤„ç†ä¸€ä¸‹ï¼Œæ¥æ”¶åˆ°æ¶ˆæ¯åï¼Œæˆ‘ä»¬æ ¹æ®æ¶ˆæ¯å†…å®¹åšä¸åŒçš„å¤„ç†ã€‚ export default class WebSocketManager { constructor() { // ...çœç•¥ } /** * æ¥æ”¶åˆ°æ¶ˆæ¯ */ receiveMessage(event) { // æ ¹æ®ä¸šåŠ¡è‡ªè¡Œå¤„ç† console.log('receiveMessage:', event.data) this.receiveMessageCallback &amp;&amp; receiveMessageCallback(event.data) } } å…³é—­è¿æ¥ å¦‚æœç”¨æˆ·è¦é€€å‡ºç™»å½•ï¼Œæˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªæ–¹æ³•æ¥å®ç°å…³é—­è¿æ¥ï¼ŒåŒæ—¶æ¸…é™¤å®šæ—¶å™¨ä»¥åŠå½“å‰é‡è¿å°è¯•æ¬¡æ•°ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š export default class WebSocketManager { constructor() { // ...çœç•¥ } /** * å…³é—­è¿æ¥ */ closeWebSocket() { this.socket.close() // æ¸…é™¤å®šæ—¶å™¨ é‡ç½®é‡è¿æ¬¡æ•° clearTimeout(this.pingTimeout) clearTimeout(this.reconnectTimeout) this.reconnectAttempts = 0 } } ä½¿ç”¨æ–¹æ³• å¯¼å…¥WebSocketManageråï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å®ƒäº†ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š /** * æ¥æ”¶æ¶ˆæ¯å›è°ƒ */ const receiveMessage = (res)=&gt;{ console.log('æ¥æ”¶æ¶ˆæ¯å›è°ƒï¼š'res) } const socketManager = new WebSocketManager('ws://example.com/socket', 'userid292992', receiveMessage) socketManager.start() æ€»ç»“ ä»¥ä¸Šå°±æ˜¯ä½¿ç”¨WebSocketçš„ä¸€ä¸ªç®€å•ä¾‹å­ï¼Œå…·ä½“å®ç°æ ¹æ®ä¸šåŠ¡éœ€æ±‚è¿›è¡Œè°ƒæ•´å³å¯ã€‚å…¨éƒ¨ä»£ç æ¯”è¾ƒå¤šï¼Œå°±ä¸åœ¨è¿™é‡Œå±•ç¤ºäº†ï¼Œéœ€è¦çš„å¯ä»¥åˆ°GitHubä¸‹è½½ã€‚ å¾€æœŸæ¨èæ–‡ç« ğŸ“š ğŸ·ï¸å°ç¨‹åºç½‘ç»œç›‘æ§å¤§æ­ç§˜ï¼šå¦‚ä½•å®æ—¶ç›‘å¬ç½‘ç»œå˜åŒ– ğŸ·ï¸&quot;5.25ç§’å˜0.023ç§’ï¼šå°ç¨‹åºå›¾ç‰‡ä¼˜åŒ–å…¨æ”»ç•¥&quot; ğŸ·ï¸å¦‚ä½•å°è£…ä¼˜é›…ã€é«˜æ•ˆçš„uni-appè¯·æ±‚ï¼šè®©å¼€å‘æ›´è½»æ¾ ğŸ·ï¸uni-appå¼€å‘å°ç¨‹åºï¼šé¡¹ç›®æ¶æ„ä»¥åŠç»éªŒåˆ†äº« ğŸ·ï¸å°ç¨‹åºTabBaråˆ›æ„åŠ¨ç”»(æ–‡æœ«é™„å®Œæ•´æºä»£ç ) æœ¬æ–‡é¦–å‘äºé™‡é”¦çš„ä¸ªäººåšå®¢ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ ","link":"https://lonjinup.github.io/WebSocketManager/"},{"title":"å°ç¨‹åºç½‘ç»œç›‘æ§å¤§æ­ç§˜ï¼šå¦‚ä½•å®æ—¶ç›‘å¬ç½‘ç»œå˜åŒ–","content":"å°ç¨‹åºç½‘ç»œç›‘æ§å¤§æ­ç§˜ï¼šå¦‚ä½•å®ç°å®æ—¶ç›‘å¬ç½‘ç»œå˜åŒ– å‰å‡ å¤©å†™äº†ä¸€ç¯‡&quot;5.25ç§’å˜0.023ç§’ï¼šå°ç¨‹åºå›¾ç‰‡ä¼˜åŒ–å…¨æ”»ç•¥&quot; ï¼›ä»‹ç»äº†ä¸€äº›å°ç¨‹åºå›¾ç‰‡ä¼˜åŒ–æŠ€å·§ï¼Œåœ¨æ–‡ç« ä¸­æåˆ°æˆ‘ä»¬å¯ä»¥å€ŸåŠ©å½“å‰ç”¨æˆ·çš„ç½‘ç»œçŠ¶æ€å»åŠ è½½å¯¹åº”åˆ†è¾¨ç‡çš„å›¾ç‰‡ã€‚ä¸‹é¢æˆ‘ä»¬å°±å®ç°ä¸€ä¸‹è¿™ä¸ªåŠŸèƒ½ã€‚ éœ€æ±‚åˆ†æ é¦–å…ˆæˆ‘ä»¬éœ€è¦å»å†™ä¸€ä¸ªä¸‹è½½æ–¹æ³•ï¼Œé€šè¿‡ä¸‹è½½æ¥è®¡ç®—è¯·æ±‚è€—æ—¶ï¼Œç„¶åé€šè¿‡æ‰€éœ€è€—æ—¶æ¥åˆ¤æ–­ç½‘ç»œçŠ¶æ€ï¼Œå¦‚æœç½‘ç»œçŠ¶æ€ä¸å¥½ï¼Œåˆ™è¿›è¡Œå‡ æ¬¡é‡è¯•ï¼Œçœ‹çœ‹æ˜¯å¦æœ‰æ›´å¥½çš„ç½‘ç»œçŠ¶æ€ã€‚åŒæ—¶æˆ‘ä»¬è¿˜éœ€è¦ä½¿ç”¨wx.onNetworkStatusChangeè¿™ä¸ªapiæ¥ç›‘å¬ç½‘ç»œçŠ¶æ€çš„å˜åŒ–ï¼›è¯¥apiä¼šåœ¨ç”¨æˆ·ç½‘ç»œåˆ‡æ¢æ—¶å€™è§¦å‘ï¼Œä¸€æ—¦è§¦å‘ï¼Œæˆ‘ä»¬éœ€è¦é‡æ–°æ‰§è¡Œä¸‹è½½æ–¹æ³•æ¥åˆ¤æ–­å½“å‰çš„ç½‘ç»œçŠ¶æ€ã€‚ åŠŸèƒ½å®ç° æˆ‘è¿™é‡Œdemoä½¿ç”¨uni-appå¼€å‘ï¼Œæ‰€ä»¥æœ‰äº›apiå¯èƒ½æ˜¯uni.å¼€å¤´ï¼Œå¦‚æœä½ ä½¿ç”¨å°ç¨‹åºåŸç”Ÿå¼€å‘ï¼Œæ¢æˆwx.å³å¯ã€‚ æ–°å»º/utils/networkManager.jsï¼Œæˆ‘ä»¬å…ˆå®šä¹‰ä¸€äº›åŸºæœ¬çš„å‚æ•°ï¼š class NetworkManager { constructor() { // æœ€å¤§é‡è¯•æ¬¡æ•° this.MAX_RETRY_COUNT = 3 // å½“å‰é‡è¯•æ¬¡æ•° this.retryCount = 0 // å½“å‰ç½‘ç»œçŠ¶æ€ this.currentNetworkStatus = '' // ç½‘ç»œçŠ¶æ€æ”¹å˜å›è°ƒ this.statusChangeCallback = null // å›¾ç‰‡åœ°å€ this.url = '' } } ç„¶åæˆ‘ä»¬å»æ·»åŠ ä¸¤ä¸ªå‡½æ•°ï¼Œç”¨æ¥è®¾ç½®å›¾ç‰‡åœ°å€å’Œç½‘ç»œçŠ¶æ€æ”¹å˜çš„å›è°ƒå‡½æ•°ï¼š class NetworkManager { constructor() { // ...çœç•¥ } /** * è®¾ç½®ç½‘ç»œçŠ¶æ€å˜åŒ–çš„å›è°ƒå‡½æ•° * @param {*} callback */ setChangeCallback(callback) { this.statusChangeCallback = callback } // è®¾ç½®è¯·æ±‚çš„url setRequestUrl(url) { this.url = url } } å¦‚ä½•åˆ¤æ–­å½“å‰ç½‘ç»œåˆ°åº•å¥½ä¸å¥½å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥é€šè¿‡uni.downloadFileæ¥ä¸‹è½½ä¸€å¼ 1M-2Må¤§å°çš„å›¾ç‰‡ï¼Œé€šè¿‡ä¸‹è½½æ—¶é—´æ¥åˆ¤æ–­ç½‘ç»œæƒ…å†µã€‚å½“è¯·æ±‚è€—æ—¶åœ¨1000msä»¥å†…ï¼Œåˆ™è®¤ä¸ºç½‘ç»œæå¥½ï¼Œå¦‚æœä»‹äº1000-1500msä¹‹é—´ï¼Œåˆ™è®¤ä¸ºç½‘ç»œå¥½ï¼Œå¦‚æœå¤§äº1500msï¼Œåˆ™è®¤ä¸ºç½‘ç»œå·®ã€‚å¦‚æœç½‘ç»œéå¸¸å·®çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å¤šè¯·æ±‚å‡ æ¬¡ï¼Œæ¥æŒç»­åˆ¤æ–­ç½‘ç»œæ˜¯å¦æœ‰å¥½è½¬ï¼Œå¦‚æœè¶…è¿‡æˆ‘ä»¬å®šä¹‰çš„æœ€å¤§é‡è¯•æ¬¡æ•°å°±åœæ­¢è¯·æ±‚ã€‚ class NetworkManager { constructor() { // ...çœç•¥ } // è¯·æ±‚æ–¹æ³• request() { return new Promise((resolve, reject) =&gt; { // è®°å½•å½“å‰æ—¶é—´ const startTime = Date.now() uni.downloadFile({ url: `${this.url}?timer=${startTime}`, success: (res) =&gt; { // è®°å½•ç»“æŸæ—¶é—´ const endTime = Date.now() // æ—¶é—´å·® const duration = endTime - startTime // åˆ¤æ–­ç½‘ç»œæƒ…å†µ this.checkNetworkStatus(duration) resolve(res) }, fail: (res) =&gt; { // è¿›è¡Œé‡è¯• this.retryCount++ if (this.retryCount &lt; this.MAX_RETRY_COUNT) { this.request() } else { console.log('ç½‘ç»œçŠ¶æ€ä¸ä½³ï¼Œå·²åœæ­¢') // é‡è¯•æ¬¡æ•°å½’é›¶ this.retryCount = 0 reject(res) } }, }) }) } /** * åˆ¤æ–­ç½‘ç»œçŠ¶æ€ * @param {*} duration è¯·æ±‚è€—æ—¶ms */ checkNetworkStatus(duration) { const previousStatus = this.currentNetworkStatus if (duration &lt; 1000) { this.currentNetworkStatus = 'veryGood' } else if (duration &gt;= 1000 &amp;&amp; duration &lt;= 1500) { this.currentNetworkStatus = 'good' } else { this.currentNetworkStatus = 'poor' // è¯·æ±‚å¤±è´¥ï¼Œå¼€å§‹åˆ¤æ–­ if (this.retryCount &lt; this.MAX_RETRY_COUNT) { this.retryCount++ this.request() } else { // è¾¾åˆ°æœ€å¤§é‡è¯•æ¬¡æ•°ï¼Œåœæ­¢é€’å½’ this.retryCount = 0 console.log('ç½‘ç»œçŠ¶æ€ä¸ä½³ï¼Œå·²åœæ­¢') } } // åˆ¤æ–­ç½‘ç»œçŠ¶æ€æ˜¯å¦å‘ç”Ÿå˜åŒ–,å¦‚æœæœ‰å˜åŒ–ï¼Œå°±é€šçŸ¥å›è°ƒå‡½æ•° if (previousStatus !== this.currentNetworkStatus &amp;&amp; this.statusChangeCallback) { this.statusChangeCallback(this.currentNetworkStatus) } } } æœ€åæˆ‘ä»¬è¿˜éœ€è¦å†™ä¸€ä¸ªå¼€å¯å‡½æ•°ï¼Œç”¨æ¥å¯åŠ¨ç½‘ç»œç›‘å¬ï¼ŒåŒæ—¶ä½¿ç”¨uni.onNetworkStatusChangeæ¥ç›‘å¬ç”¨æˆ·ç½‘ç»œç¯å¢ƒå˜åŒ–ï¼Œå¦‚æœæœ‰å˜åŒ–åˆ™è¿›è¡Œä¸€æ¬¡è¯·æ±‚ã€‚ class NetworkManager { constructor() { // ...çœç•¥ } /** * å¼€å¯ç›‘å¬ * @returns */ start() { if (!this.url) { console.error('è¯·è®¾ç½®è¯·æ±‚çš„url') return } // æ‰§è¡Œè¯·æ±‚ this.request() // ç½‘ç»œç¯å¢ƒå˜æ¢åï¼Œé‡æ–°è¯·æ±‚ uni.onNetworkStatusChange(() =&gt; { this.request() }) } } ä½¿ç”¨æ–¹å¼ æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æœ€ç»ˆçš„ä½¿ç”¨æ–¹å¼ï¼š // ä½¿ç”¨ç¤ºä¾‹ const networkManager = new NetworkManager() // è®¾ç½®è¯·æ±‚çš„url networkManager.setRequestUrl('https://lonjin.oss-cn-beijing.aliyuncs.com/weixin-test/wallhaven-o5g125.jpeg') // è®¾ç½®ç½‘ç»œçŠ¶æ€å˜åŒ–çš„å›è°ƒå‡½æ•° networkManager.setChangeCallback((newStatus) =&gt; { // è¿™é‡Œå¯ä»¥æŠŠç»“æœå­˜åˆ°å…¨å±€å˜é‡ä¸­ï¼Œåœ¨å…¶ä»–é¡µé¢æ–¹ä¾¿ä½¿ç”¨ console.log('ç½‘ç»œçŠ¶æ€å˜åŒ–:', newStatus) }) // å¯åŠ¨ networkManager.start() æ€»ç»“ æˆ‘ä»¬é€šè¿‡uni.downloadFileæ¥ä¸‹è½½ä¸€å¼ å›¾ç‰‡ï¼Œé€šè¿‡ä¸‹è½½æ—¶é—´æ¥åˆ¤æ–­ç½‘ç»œæƒ…å†µï¼Œç„¶åé€šè¿‡uni.onNetworkStatusChangeç›‘å¬ç½‘ç»œç¯å¢ƒå˜åŒ–ï¼Œå½“ç½‘ç»œç¯å¢ƒå˜åŒ–æ—¶ï¼Œé‡æ–°è¯·æ±‚ï¼›ä»è€Œå»æ ¹æ®ç½‘ç»œçŠ¶æ€å»è¯·æ±‚ä¸åŒå¤§å°çš„èµ„æºæ–‡ä»¶ï¼Œå‡å°‘ç™½å±æ—¶é—´ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚ å¾€æœŸæ¨èæ–‡ç« ğŸ“šï¼š ğŸ·ï¸&quot;5.25ç§’å˜0.023ç§’ï¼šå°ç¨‹åºå›¾ç‰‡ä¼˜åŒ–å…¨æ”»ç•¥&quot; ğŸ·ï¸å¦‚ä½•å°è£…ä¼˜é›…ã€é«˜æ•ˆçš„uni-appè¯·æ±‚ï¼šè®©å¼€å‘æ›´è½»æ¾ ğŸ·ï¸uni-appå¼€å‘å°ç¨‹åºï¼šé¡¹ç›®æ¶æ„ä»¥åŠç»éªŒåˆ†äº« ğŸ·ï¸å°ç¨‹åºTabBaråˆ›æ„åŠ¨ç”»(æ–‡æœ«é™„å®Œæ•´æºä»£ç ) ","link":"https://lonjinup.github.io/weixin-onNetworkStatusChange/"},{"title":"\"5.25ç§’å˜0.023ç§’ï¼šå°ç¨‹åºå›¾ç‰‡ä¼˜åŒ–å…¨æ”»ç•¥\"","content":"&quot;5.25ç§’å˜0.023ç§’ï¼šå°ç¨‹åºå›¾ç‰‡ä¼˜åŒ–å…¨æ”»ç•¥&quot; æœ€è¿‘åœ¨å…¬å¸åœ¨å†™å¾®ä¿¡å°ç¨‹åºï¼Œè¯¥å°ç¨‹åºä¸»è¦å±•ç¤ºä¸€äº›é«˜æ¸…å›¾ç‰‡ï¼Œæ‰€ä»¥å›¾ç‰‡æ•°é‡éå¸¸å¤šï¼Œè€Œä¸”å›¾ç‰‡å°ºå¯¸ä¹Ÿæ¯”è¾ƒå¤§ï¼Œå¯¼è‡´å°ç¨‹åºçš„åŠ è½½æ—¶é—´éå¸¸é•¿ã€‚æ‰€ä»¥è¿™é‡Œè®°å½•ä¸€ä¸‹å¦‚ä½•å‡å°‘å°ç¨‹åºå›¾ç‰‡çš„åŠ è½½æ—¶é—´ã€‚ ä¼˜åŒ–å‰ è¿™é‡Œæˆ‘æŒ‘é€‰äº†ä¸€äº›é¡¹ç›®é‡Œé¢æ¯”è¾ƒå¤§çš„å›¾ç‰‡ï¼Œè¿˜æœ‰æˆ‘ä¹‹å‰ä¿å­˜çš„ä¸€äº›èƒŒæ™¯å›¾ï¼Œå…±è®¡12å¼ ï¼Œä¸Šä¼ åˆ°é˜¿é‡Œäº‘ossï¼Œç„¶åå†™äº†ä¸€ä¸ªdemoå»æ¸²æŸ“å›¾ç‰‡ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆçœ‹çœ‹åŠ è½½æ—¶é—´ã€‚ å¯ä»¥çœ‹åˆ°ï¼Œä¸€æ—¦æ–‡ä»¶å¤§å°åˆ°äº†1Mä»¥ä¸Šï¼ŒåŠ è½½åŸºæœ¬éƒ½åœ¨1ç§’ä»¥ä¸Šäº†ï¼Œè€Œä¸”åŠ è½½æœ€æ…¢çš„ä¸€å¼ å›¾ç‰‡å¤§å°ä¸º2.4Mï¼›åŠ è½½è€—æ—¶5.27ç§’ã€‚ç„¶è€Œåœ¨è¿™ä¸ªå°ç¨‹åºä¸­ï¼Œæœ‰éå¸¸å¤šçš„ç€‘å¸ƒæµå›¾ç‰‡å±•ç¤ºï¼Œéœ€è¦åŠ è½½çš„å›¾ç‰‡ä¹Ÿéå¸¸å¤šï¼Œè¿™å¯¹äºè¿™ç§å›¾ç‰‡å±•ç¤ºç±»çš„å°ç¨‹åºæ¥è¯´ï¼Œç®€ç›´æ˜¯éå¸¸ç³Ÿç³•çš„ä½“éªŒã€‚ä¸‹é¢æˆ‘ä»¬å°±åˆ†æä¸€ä¸‹ï¼Œå¦‚ä½•æå‡ç”¨æˆ·ä½“éªŒï¼Œç¼©çŸ­åŠ è½½æ—¶é—´ã€‚ åˆ†æä¼˜åŒ– è¿™é‡Œæˆ‘æ€»ç»“äº†ä¸€äº›å¸¸è§å›¾ç‰‡ä¼˜åŒ–ç­–ç•¥ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š ä¸‹é¢æˆ‘ä»¬å°±æ ¹æ®æ€»ç»“çš„ä¼˜åŒ–ç­–ç•¥è¿›è¡Œä¼˜åŒ–ï¼Œå…·ä½“å¦‚ä¸‹ï¼š ä¼˜åŒ–1ï¼šä½¿ç”¨webpæ ¼å¼çš„å›¾ç‰‡ é¦–å…ˆæˆ‘ä»¬çŸ¥é“ï¼Œåœ¨å°ç¨‹åºä¸­æ˜¯æ”¯æŒwebpæ ¼å¼çš„å›¾ç‰‡çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†å›¾ç‰‡è½¬æ¢ä¸ºwebpæ ¼å¼ï¼Œè¿™æ ·å¯ä»¥å‡å°‘å›¾ç‰‡ä½“ç§¯ï¼Œæå‡åŠ è½½é€Ÿåº¦ã€‚ å…¬å¸ä½¿ç”¨çš„é˜¿é‡Œäº‘ossè¿›è¡Œå›¾ç‰‡å­˜å‚¨ï¼Œé˜¿é‡Œäº‘ossæ˜¯æ”¯æŒæ ¼å¼è½¬æ¢çš„ï¼Œåªéœ€è¦åœ¨å›¾ç‰‡urlåé¢åŠ ä¸€å®šçš„å‚æ•°å³å¯ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å›¾ç‰‡åé¢åŠ ä¸Š?x-oss-process=image/format,webpå³å¯ã€‚ // åŸæœ¬å›¾ç‰‡è·¯å¾„ï¼š let url =' https://lonjin.oss-cn-beijing.aliyuncs.com/weixin-test/3%20%282%2917047050403470042.png' // è½¬åŒ–ä¸ºwebpæ ¼å¼çš„å›¾ç‰‡è·¯å¾„ï¼š let url =' https://lonjin.oss-cn-beijing.aliyuncs.com/weixin-test/3%20%282%2917047050403470042.png?x-oss-process=image/format,webp' æ¸…é™¤ç¼“å­˜ï¼Œåˆ·æ–°é¡µé¢ï¼Œå†æ¥çœ‹åŠ è½½æ—¶é—´ï¼š å¯ä»¥çœ‹åˆ°ï¼ŒåŠ è½½æ—¶é—´å¤§å¹…ç¼©çŸ­ï¼Œå›¾ç‰‡æ ¼å¼è½¬åŒ–åï¼Œå›¾ç‰‡å¤§å°å·²ç»éå¸¸å°äº†ï¼Œæœ€å¤§çš„ä¸€å¼ å›¾ç‰‡ä»…ä»…æœ‰730kbï¼›éšä¹‹åŠ è½½æ—¶é—´ä¹Ÿå¤§å¹…ç¼©çŸ­ï¼Œæœ€æ…¢çš„ä¸€å¼ å›¾ç‰‡ä»ä¹‹å‰çš„5.27ç§’ç¼©çŸ­ä¸º1.71ç§’ï¼ŒåŠ è½½é€Ÿåº¦æå‡äº†3å€ï¼å…¶ä»–çš„å›¾ç‰‡åŠ è½½åŸºæœ¬éƒ½åœ¨500mså·¦å³ï¼ŒåŠ è½½é€Ÿåº¦æå‡ä¹Ÿæ˜¯æ¯”è¾ƒæ˜æ˜¾ã€‚ è¿™é‡Œæˆ‘ä»¬è¿˜éœ€è¦æ³¨æ„ä¸€ä¸‹webpå›¾ç‰‡æ ¼å¼çš„æ”¯æŒèŒƒå›´ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„uni-appåšä¸ºdemoï¼ŒæŸ¥äº†ä¸€ä¸‹æ–‡æ¡£ï¼Œæ”¯æŒèŒƒå›´å¦‚ä¸‹ï¼š Android4ä»¥ä¸Šï¼ˆå«ï¼‰ã€iOS14ä»¥ä¸Šï¼ˆå«ï¼‰ç³»ç»Ÿå†…ç½®æ”¯æŒwebpï¼Œæ­¤æ—¶ï¼Œä¸ç®¡webã€å°ç¨‹åºã€appï¼Œä¹Ÿä¸ç®¡vue/nvue/uvueéƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨webpï¼› iOS14ä»¥ä¸‹ï¼Œapp-vueä¸‹ï¼ŒiOSä¸æ”¯æŒï¼›app-nvue/uvueä¸‹ï¼ŒiOSæ”¯æŒï¼›å¾®ä¿¡å°ç¨‹åº2.9.0èµ·ï¼Œé…ç½®å±æ€§webpä¸ºtrueæ—¶iOSæ”¯æŒï¼› æ‰€ä»¥å¦‚æœè€ƒè™‘ä¸€äº›ç‰¹æ®Šæƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œä¸€äº›ç‰¹æ®Šæƒ…å†µä¸‹çš„å¤„ç†ã€‚ å¦‚æœæ–‡ä»¶æ˜¯ç›´æ¥æ”¾åœ¨æœåŠ¡å™¨ä¸Šçš„ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©ä¸€äº›ç¬¬ä¸‰æ–¹å·¥å…·æ¥æŠŠå›¾ç‰‡æ‰¹é‡è½¬åŒ–ä¸ºwebpæ ¼å¼ï¼›æ¯”å¦‚convertio.co ä¼˜åŒ–2ï¼šæ ¹æ®éœ€æ±‚è®¾ç½®é€‚å½“çš„åˆ†è¾¨ç‡ é˜¿é‡Œäº‘ossæ”¯æŒåœ¨å›¾ç‰‡åé¢åŠ ä¸Šå‚æ•°æ¥è®¾ç½®å›¾ç‰‡çš„åˆ†è¾¨ç‡ï¼Œæˆ‘è¿™é‡Œå†™çš„demoä¸­ï¼Œimageæ ‡ç­¾å›¾ç‰‡å®½åº¦å‡ä¸ºå°ç¨‹åºå›¾ç‰‡é»˜è®¤å®½åº¦ï¼›å³ä¸ºwidth: 320px;ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç»™å›¾ç‰‡urlåé¢åŠ ä¸Š/resize,w_320å³å¯ï¼Œå…¶ä¸­w_320è¡¨ç¤ºå›¾ç‰‡å®½åº¦ä¸º320pxã€‚ // åŸæœ¬å›¾ç‰‡è·¯å¾„ï¼š let url =' https://lonjin.oss-cn-beijing.aliyuncs.com/weixin-test/3%20%282%2917047050403470042.png?x-oss-process=image/format,webp' // è®¾ç½®å®½åº¦åçš„å›¾ç‰‡è·¯å¾„ï¼š let url =' https://lonjin.oss-cn-beijing.aliyuncs.com/weixin-test/3%20%282%2917047050403470042.png?x-oss-process=image/format,webp/resize,w_320' æ¸…é™¤ç¼“å­˜ï¼Œåˆ·æ–°é¡µé¢ï¼Œå†æ¥çœ‹åŠ è½½æ—¶é—´ï¼š å›¾ç‰‡å¤§å°å¤§å¹…åº¦å‡å°‘ï¼Œæœ€å¤§çš„ä¸€å¼ å›¾ç‰‡ä»…ä»…æœ‰15.4 kBï¼›éšä¹‹åŠ è½½æ—¶é—´ä¹Ÿå¤§å¹…ç¼©çŸ­ï¼Œæœ€æ…¢çš„ä¸€å¼ å›¾ç‰‡ä»ä¹‹å‰çš„1.71ç§’ç¼©çŸ­ä¸º316æ¯«ç§’ï¼ŒåŠ è½½é€Ÿåº¦æå‡äº†5å€ï¼è¿™æ—¶å€™æ‰€æœ‰å›¾ç‰‡çš„åŠ è½½é€Ÿåº¦å…¨éƒ¨æ²¡æœ‰è¶…è¿‡1ç§’ï¼Œæœ€å¤§ä¸è¶…è¿‡350msï¼›åŸºæœ¬ä¸Šç®—æ˜¯è´¨çš„é£è·ƒäº†ã€‚ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå›¾ç‰‡åˆ†è¾¨ç‡è¿˜æ˜¯éœ€è¦ç»“åˆä¸šåŠ¡éœ€æ±‚è¿›è¡Œè°ƒæ•´çš„ï¼Œå¦‚æœè¦æ±‚å¿…é¡»é«˜æ¸…ï¼Œä¸å»ºè®®è®¾ç½®å¤ªå°çš„åˆ†è¾¨ç‡ã€‚ä¸è¿‡æˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªæ£€æµ‹ç”¨æˆ·ç½‘ç»œçŠ¶æ€çš„æ–¹æ³•ï¼Œåœ¨ä¸åŒçš„ç½‘ç»œç¯å¢ƒä¸‹åŠ è½½ä¸åŒåˆ†è¾¨ç‡çš„å›¾ç‰‡ï¼›åé¢æˆ‘ä¼šä¸“é—¨æ¥å†™ä¸€ç¯‡æ–‡ç« æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚ ä¼˜åŒ–3ï¼šä½¿ç”¨é›ªç¢§å›¾ é›ªç¢§å›¾ï¼Œä¹Ÿå«Spriteï¼Œæ˜¯å°†å¤šä¸ªå°å›¾ç‰‡åˆå¹¶æˆä¸€å¼ å¤§å›¾ï¼Œç„¶ååœ¨é¡µé¢ä¸­ä½¿ç”¨background-imageå’Œbackground-positionå±æ€§æ¥æ˜¾ç¤ºå…¶ä¸­çš„æŸä¸€å¼ å›¾ç‰‡ã€‚è¿™æ ·å¯ä»¥å‡å°‘å›¾ç‰‡çš„åŠ è½½æ¬¡æ•°ï¼Œå‡å°‘å›¾ç‰‡çš„å¤§å°ï¼ŒåŒæ—¶å‡å°‘å›¾ç‰‡çš„åŠ è½½æ—¶é—´ã€‚åœ¨é¡¹ç›®ä¸­éš¾å…ä¼šæœ‰å¾ˆå¤šå°å›¾æ ‡ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨é›ªç¢§å›¾çš„æ–¹å¼æ¥ä½¿ç”¨ï¼Œå‡å°‘è¯·æ±‚æ¬¡æ•°ã€‚è¿™é‡Œæˆ‘å°±ä¸åšå±•ç¤ºäº†ã€‚ ä¼˜åŒ–4ï¼šåˆç†ä½¿ç”¨å ä½å›¾ç‰‡ é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸ºäº†å†…å®¹çš„åŠ¨æ€å±•ç¤ºï¼Œéœ€è¦é€šè¿‡ç½‘ç»œè¯·æ±‚ä»æ¥å£ä¸­è·å–å›¾ç‰‡çš„urlã€‚å¦‚æœåœ¨ç½‘ç»œæ…¢çš„æƒ…å†µä¸‹ï¼ŒimageåŠ è½½å›¾ç‰‡çš„è¿‡ç¨‹å¯èƒ½ä¼šéå¸¸æ…¢ï¼Œåœ¨è¯·æ±‚å®Œæˆä¹‹å‰é¡µé¢éƒ½ä¼šå› ä¸ºæ²¡æœ‰æ•°æ®è€Œå‘ˆç°ä¸€ç‰‡ç©ºç™½ï¼Œè¿™æ˜¯éå¸¸å·®çš„ç”¨æˆ·ä½“éªŒï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©å°ç¨‹åºimageæ ‡ç­¾ä¸Šçš„@error å’Œ@loadäº‹ä»¶æ¥å®ç°å ä½å›¾ç‰‡çš„å±•ç¤ºã€‚æˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€æ±‚å»å°è£…ä¸€ä¸ªLoadImageç»„ä»¶ç»Ÿä¸€å¤„ç†ï¼Œä¸Šé¢æåˆ°çš„ä¼˜åŒ–1ã€ä¼˜åŒ–2ä¹Ÿå¯ä»¥é€šè¿‡å®šä¹‰å‚æ•°å®ç°æ‰¹é‡æ·»åŠ ï¼ŒåŒæ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™ç»„ä»¶åŠ ä¸ŠlazyLoadï¼Œå‡è½»å°ç¨‹åºåŠ è½½å‹åŠ›ã€‚ ç»„ä»¶å…·ä½“ä»£ç å¦‚ä¸‹ï¼š &lt;template&gt; &lt;view class=&quot;loadImage-wrapper&quot;&gt; &lt;image v-if=&quot;isLoading&quot; :src=&quot;defaultImage&quot; :mode=&quot;mode&quot; :lazy-load=&quot;lazyLoad&quot; /&gt; &lt;image :class=&quot;[isLoading ? 'before-load' : '']&quot; :src=&quot;imageUrl&quot; :mode=&quot;mode&quot; :lazy-load=&quot;lazyLoad&quot; @load=&quot;imageLoad&quot; /&gt; &lt;/view&gt; &lt;/template&gt; &lt;script&gt; export default { props: { /** * å ä½å›¾ * @default /static/images/load-image.png */ defaultImage: { type: String, default: '/static/load-image.png', }, /** * æ˜¯å¦ä½¿ç”¨webp * @default false */ useWebp: { type: Boolean, default: false, }, /** * å›¾ç‰‡çš„æ˜¾ç¤ºæ¨¡å¼ * @default scaleToFill */ mode: { type: String, default: 'scaleToFill', }, /** * å›¾ç‰‡åŠ è½½åˆ†è¾¨ç‡-å®½åº¦ * @default */ width: { type: String, default: '', }, /** * æ˜¯å¦æ‡’åŠ è½½ * @default true */ lazyLoad: { type: Boolean, default: true, }, /** * å›¾ç‰‡åœ°å€ * @default */ src: { type: String, default: '', }, }, data() { return { isLoading: true, } }, methods: { imageLoad() { this.isLoading = false }, }, computed: { imageUrl() { let url = this.src + '?' this.useWebp &amp;&amp; (url += 'x-oss-process=image/format,webp') this.width &amp;&amp; (url += '/resize,w_' + this.width) return url } }, } &lt;/script&gt; &lt;style lang=&quot;scss&quot; scoped&gt; .loadImage-wrapper { .before-load { width: 0; height: 0; opacity: 0; } } &lt;/style&gt; ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š &lt;template&gt; &lt;view class=&quot;list&quot;&gt; &lt;load-image v-for=&quot;(item, index) in list&quot; :src=&quot;item&quot; :lazyLoad=&quot;false&quot; useWebp :width=&quot;320&quot; :key=&quot;index&quot; /&gt; &lt;/view&gt; &lt;/template&gt; ä¼˜åŒ–åæ•ˆæœå¯¹æ¯” æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹ä¼˜åŒ–å‰åçš„åŠ è½½æ—¶é—´å¯¹æ¯”ï¼š ä¼˜åŒ–å‰ï¼š ä¼˜åŒ–åï¼š æˆ‘ä»¬ç”¨ä¸€å¼ å›¾ç‰‡æ¥åšå¯¹æ¯”ï¼š å›¾ç‰‡åç§° å¤§å° åŠ è½½æ—¶é—´ ä¼˜åŒ–å‰ wallhaven-we3z86.jpeg 2.4MB 5.27s ä¼˜åŒ–å wallhaven-we3z86.jpeg 15.3KB 23ms å¯ä»¥çœ‹åˆ°ç›¸å¯¹ä½“ç§¯è€Œè¨€ï¼Œç¼©å°äº†99.4%ï¼›ç›¸å¯¹åŠ è½½æ—¶é—´ï¼Œç¼©çŸ­äº†5.25ç§’ï¼Œåœ¨å‡ ä¹ä¸å½±å“å›¾ç‰‡è´¨é‡çš„æƒ…å†µä¸‹ï¼Œæå¤§çš„æå‡äº†ç”¨æˆ·ä½“éªŒã€‚ æ€»ç»“ å…³äºå°ç¨‹åºçš„å›¾ç‰‡ä¼˜åŒ–ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚ä»¥åŠæŠ€æœ¯æ”¯æŒæ¥é€‰æ‹©ä¸åŒçš„æ–¹æ¡ˆï¼Œè¿™é‡Œæˆ‘åªåˆ—å‡ºäº†å‡ ä¸ªæœ€å¸¸ç”¨çš„æ–¹æ¡ˆï¼Œå¦‚æœä¸šåŠ¡éœ€æ±‚æ¯”è¾ƒå¤æ‚ï¼Œå¯ä»¥å¤šå°è¯•ä¸€äº›æ–¹æ¡ˆã€‚ å¾€æœŸæ–‡ç«  5åˆ†é’Ÿgetï¼šUni-Appç½‘ç»œè¯·æ±‚å®Œç¾å°è£…æŒ‡å—ï¼ uni-appå¼€å‘å°ç¨‹åºï¼šé¡¹ç›®æ¶æ„ä»¥åŠç»éªŒåˆ†äº« å°ç¨‹åºTabBaråˆ›æ„åŠ¨ç”»(æ–‡æœ«é™„å®Œæ•´æºä»£ç ) æœ¬æ–‡é¦–å‘äºlonjinä¸ªäººåšå®¢ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ ","link":"https://lonjinup.github.io/weixn-image-time/"},{"title":"nodeé¡¹ç›®å®æˆ˜-01å®ç°æ³¨å†Œç™»å½•","content":"nodeé¡¹ç›®å®æˆ˜-01å®ç°æ³¨å†Œç™»å½• 1.é¡¹ç›®å‡†å¤‡ å‰é¢æˆ‘ä»¬å·²ç»æ­å»ºäº†ä¸€ä¸ªåŸºç¡€çš„é¡¹ç›®æ¨¡ç‰ˆï¼Œç°åœ¨æˆ‘ä»¬å°±ç”¨è¿™ä¸ªé¡¹ç›®æ¨¡ç‰ˆæ¥åšä¸€ä¸ªç®€å•çš„é¡¹ç›®ã€‚é¦–å…ˆæˆ‘ä»¬å®‰è£…mongooseæ¨¡å—ï¼š npm install mongoose --save mongooseæ˜¯MongoDBçš„Node.jsé©±åŠ¨ç¨‹åºï¼Œå®ƒä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§åœ¨Node.jsä¸­ä½¿ç”¨MongoDBçš„ç®€å•æ–¹æ³•ã€‚åé¢æˆ‘ä»¬ä¼šè¯¦ç»†ä»‹ç»ä»–çš„ä½¿ç”¨æ–¹æ³•ã€‚ æ³¨å†Œæ¥å£ æˆ‘ä»¬å…ˆæ¥å®ç°ä¸€ä¸ªæ³¨å†Œæ¥å£ï¼Œè¿™ä¸ªæ¥å£æ¥æ”¶ä¸€ä¸ªå‚æ•°usernameã€emailã€passwordã€phoneï¼Œç„¶åå°†è¿™ä¸ªå‚æ•°ä¿å­˜åˆ°æ•°æ®åº“ä¸­ã€‚ é¦–å…ˆæˆ‘ä»¬åˆ†åˆ«åˆ›å»ºå…³äºç”¨æˆ·åŠŸèƒ½çš„routerå’Œcontrollerï¼›æ–°å»º/router/user.jså’Œ/controller/userController.jsï¼š /router/user.jså†…å®¹å¦‚ä¸‹ï¼š const express = require('express') const router = express.Router() const userController = require('../controller/userController') router .post('/register', userController.register) module.exports = router /controller/userController.jså†…å®¹å¦‚ä¸‹ï¼Œé¡ºä¾¿æ‰“å°ä¸€ä¸‹æˆ‘ä»¬æ¥å—åˆ°å‚æ•°ï¼š exports.register = async (req, res) =&gt; { console.log(req.body) } ç„¶åæˆ‘ä»¬åœ¨/router/index.jsä¸­å¼•å…¥è¿™ä¸ªè·¯ç”±ï¼š const express = require('express') const router = express.Router() const user = require('./user') router.use('/user', user) module.exports = router è¿è¡Œé¡¹ç›®ï¼š npm run dev å½“æˆ‘ä»¬ä½¿ç”¨Postmanæˆ–è€…apifoxè®¿é—®http://localhost:3000/user/registerå¹¶ä¼ å…¥å‚æ•°ï¼Œæ§åˆ¶å°å°±ä¼šæ‰“å°æˆ‘ä»¬ä¼ å…¥çš„å‚æ•°ï¼š { &quot;username&quot;: &quot;test&quot;, &quot;email&quot;: &quot;test@test.com&quot;, &quot;password&quot;: &quot;123456&quot;, &quot;phone&quot;: &quot;12345678901&quot; } æ‹¿åˆ°å‚æ•°ä»¥åæˆ‘ä»¬éœ€è¦æŠŠè¿™äº›æ•°æ®å­˜å…¥åˆ°æ•°æ®åº“ä¸­ï¼Œè¿™æ—¶å€™å°±éœ€è¦ç”¨åˆ°å¼€å¤´æåˆ°çš„mongooseè¿›è¡Œå¤„ç†ã€‚ ä½¿ç”¨mongooseå­˜å‚¨æ•°æ® é¦–å…ˆæ–°å»º/model/index.jsï¼Œå¼•å…¥mongooseï¼ŒåŒæ—¶è¿›è¡Œè¿æ¥æ•°æ®åº“çš„æ“ä½œï¼š const mongoose = require('mongoose') async function main() { await mongoose.connect('mongodb://localhost:27017/nodeDemo') } main().then(res =&gt; { console.log('mongoè¿æ¥æˆåŠŸ') }).catch(error =&gt; { console.log('mongoè¿æ¥å¤±è´¥', error) }) ç„¶åæˆ‘ä»¬åœ¨å½“å‰æ–‡ä»¶å¤¹ä¸­å†å»ºç«‹ä¸€ä¸ªuserModel.jsæ–‡ä»¶ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­å®šä¹‰ä¸€ä¸ªuserSchemaï¼Œæœ€åå¯¼å‡º const mongoose = require('mongoose') const userSchema = new mongoose.Schema({ username: { type: String, //æ•°æ®ç±»å‹ required: true, //æ•°æ®æ˜¯å¦å¿…é¡» trim: true, //å»é™¤ä¸¤è¾¹ç©ºæ ¼ minlength: 4, //æœ€å°é•¿åº¦ maxlength: 18, //æœ€å¤§é•¿åº¦ validate: { validator: function (v) { return /^[a-zA-Z0-9_-]{4,18}$/.test(v) }, message: '{VALUE}ä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„ç”¨æˆ·å' } }, email: { type: String, required: true, trim: true, validate: { validator: function (v) { return /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/.test(v) }, message: '{VALUE}ä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„é‚®ç®±' } }, password: { type: String, required: true, }, phone: { type: String, required: true, unique: true, trim: true, validate: { validator: function (v) { return /^1[34578]\\d{9}$/.test(v) }, message: '{VALUE}ä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„æ‰‹æœºå·' } }, avatar: { type: String, default: null }, createTime: { type: Date, default: Date.now }, updateTime: { type: Date, default: Date.now } }) module.exports = userSchema å…³äºmongoose.Schemaçš„è¯¦ç»†ä½¿ç”¨æ–¹æ³•å¯ä»¥å‚è€ƒmongooseæ–‡æ¡£ã€‚ å¯¼å‡ºä¹‹åï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦åœ¨/model/index.jsä¸­è¿›è¡Œé›†ä¸­çš„å¯¼å‡ºï¼Œåˆ°æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥åœ¨å…¶ä»–åœ°æ–¹è¿›è¡Œå¯¼å…¥ä½¿ç”¨äº†ï¼Œæœ€ç»ˆçš„/model/index.jså†…å®¹å¦‚ä¸‹ï¼š const mongoose = require('mongoose') async function main() { await mongoose.connect('mongodb://localhost:27017/nodeDemo') } main().then(res =&gt; { console.log('mongoè¿æ¥æˆåŠŸ') }).catch(error =&gt; { console.log('mongoè¿æ¥å¤±è´¥', error) }) //å¯¼å‡ºæ¨¡å— module.exports = { User: mongoose.model('User', require('./userModel')) } å†å›åˆ°åˆšæ‰çš„/controller/userController.jsä¸­ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œä¿®æ”¹ï¼Œå°†registeræ–¹æ³•ä¸­çš„console.log(req.body)æ”¹ä¸ºï¼š const { User } = require('../model/index') exports.register = async (req, res) =&gt; { console.log(req.body) const userModel = new User(req.body) const dbBack = await userModel.save() res.status(201).json(dbBack) } è¿™æ ·ä¸€æ¥ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨Postmanæˆ–è€…apifoxè®¿é—®http://localhost:3000/user/registerå¹¶ä¼ å…¥å‚æ•°ï¼Œæ§åˆ¶å°å°±ä¼šæ‰“å°æˆ‘ä»¬ä¼ å…¥çš„å‚æ•°ï¼Œå¹¶ä¸”å°†è¿™äº›å‚æ•°ä¿å­˜åˆ°æ•°æ®åº“ä¸­ã€‚ å¯†ç åŠ å¯† åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å°†å¯†ç æ˜æ–‡å­˜å…¥äº†æ•°æ®åº“ä¸­ï¼Œè¿™æ ·æ˜¾ç„¶æ˜¯ä¸å®‰å…¨çš„ï¼Œæˆ‘ä»¬éœ€è¦å¯¹å¯†ç è¿›è¡ŒåŠ å¯†å¤„ç†ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨cryptoä¸­çš„createHashå‡½æ•°å¯¹å¯†ç è¿›è¡ŒåŠ å¯†ï¼Œç„¶åå°†åŠ å¯†åçš„å¯†ç å­˜å…¥æ•°æ®åº“ä¸­ã€‚ æ–°å»ºutil/md5.jsï¼›å¹¶å¼•å…¥cryptoï¼š const crypto = require('crypto') /** * md5åŠ å¯† * @param str * @returns {string} */ module.exports = str =&gt; crypto.createHash('md5').update('lonjin' + str).digest('hex') crypto.createHash('md5'): åˆ›å»ºä¸€ä¸ªç”¨äº MD5 æ•£åˆ—çš„ Hash å¯¹è±¡ã€‚md5 è¡¨ç¤ºé‡‡ç”¨ MD5 ç®—æ³•ã€‚ .update('lonjin' + str): ä½¿ç”¨ç»™å®šçš„æ•°æ®è¿›è¡Œæ›´æ–°ï¼Œè¿™é‡Œçš„æ•°æ®æ˜¯ 'lonjin' + strï¼Œå³å°†å­—ç¬¦ä¸² 'lonjin' ä¸å‚æ•° str è¿æ¥åçš„ç»“æœï¼Œè¿™æ ·å¯é¿å…è¢«æ’åº“çš„é£é™©ã€‚ .digest('hex'): è¿”å› Hash å¯¹è±¡çš„äºŒè¿›åˆ¶æ•°æ®çš„åå…­è¿›åˆ¶è¡¨ç¤ºã€‚è¿™å°±æ˜¯æœ€ç»ˆçš„ MD5 æ•£åˆ—å€¼ã€‚ ç„¶è€Œï¼Œè¯·æ³¨æ„ï¼ŒMD5 ä¸å†è¢«æ¨èç”¨äºå®‰å…¨ç›®çš„ï¼Œå› ä¸ºå®ƒå·²ç»è¢«å‘ç°å­˜åœ¨ä¸€äº›å¼±ç‚¹ã€‚åœ¨å¯†ç å­˜å‚¨æˆ–å…¶ä»–éœ€è¦é«˜åº¦å®‰å…¨æ€§çš„åœºæ™¯ä¸­ï¼Œæ›´æ¨èä½¿ç”¨æ›´å¼ºå¤§çš„æ•£åˆ—ç®—æ³•ï¼Œæ¯”å¦‚ SHA-256ï¼Œå¹¶ä¸”ç»“åˆä¸€äº›é™„åŠ çš„å®‰å…¨æªæ–½ï¼Œä¾‹å¦‚åŠ ç›ï¼ˆsaltingï¼‰å’Œé€‚å½“çš„è¿­ä»£æ¬¡æ•°ï¼ˆiterationï¼‰ã€‚å…·ä½“æ–¹å¼å¦‚ä¸‹ï¼š const crypto = require('crypto'); function sha256Hash(str) { const hash = crypto.createHash('sha256') const hashedStr = hash.update('lonjin' + str).digest('hex') return hashedStr } module.exports = sha256Hash å¤„ç†å…¬å…±å­—æ®µ åœ¨ä¸Šé¢çš„userSchema.jsä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€äº›å…¬å…±å­—æ®µï¼Œæ¯”å¦‚createTimeå’ŒupdateTimeï¼Œåœ¨å¾ˆå¤šåœºæ™¯ä¸‹æˆ‘ä»¬å¯èƒ½éƒ½éœ€è¦è¿™ä¸¤ä¸ªå­—æ®µï¼Œæ‰€ä»¥æˆ‘ä»¬å°†è¿™ä¸¤ä¸ªå­—æ®µä¹ŸæŠ½ç¦»å‡ºæ¥ã€‚ æ–°å»ºï¼š/model/baseModel.js: module.exports = { createTime: { type: Date, default: Date.now }, updateTime: { type: Date, default: Date.now } } ç„¶ååœ¨/model/userModel.jsä¸­å¼•å…¥å¹¶ä½¿ç”¨ï¼š const baseModel = require('./baseModel') const userSchema = new mongoose.Schema({ //...åŸæœ‰é€»è¾‘ avatar: { type: String, default: null }, ...baseModel }) æ•°æ®éªŒè¯ express-validatoræ˜¯ä¸€ä¸ªéå¸¸å¥½ç”¨çš„è¡¨å•éªŒè¯ä¸­é—´ä»¶ï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨è¡¨å•æäº¤çš„æ—¶å€™è¿›è¡Œæ•°æ®éªŒè¯ï¼Œä»è€Œé¿å…äº†å‰ç«¯çš„ä¸€äº›å¸¸è§çš„é”™è¯¯ã€‚ é¦–å…ˆæˆ‘ä»¬éœ€è¦å®‰è£…express-validatorï¼š npm install express-validator --save è¿˜æ˜¯å·²æˆ‘ä»¬ä¸Šé¢æåˆ°çš„æ³¨å†Œæ¥å£ä¸ºä¾‹å­ï¼›é¦–å…ˆæˆ‘ä»¬å°è£…ä¸€ä¸‹éªŒè¯è§„åˆ™ï¼š æ–°å»ºmiddleware/validator/userValidator.jsï¼Œç”¨æ¥å¤„ç†ç”¨æˆ·ç›¸å…³çš„éªŒè¯è§„åˆ™ï¼ŒåŒæ—¶æˆ‘ä»¬å†å»ºç«‹ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå»ç»Ÿä¸€å¤„ç†é”™è¯¯é€»è¾‘ï¼›æ–°å»ºmiddleware/validator/errorBack.jsã€‚ middleware/validator/userValidator.jså†…å®¹å¦‚ä¸‹ï¼š const { body } = require('express-validator') const validator = require('./errorBack') module.exports.register = validator( [ body('username') .notEmpty().withMessage('ç”¨æˆ·åä¸èƒ½ä¸ºç©º').bail() .isLength({ min: 3, max: 10 }).withMessage('ç”¨æˆ·åé•¿åº¦å¿…é¡»åœ¨3-10ä¹‹é—´'), body('email') .notEmpty().withMessage('é‚®ç®±ä¸èƒ½ä¸ºç©º').bail() .isEmail().withMessage('é‚®ç®±æ ¼å¼ä¸æ­£ç¡®'), body('password') .notEmpty().withMessage('å¯†ç ä¸èƒ½ä¸ºç©º').bail() .isLength({ min: 6, max: 16 }).withMessage('å¯†ç é•¿åº¦å¿…é¡»åœ¨6-16ä¹‹é—´') ] ) middleware/validator/errorBack.jsæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š const { validationResult } = require('express-validator') module.exports = validator =&gt; { return async (req, res, next) =&gt; { await Promise.all(validator.map(i =&gt; i.run(req))) //è·å–é”™è¯¯ä¿¡æ¯ const errors = validationResult(req) if (!errors.isEmpty()) { // å¤„ç†é”™è¯¯ä¿¡æ¯ return res.status(401).json({ error: errors.array() }) } next() } } ä¸‹é¢æ˜¯ä¸€äº›åœ¨ express-validator ä¸­å¸¸ç”¨çš„éªŒè¯è§„åˆ™ï¼Œä»¥åŠå®ƒä»¬çš„ç®€è¦è¯´æ˜ï¼š éªŒè¯å™¨ æè¿° .notEmpty() æ£€æŸ¥å­—æ®µæ˜¯å¦ä¸ºç©ºã€‚ .isLength({ min, max }) æ£€æŸ¥å­—æ®µçš„å­—ç¬¦é•¿åº¦æ˜¯å¦åœ¨æŒ‡å®šçš„èŒƒå›´å†…ã€‚ .isEmail() æ£€æŸ¥å­—æ®µæ˜¯å¦æ˜¯æœ‰æ•ˆçš„ç”µå­é‚®ä»¶åœ°å€ã€‚ .isURL() æ£€æŸ¥å­—æ®µæ˜¯å¦æ˜¯æœ‰æ•ˆçš„URLã€‚ .isInt() æ£€æŸ¥å­—æ®µæ˜¯å¦ä¸ºæ•´æ•°ã€‚ .isNumeric() æ£€æŸ¥å­—æ®µæ˜¯å¦ä¸ºæ•°å­—ã€‚ .isFloat() æ£€æŸ¥å­—æ®µæ˜¯å¦ä¸ºæµ®ç‚¹æ•°ã€‚ .isDate() æ£€æŸ¥å­—æ®µæ˜¯å¦ä¸ºæœ‰æ•ˆçš„æ—¥æœŸã€‚ .isBoolean() æ£€æŸ¥å­—æ®µæ˜¯å¦ä¸ºå¸ƒå°”å€¼ã€‚ .isIn(values) æ£€æŸ¥å­—æ®µå€¼æ˜¯å¦åœ¨æŒ‡å®šçš„æ•°ç»„ä¸­ã€‚ .isNotIn(values) æ£€æŸ¥å­—æ®µå€¼æ˜¯å¦ä¸åœ¨æŒ‡å®šçš„æ•°ç»„ä¸­ã€‚ .equals(value) æ£€æŸ¥å­—æ®µå€¼æ˜¯å¦ä¸æŒ‡å®šçš„å€¼ç›¸ç­‰ã€‚ .not() åè½¬å‰é¢çš„éªŒè¯æ¡ä»¶ã€‚å¦‚æœä¹‹å‰çš„éªŒè¯æ¡ä»¶ä¸ºçœŸï¼Œå°†å˜ä¸ºå‡ï¼Œåä¹‹äº¦ç„¶ã€‚ .custom(validatorFunction) ä½¿ç”¨è‡ªå®šä¹‰éªŒè¯å‡½æ•°è¿›è¡ŒéªŒè¯ã€‚ .withMessage(message) åœ¨éªŒè¯å¤±è´¥æ—¶è®¾ç½®é”™è¯¯æ¶ˆæ¯ã€‚ .bail() åœ¨éªŒè¯å¤±è´¥æ—¶åœæ­¢æ‰§è¡Œåç»­éªŒè¯é“¾ã€‚ è¿™äº›æ˜¯ä¸€äº›å¸¸è§çš„éªŒè¯è§„åˆ™ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å…·ä½“çš„éœ€æ±‚ç»„åˆå®ƒä»¬ï¼Œæ„å»ºå¼ºå¤§è€Œçµæ´»çš„éªŒè¯è§„åˆ™é“¾ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨/controller/userController.jsä¸­å¼•å…¥éªŒè¯å™¨å¹¶ä½¿ç”¨ï¼š const express = require('express') const router = express.Router() const userController = require('../controller/userController') //å¼•å…¥éªŒè¯å™¨ const validator = require('../middleware/validator/userValidator') // ä½¿ç”¨validatorä¸­é—´ä»¶ router .post('/register', validator.register, userController.register) module.exports = router è¿™æ ·åœ¨ç”¨æˆ·æ³¨å†Œçš„æ—¶å€™ï¼Œå°±èƒ½å¯¹ç”¨æˆ·æäº¤çš„æ•°æ®è¿›è¡ŒéªŒè¯ï¼Œä»è€Œé¿å…äº†å‰ç«¯çš„ä¸€äº›å¸¸è§çš„é”™è¯¯ã€‚ è¿™æ—¶å€™æˆ‘ä»¬ä½¿ç”¨apifoxå‘èµ·æ³¨å†Œè¯·æ±‚ï¼Œä¸ä¼ ä»»ä½•å‚æ•°ï¼Œå°±ä¼šè¿”å›é”™è¯¯ä¿¡æ¯ï¼š { &quot;error&quot;: [ { &quot;type&quot;: &quot;field&quot;, &quot;value&quot;: &quot;&quot;, &quot;msg&quot;: &quot;ç”¨æˆ·åä¸èƒ½ä¸ºç©º&quot;, &quot;path&quot;: &quot;username&quot;, &quot;location&quot;: &quot;body&quot; }, { &quot;type&quot;: &quot;field&quot;, &quot;msg&quot;: &quot;é‚®ç®±ä¸èƒ½ä¸ºç©º&quot;, &quot;path&quot;: &quot;email&quot;, &quot;location&quot;: &quot;body&quot; }, { &quot;type&quot;: &quot;field&quot;, &quot;msg&quot;: &quot;å¯†ç ä¸èƒ½ä¸ºç©º&quot;, &quot;path&quot;: &quot;password&quot;, &quot;location&quot;: &quot;body&quot; } ] } æ•°æ®å”¯ä¸€æ€§éªŒè¯ åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åšäº†å¯¹å‚æ•°çš„ä¸€äº›éªŒè¯ï¼Œä½†æ˜¯è¿˜æ˜¯ç¼ºå°‘ä¸€ä¸ªå¯¹æ•°æ®å”¯ä¸€æ€§çš„éªŒè¯ã€‚æ¯”å¦‚æ³¨å†Œæ—¶å€™æˆ‘ä»¬å¯èƒ½è¦æ±‚æ‰‹æœºå·å’Œé‚®ç®±å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚æˆ‘ä»¬è¿™é‡Œè¿˜æ˜¯å€ŸåŠ©express-validatorçš„è‡ªå®šä¹‰éªŒè¯å‡½æ•°customæ¥å®ç°ï¼›å½“ç„¶æˆ‘ä»¬éœ€è¦è¿æ¥åˆ°æ•°æ®åº“è¿›è¡Œæ•°æ®æŸ¥æ‰¾ã€‚ é¦–å…ˆæˆ‘ä»¬åœ¨middleware/validator/userValidator.jsä¸­æ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰éªŒè¯å‡½æ•°ï¼š const { body } = require('express-validator') const validator = require('./errorBack') // 1.å¼•å…¥User model const { User } = require('../../model/index') module.exports.register = validator( [ body('username') .notEmpty().withMessage('ç”¨æˆ·åä¸èƒ½ä¸ºç©º').bail() .isLength({ min: 3, max: 10 }).withMessage('ç”¨æˆ·åé•¿åº¦å¿…é¡»åœ¨3-10ä¹‹é—´'), body('email') .notEmpty().withMessage('é‚®ç®±ä¸èƒ½ä¸ºç©º').bail() .isEmail().withMessage('é‚®ç®±æ ¼å¼ä¸æ­£ç¡®') .custom(async val =&gt; { // 2.æŸ¥è¯¢æ•°æ®åº“ const emailValidator = await User.findOne({ email: val }) // 3.åˆ¤æ–­æ˜¯å¦å­˜åœ¨ if (emailValidator) { return Promise.reject('é‚®ç®±å·²è¢«æ³¨å†Œ') } }).bail(), body('password') .notEmpty().withMessage('å¯†ç ä¸èƒ½ä¸ºç©º').bail() .isLength({ min: 6, max: 16 }).withMessage('å¯†ç é•¿åº¦å¿…é¡»åœ¨6-16ä¹‹é—´'), body('phone') .notEmpty().withMessage('æ‰‹æœºå·ä¸èƒ½ä¸ºç©º').bail() .isLength({ min: 11 }).withMessage('æ‰‹æœºå·æ ¼å¼ä¸æ­£ç¡®') .custom(async val =&gt; { // åŒç† const phonelValidator = await User.findOne({ phone: val }) if (phonelValidator) { return Promise.reject('æ‰‹æœºå·å·²è¢«æ³¨å†Œ') } }).bail(), ] ) Restfulæ¥å£è§„èŒƒ åœ¨é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ¥å£è¿›è¡Œè§„èŒƒï¼Œæ¯”å¦‚æ¥å£çš„è·¯å¾„ï¼Œè¯·æ±‚æ–¹å¼ï¼Œå‚æ•°ï¼Œè¿”å›å€¼ç­‰ã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥å‚è€ƒrestfulapiæ¥å£è§„èŒƒï¼›å½“ç„¶æˆ‘ä»¬å¯ä»¥æ ¹æ®ä¸€äº›ä¸šåŠ¡éœ€æ±‚åšå¯¹åº”çš„è°ƒæ•´ã€‚ ","link":"https://lonjinup.github.io/node-demo-01/"},{"title":"ã€nodeå­¦ä¹ -07ã€‘æ­å»ºexpressé¡¹ç›®æ¨¡ç‰ˆ","content":"æ­å»ºexpressé¡¹ç›®æ¨¡ç‰ˆ ä¸‹é¢æˆ‘ä»¬å°†ä¸€æ­¥æ­¥æ­å»ºä¸€ä¸ªåŸºæœ¬çš„Expressé¡¹ç›®æ¨¡æ¿ã€‚è¿™ä¸ªæ¨¡æ¿åŒ…æ‹¬é¡¹ç›®ç»“æ„ã€åˆå§‹åŒ–ã€å®‰è£…å¿…è¦çš„ä¾èµ–ã€åˆ›å»ºä¸»æ–‡ä»¶app.jsã€è®¾ç½®è·¯ç”±å’Œæ§åˆ¶å™¨ã€‚æœ€åï¼Œä½ å¯ä»¥æ ¹æ®é¡¹ç›®éœ€æ±‚è¿›è¡Œä¿®æ”¹å’Œä¼˜åŒ–ã€‚ 1. é¡¹ç›®ç»“æ„ â”œâ”€â”€ app.js â”œâ”€â”€ config â”‚ â”œâ”€â”€ config.default.js â”œâ”€â”€ controllers â”‚ â”œâ”€â”€ testController.js â”œâ”€â”€ package.json â”œâ”€â”€ router â”‚ â”œâ”€â”€ index.js â”‚ â”œâ”€â”€ test.js 2. é¡¹ç›®åˆå§‹åŒ– npm init -y 3. å®‰è£… npm install express // expressæ¡†æ¶ npm install cors // è·¨åŸŸ npm install morgan // æ—¥å¿— npm install nodemon // é‡å¯æœåŠ¡ 4. åˆ›å»ºapp.jsæ–‡ä»¶ const express = require('express') const app = express() const cors = require('cors') const morgan = require('morgan') // æ•°æ®æ ¼å¼è§£æ app.use(express.json()) app.use(express.urlencoded()) // è·¨åŸŸ app.use(cors()) //æ—¥å¿—è®°å½• app.use(morgan('dev')) const PORT = process.env.PORT || 3000 app.listen(PORT, () =&gt; { console.log(`Server is running on http://localhost:${PORT}`) }) 5.è·¯ç”±&amp;&amp;æ§åˆ¶å™¨ æ–°å»º/controllers/testController.jsæ–‡ä»¶ï¼Œå¹¶ç¼–å†™ä¸€ä¸ªæµ‹è¯•æ–¹æ³•ï¼š exports.testGet = async (req, res) =&gt; { console.log(req.method) res.send('testGet success') } exports.testPost = async (req, res) =&gt; { console.log(req.method) res.send('testPost success') } æ–°å»ºä¸€ä¸ªæµ‹è¯•è·¯ç”±ï¼š/router/test.jsï¼Œå¹¶å¯¼å…¥æ§åˆ¶å™¨ï¼š const express = require('express') const router = express.Router() const testController = require('../controller/testController') router .get('/testGet', testController.testGet) .post('/testPost', testController.testPost) module.exports = router æ–°å»ºä¸€ä¸ªä¸»è·¯ç”±ï¼š/router/index.jsï¼Œå¹¶å¯¼å…¥æµ‹è¯•è·¯ç”±ï¼š const express = require('express') const router = express.Router() const test = require('./test') router.use(test) module.exports = router åœ¨app.jsä¸­å¯¼å…¥ä¸»è·¯ç”±ï¼š const express = require('express') const app = express() const cors = require('cors') const morgan = require('morgan') // å¯¼å…¥ä¸»è·¯ç”± const router = require('./router') app.use(express.json()) app.use(express.urlencoded()) app.use(cors()) app.use(morgan('dev')) // è·¯ç”± app.use('/api/v1', router) const PORT = process.env.PORT || 3000 app.listen(PORT, () =&gt; { console.log(`Server is running on http://localhost:${PORT}`) }) æœ€åŸºæœ¬çš„ä¸€ä¸ªé¡¹ç›®æ¨¡ç‰ˆå°±æ­å»ºå®Œæ¯•äº†ï¼Œåç»­å¯ä»¥æ ¹æ®é¡¹ç›®éœ€æ±‚è¿›è¡Œä¿®æ”¹å’Œä¼˜åŒ–ã€‚ ","link":"https://lonjinup.github.io/express-07-template/"},{"title":"ã€nodeå­¦ä¹ -06ã€‘expressè¿›é˜¶","content":"expressä¸­é—´ä»¶ åœ¨Expressä¸­ï¼Œä¸­é—´ä»¶æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„æ¦‚å¿µï¼Œå®ƒå…è®¸ä½ åœ¨è¯·æ±‚è¢«å¤„ç†ä¹‹å‰æˆ–ä¹‹åæ‰§è¡Œä»£ç ã€‚ä¸­é—´ä»¶å‡½æ•°å¯ä»¥è®¿é—®è¯·æ±‚å¯¹è±¡ (req)ã€å“åº”å¯¹è±¡ (res)ï¼Œä»¥åŠåº”ç”¨ä¸­çš„ä¸‹ä¸€ä¸ªä¸­é—´ä»¶å‡½æ•° (next)ã€‚ å‡å¦‚æˆ‘æƒ³åœ¨Expressé¡¹ç›®çš„æ¯ä¸€æ¬¡è¯·æ±‚ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªæ‰“å°æ—¥å¿—çš„åŠŸèƒ½ï¼Œå¦‚æœåœ¨æ‰€æœ‰çš„è¯·æ±‚ä¸­consoleæ‰“å°è‚¯å®šä¸ç°å®ï¼Œä¸å¦‚æŠ½å‡ºä¸€ä¸ªlogsæ–¹æ³•ï¼Œç„¶ååœ¨æ¯æ¬¡è¯·æ±‚æ—¶å€™å»è°ƒç”¨ï¼š const express = require('express') const app = express() const PORT = process.env.PORT || 3000 function logs(req, res) { console.log(`${req.method},${req.url}, ${new Date().toLocaleString()}`) } app.get('/', (req, res) =&gt; { logs(req, res) res.send('Hello World') }) app.get('/login', (req, res) =&gt; { logs(req, res) res.send('login') }) app.get('/register', (req, res) =&gt; { logs(req, res) res.send('register') }) app.listen(PORT, () =&gt; { console.log(`Server is running on http://localhost:${PORT}`) }) ä½†æ˜¯è¿™æ ·çš„æ–¹å¼è¿˜æ˜¯æœ‰äº›ä¸æ–¹ä¾¿ï¼›éœ€è¦åœ¨æ¯æ¬¡è¯·æ±‚ä¸­éƒ½å»è°ƒç”¨logsæ–¹æ³•ï¼Œä¸ä»…ä¸æ–¹ä¾¿ï¼Œè€Œä¸”è¿˜ä¼šæœ‰å¾ˆå¤šé‡å¤çš„ä»£ç ã€‚ æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠlogsæ–¹æ³•ä½œä¸ºä¸€ä¸ªä¸­é—´ä»¶ï¼Œç„¶ååœ¨app.use()ä¸­ä½¿ç”¨å®ƒï¼š const express = require('express') const app = express() const PORT = process.env.PORT || 3000 function logs(req, res, next) { console.log(`${req.method},${req.url}, ${new Date().toLocaleString()}`) // ä¸‹ä¸€æ­¥æ“ä½œ next() } app.use(logs) app.get('/', (req, res) =&gt; { res.send('Hello World') }) app.get('/login', (req, res) =&gt; { res.send('login') }) app.get('/register', (req, res) =&gt; { res.send('register') }) app.listen(PORT, () =&gt; { console.log(`Server is running on http://localhost:${PORT}`) }) åœ¨ Express ä¸­ï¼Œä¸­é—´ä»¶å¯ä»¥å†™åœ¨ app.get æ–¹æ³•ä¹‹å‰ã€ä¹‹åæˆ–ä¹‹é—´ï¼Œå…·ä½“å–å†³äºä¸­é—´ä»¶çš„ä½œç”¨å’Œä½ å¸Œæœ›å®ƒåœ¨è¯·æ±‚å¤„ç†è¿‡ç¨‹ä¸­çš„æ‰§è¡Œé¡ºåºã€‚ ä¸­é—´ä»¶åˆ†ç±» åœ¨ Express æ¡†æ¶ä¸­ï¼Œä¸­é—´ä»¶ï¼ˆMiddlewareï¼‰æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨è¯·æ±‚è¢«å‘é€åˆ°è·¯ç”±å¤„ç†ç¨‹åºä¹‹å‰ï¼Œå¯ä»¥å¯¹è¯·æ±‚è¿›è¡Œé¢„å¤„ç†ã€å¤„ç†è¯·æ±‚ã€æˆ–è€…å¯¹å“åº”è¿›è¡Œåå¤„ç†ã€‚Express ä¸­é—´ä»¶å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç§ç±»å‹ï¼š åº”ç”¨çº§ä¸­é—´ä»¶ï¼šåº”ç”¨çº§ä¸­é—´ä»¶ç»‘å®šåˆ° Express çš„åº”ç”¨å®ä¾‹ï¼ˆapp å¯¹è±¡ï¼‰ä¸Šï¼Œå®ƒä»¬é€šè¿‡ app.use() æ–¹æ³•ä½¿ç”¨ã€‚è¿™ç§ä¸­é—´ä»¶èƒ½å¤Ÿå¤„ç†åº”ç”¨ä¸­çš„æ‰€æœ‰è¯·æ±‚ï¼Œå¯¹è¯·æ±‚å’Œå“åº”è¿›è¡Œä¿®æ”¹ï¼Œæ‰§è¡Œä¸€äº›å…¬å…±ä»»åŠ¡ï¼Œæ¯”å¦‚æ—¥å¿—è®°å½•ã€èº«ä»½éªŒè¯ç­‰ã€‚ è·¯ç”±çº§ä¸­é—´ä»¶ï¼šè·¯ç”±çº§ä¸­é—´ä»¶ä¸åº”ç”¨çº§ä¸­é—´ä»¶ç±»ä¼¼ï¼Œä½†å®ƒç»‘å®šåˆ°ç‰¹å®šçš„è·¯ç”±ä¸Šï¼Œåªèƒ½å¤„ç†ç‰¹å®šè·¯ç”±çš„è¯·æ±‚ã€‚é€šè¿‡ app.use() æˆ–è€… router.use() æ–¹æ³•ä½¿ç”¨ï¼Œå®ƒèƒ½å¤Ÿä¸ºç‰¹å®šè·¯ç”±çš„è¯·æ±‚æ‰§è¡Œç‰¹å®šçš„ä»»åŠ¡ï¼Œæ¯”å¦‚éªŒè¯ç”¨æˆ·æƒé™ã€æ•°æ®éªŒè¯ç­‰ã€‚ é”™è¯¯å¤„ç†ä¸­é—´ä»¶ï¼šé”™è¯¯å¤„ç†ä¸­é—´ä»¶ä¸“é—¨ç”¨äºå¤„ç†è¯·æ±‚è¿‡ç¨‹ä¸­å‘ç”Ÿçš„é”™è¯¯ã€‚å½“ä¸€ä¸ªä¸­é—´ä»¶é€šè¿‡ next(err) æ–¹æ³•ä¼ é€’é”™è¯¯æ—¶ï¼Œé”™è¯¯å¤„ç†ä¸­é—´ä»¶å°†è¢«è°ƒç”¨ã€‚å®ƒæ¥æ”¶å››ä¸ªå‚æ•°ï¼ˆerr, req, res, nextï¼‰ï¼Œå¹¶è´Ÿè´£å¤„ç†é”™è¯¯ã€ç”Ÿæˆé”™è¯¯å“åº”ä»¥åŠè®°å½•é”™è¯¯æ—¥å¿—ç­‰æ“ä½œã€‚ å†…ç½®ä¸­é—´ä»¶ï¼šExpress æ¡†æ¶å†…ç½®äº†ä¸€äº›å¸¸ç”¨çš„ä¸­é—´ä»¶ï¼Œæ¯”å¦‚ express.staticï¼ˆç”¨äºæä¾›é™æ€æ–‡ä»¶æœåŠ¡ï¼‰ã€express.jsonï¼ˆç”¨äºè§£æ JSON è¯·æ±‚ä½“ï¼‰ã€express.urlencodedï¼ˆç”¨äºè§£æ URL ç¼–ç çš„è¯·æ±‚ä½“ï¼‰ç­‰ã€‚è¿™äº›å†…ç½®ä¸­é—´ä»¶å¯ä»¥é€šè¿‡ç®€å•çš„é…ç½®æ¥ä½¿ç”¨ï¼Œæä¾›äº†ä¸€äº›åŸºæœ¬çš„åŠŸèƒ½ï¼Œå¯ä»¥å¿«é€Ÿå¼€å‘ Web åº”ç”¨ã€‚ ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶ï¼šé™¤äº†å†…ç½®ä¸­é—´ä»¶ä¹‹å¤–ï¼ŒExpress è¿˜æ”¯æŒç¬¬ä¸‰æ–¹ä¸­é—´ä»¶ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡ npm å®‰è£…å¹¶ä½¿ç”¨ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶æ¥æ‰©å±• Express çš„åŠŸèƒ½ã€‚ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶å¯ä»¥å®ç°å„ç§åŠŸèƒ½ï¼Œæ¯”å¦‚èº«ä»½éªŒè¯ã€æ—¥å¿—è®°å½•ã€æ€§èƒ½ç›‘æ§ç­‰ï¼Œä¸°å¯Œäº† Express ç”Ÿæ€ç³»ç»Ÿï¼Œä¸ºå¼€å‘è€…æä¾›äº†æ›´å¤šé€‰æ‹©ã€‚ åº”ç”¨çº§ä¸­é—´ä»¶ åœ¨ Express ä¸­ï¼Œåº”ç”¨çº§ä¸­é—´ä»¶ç›´æ¥ä¸ Express åº”ç”¨çš„å®ä¾‹ç›¸å…³ï¼Œå¯¹æ•´ä¸ªåº”ç”¨ç”Ÿæ•ˆã€‚å®ƒä»¬é€šå¸¸é€šè¿‡ app.use æˆ–è€…å¯¹ç‰¹å®šçš„è·¯ç”±ä½¿ç”¨ app.METHODï¼ˆä¾‹å¦‚ app.getï¼‰æ¥æ³¨å†Œã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š const express = require('express'); const app = express(); const PORT = process.env.PORT || 3000; // åº”ç”¨çº§ä¸­é—´ä»¶ app.use((req, res, next) =&gt; { console.log('This middleware is executed for every request to the app.'); next(); // è°ƒç”¨ next() å°†æ§åˆ¶æƒä¼ é€’ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶æˆ–è·¯ç”±å¤„ç†ç¨‹åº }); app.get('/user', (req, res, next) =&gt; { console.log('Handling user request...'); next(); }, (req, res) =&gt; { res.send('User route response'); }); app.listen(PORT, () =&gt; { console.log(`Server is running on http://localhost:${PORT}`); }); åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œapp.use æ³¨å†Œäº†ä¸€ä¸ªåº”ç”¨çº§ä¸­é—´ä»¶ï¼Œå®ƒåœ¨æ¯ä¸ªè¯·æ±‚åˆ°è¾¾åº”ç”¨æ—¶éƒ½ä¼šæ‰§è¡Œã€‚å¯¹äº /user è·¯ç”±ï¼Œæˆ‘ä»¬é€šè¿‡ app.get æ³¨å†Œäº†ä¸¤ä¸ªä¸­é—´ä»¶ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªä¸­é—´ä»¶åœ¨ /user è¯·æ±‚å‰æ‰§è¡Œï¼Œè®°å½•äº†è¯·æ±‚çš„å¤„ç†è¿‡ç¨‹ã€‚ åº”ç”¨çº§ä¸­é—´ä»¶å¯ä»¥ç”¨äºæ‰§è¡Œä¸€äº›å…¨å±€çš„ä»»åŠ¡ï¼Œæ¯”å¦‚è®°å½•æ—¥å¿—ã€èº«ä»½éªŒè¯ã€å¤„ç†è¯·æ±‚ç­‰ã€‚ç”±äºå®ƒä»¬åœ¨æ•´ä¸ªåº”ç”¨èŒƒå›´å†…ç”Ÿæ•ˆï¼Œå› æ­¤é€‚ç”¨äºéœ€è¦åœ¨æ¯ä¸ªè¯·æ±‚ä¸­æ‰§è¡Œçš„ä»»åŠ¡ã€‚ è·¯ç”±çº§ä¸­é—´ä»¶ åœ¨ Express ä¸­ï¼Œè·¯ç”±çº§ä¸­é—´ä»¶æ˜¯ä¸ç‰¹å®šè·¯ç”±æˆ–è·¯ç”±ç»„ç›¸å…³çš„ä¸­é—´ä»¶ã€‚å®ƒä»¬é€šè¿‡ express.Router åˆ›å»ºï¼Œå¹¶é€šè¿‡ app.use æˆ–è€… app.METHODï¼ˆä¾‹å¦‚ app.getï¼‰æ¥æ³¨å†Œã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„åº”ç”¨ï¼š æ–°å»º/router/index.jså’Œ/router/video.jsæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š /router/index.js: const express = require('express') const router = express.Router() router.get('/user', (req, res) =&gt; { console.log(req.method) res.send('success') }) router.get('/login', (req, res) =&gt; { console.log(req.method) res.send('login success') }) module.exports = router /router/video.js: const express = require('express') const router = express.Router() router.get('/list', (req, res) =&gt; { console.log(req.method) res.send('list success') }) router.get('/detail', (req, res) =&gt; { console.log(req.method) res.send('detail success') }) module.exports = router ç„¶ååœ¨app.jsä¸­å¼•å…¥å¹¶æ³¨å†Œï¼ŒåŒæ—¶æ³¨å†Œæ—¶å€™ç»™ä»–ä»¬å‰é¢åˆ†åˆ«æ·»åŠ ä¸¤ä¸ªå‰ç¼€/apiå’Œ/video: const express = require('express') const router = require('./router/index') const videoRouter = require('./router/video') const app = express() app.use('/api', router) app.use('/video', videoRouter) const PORT = process.env.PORT || 3000 app.listen(PORT, () =&gt; { console.log(`Server is running on http://localhost:${PORT}`) }) é”™è¯¯å¤„ç†ä¸­é—´ä»¶ åœ¨ Express ä¸­ï¼Œé”™è¯¯å¤„ç†ä¸­é—´ä»¶æ˜¯æŒ‡å¤„ç†é”™è¯¯çš„ä¸­é—´ä»¶ï¼Œå®ƒå¯ä»¥å¤„ç†è¯·æ±‚å’Œå“åº”ï¼Œå¹¶å¯¹å®ƒä»¬è¿›è¡Œä¿®æ”¹ã€‚ é”™è¯¯å¤„ç†ä¸­é—´ä»¶å¯ä»¥æ•è·åº”ç”¨ä¸­çš„é”™è¯¯ï¼Œå¹¶å°†å…¶å‘é€ç»™å®¢æˆ·ç«¯ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š const express = require('express') const router = require('./router/index') const videoRouter = require('./router/video') const app = express() app.use('/api', router) app.use('/video', videoRouter) //æ•è·è·¯ç”±é”™è¯¯ app.use((req, res, next) =&gt; { res.status(404).send({ message: 'Not Found' }) }) //æ•è·é”™è¯¯ app.use((err, req, res, next) =&gt; { res.status(500).send({ message: 'server error' }) }) const PORT = process.env.PORT || 3000 app.listen(PORT, () =&gt; { console.log(`Server is running on http://localhost:${PORT}`) }) å†…ç½®ä¸­é—´ä»¶ Express å†…ç½®çš„ä¸­é—´ ä»¶ä¸»è¦ç”¨äºå¤„ç†å¸¸è§çš„ä»»åŠ¡ï¼Œå¦‚è§£æè¯·æ±‚ä½“ã€å¤„ç†é™æ€æ–‡ä»¶ç­‰ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„ Express å†…ç½®ä¸­é—´ä»¶ï¼š 1. express.json() ç”¨äºè§£æä¼ å…¥è¯·æ±‚çš„ JSON æ•°æ®ï¼Œå¹¶å°†å…¶æ”¾ç½®åœ¨ req.body ä¸­ã€‚ const express = require('express'); const app = express(); app.use(express.json()); app.post('/api/data', (req, res) =&gt; { console.log(req.body); // è®¿é—® JSON æ•°æ® res.send('Data received successfully.'); }); app.listen(3000, () =&gt; { console.log('Server is running on port 3000'); }); 2. express.urlencoded() ç”¨äºè§£æä¼ å…¥è¯·æ±‚çš„ URL ç¼–ç æ•°æ®ï¼ˆé€šå¸¸æ¥è‡ªè¡¨å•ï¼‰ï¼Œå¹¶å°†å…¶æ”¾ç½®åœ¨ req.body ä¸­ã€‚ const express = require('express'); const app = express(); app.use(express.urlencoded({ extended: true })); app.post('/api/form', (req, res) =&gt; { console.log(req.body); // è®¿é—®è¡¨å•æ•°æ® res.send('Form data received successfully.'); }); app.listen(3000, () =&gt; { console.log('Server is running on port 3000'); }); 3. express.static() ç”¨äºæä¾›é™æ€æ–‡ä»¶ï¼Œä¾‹å¦‚ HTMLã€CSSã€JavaScript ç­‰ã€‚ const express = require('express'); const app = express(); app.use(express.static('public')); app.get('/', (req, res) =&gt; { res.sendFile(__dirname + '/public/index.html'); }); app.listen(3000, () =&gt; { console.log('Server is running on port 3000'); }); 4. express.Router() è™½ç„¶ä¸æ˜¯ç›´æ¥ä¸­é—´ä»¶ï¼Œä½†ç”¨äºåˆ›å»ºæ¨¡å—åŒ–ã€å¯æŒ‚è½½çš„è·¯ç”±å¤„ç†ç¨‹åºã€‚ // åœ¨ router.js æ–‡ä»¶ä¸­ const express = require('express'); const router = express.Router(); router.get('/', (req, res) =&gt; { res.send('Router response'); }); module.exports = router; // åœ¨ä¸»åº”ç”¨ä¸­ const express = require('express'); const app = express(); const router = require('./router'); app.use('/api', router); app.listen(3000, () =&gt; { console.log('Server is running on port 3000'); }); è¿™äº›å†…ç½®ä¸­é—´ä»¶ä½¿å¾— Express åº”ç”¨æ›´æ˜“äºå¼€å‘ï¼Œå¹¶æä¾›äº†ä¸€äº›åŸºæœ¬çš„åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡ç®€å•çš„é…ç½®å³å¯ä½¿ç”¨ã€‚ ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶ Express ç¤¾åŒºæä¾›äº†è®¸å¤šç¬¬ä¸‰æ–¹ä¸­é—´ä»¶ï¼Œè¿™äº›ä¸­é—´ä»¶å¯ä»¥ç”¨äºå¢å¼º Express åº”ç”¨çš„åŠŸèƒ½ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶ï¼š body-parser ç”¨äºè§£æè¯·æ±‚ä½“ï¼Œæ”¯æŒ JSONã€URL ç¼–ç å’Œå¤šéƒ¨åˆ†æ•°æ®ã€‚ npm install body-parser ä½¿ç”¨æ–¹æ³•ï¼š const express = require('express'); const bodyParser = require('body-parser'); const app = express(); app.use(bodyParser.json()); app.use(bodyParser.urlencoded({ extended: true })); app.post('/api/data', (req, res) =&gt; { console.log(req.body); // è®¿é—® JSON æˆ– URL ç¼–ç æ•°æ® res.send('Data received successfully.'); }); app.listen(3000, () =&gt; { console.log('Server is running on port 3000'); }); helmet æä¾›äº†ä¸€ç³»åˆ— HTTP å¤´çš„è®¾ç½®ï¼Œå¸®åŠ©æé«˜ Express åº”ç”¨çš„å®‰å…¨æ€§ã€‚ npm install helmet ä½¿ç”¨æ–¹æ³•ï¼š const express = require('express'); const helmet = require('helmet'); const app = express(); app.use(helmet()); app.get('/', (req, res) =&gt; { res.send('Hello, World!'); }); app.listen(3000, () =&gt; { console.log('Server is running on port 3000'); }); compression ç”¨äºå‹ç¼©å“åº”ä½“ï¼Œå‡å°ä¼ è¾“æ•°æ®çš„å¤§å°ã€‚ npm install compression ä½¿ç”¨æ–¹æ³•ï¼š const express = require('express'); const compression = require('compression'); const app = express(); app.use(compression()); app.get('/', (req, res) =&gt; { res.send('Compressed response.'); }); app.listen(3000, () =&gt; { console.log('Server is running on port 3000'); }); morgan ç”¨äºè®°å½• HTTP è¯·æ±‚çš„æ—¥å¿—ã€‚ npm install morgan ä½¿ç”¨æ–¹æ³•ï¼š const express = require('express'); const morgan = require('morgan'); const app = express(); app.use(morgan('combined')); app.get('/', (req, res) =&gt; { res.send('Hello, World!'); }); app.listen(3000, () =&gt; { console.log('Server is running on port 3000'); }); è¿™åªæ˜¯ä¸€å°éƒ¨åˆ†å¯ç”¨çš„ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶ã€‚æ ¹æ®åº”ç”¨éœ€æ±‚ï¼Œä½ å¯ä»¥é€‰æ‹©å¹¶å®‰è£…é€‚åˆçš„ä¸­é—´ä»¶æ¥å¢å¼º Express åº”ç”¨çš„åŠŸèƒ½ã€‚ Expressè·¯ç”± allæ–¹æ³•ç”¨äºåŒ¹é…æ‰€æœ‰ HTTP åŠ¨è¯ï¼ˆGETã€POSTã€PUTã€DELETE å’Œ OPTIONSï¼‰ã€‚ const express = require('express') const app = express() const PORT = process.env.PORT || 3000 app.all('/*', (req, res) =&gt; { res.send('all') }) app.listen(PORT, () =&gt; { console.log(`Server is running on http://localhost:${PORT}`) }) è·¯ç”±è·¯å¾„ è·¯ç”±è·¯å¾„ä¹Ÿå¯ä»¥æ˜¯å­—ç¬¦ä¸²æ¨¡å¼ã€‚å¯ç”¨éƒ¨åˆ†æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•æ¥å®šä¹‰ç«¯ç‚¹çš„æ¨¡å¼ã€‚ä»¥ä¸‹æ˜¯æ‰€æ¶‰åŠçš„æ­£åˆ™è¡¨è¾¾å¼ï¼ˆæ³¨æ„ï¼Œè¿å­—ç¬¦ï¼ˆ -ï¼‰å’Œç‚¹ï¼ˆ.ï¼‰åœ¨å­—ç¬¦ä¸²è·¯å¾„ä¸­è§£é‡Šä¸ºå­—é¢é‡ï¼Œä¸èƒ½åšä¸ºæ­£åˆ™è¡¨è¾¾å¼ï¼‰ è·¯å¾„ä¸­?ç”¨äºåŒ¹é…è·¯å¾„ä¸­åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦çš„è·¯å¾„ã€‚ const express = require('express') const app = express() app.get('/us?er', (req, res) =&gt; { res.send(`${req.url}`) }) const PORT = process.env.PORT || 3000 app.listen(PORT, () =&gt; { console.log(`Server is running on http://localhost:${PORT}`) }) è¯·æ±‚ä¸‹é¢æ¥å£éƒ½å¯ä»¥è¯·æ±‚é€šï¼š http://localhost:3000/uer http://localhost:3000/user è·¯å¾„ä¸­+ç”¨äºåŒ¹é…è·¯å¾„ä¸­åŒ…å«å¤šä¸ªå­—ç¬¦çš„è·¯å¾„ã€‚ const express = require('express') const app = express() app.get('/us+er', (req, res) =&gt; { res.send(`${req.url}`) }) const PORT = process.env.PORT || 3000 app.listen() åªè¦è¯·æ±‚ä¸‹é¢çš„è·¯å¾„éƒ½å¯ä»¥è¯·æ±‚é€š http://localhost:3000/user http://localhost:3000/ussser http://localhost:3000/usssser è·¯å¾„ä¸­*å¯ä»¥æ›¿æ¢ä¸ºä»»æ„å­—ç¬¦ä¸² const express = require('express') const app = express() app.get('/us+er', (req, res) =&gt; { res.send(`${req.url}`) }) const PORT = process.env.PORT || 3000 app.listen() åªè¦è¯·æ±‚ä¸‹é¢çš„è·¯å¾„éƒ½å¯ä»¥è¯·æ±‚é€š http://localhost:3000/ussssser http://localhost:3000/usABCer è·¯ç”±å‚æ•° è·¯ç”±å‚æ•°æ˜¯æŒ‡åœ¨è·¯å¾„ä¸­ä½¿ç”¨å†’å·ï¼ˆ:ï¼‰æ¥å®šä¹‰çš„éƒ¨åˆ†ã€‚ const express = require('express') const app = express() app.get('/user/:id', (req, res) =&gt; { console.log(req.params) res.send(`${req.url}`) }) const PORT = process.env.PORT || 3000 app.listen() è¯·æ±‚ä¸‹é¢æ¥å£éƒ½å¯ä»¥è¯·æ±‚é€šï¼š http://localhost:3000/user/123 // è¾“å‡º { id: '123' } http://localhost:3000/user/abc // è¾“å‡º { id: 'abc' } ä¹Ÿå¯ä»¥è®¾ç½®å¤šä¸ªè·¯ç”±å‚æ•° const express = require('express') const app = express() app.get('/user/:id/:name', (req, res) =&gt; { console.log(req.params) res.send(`${req.url}`) }) const PORT = process.env.PORT || 3000 app.listen() è¯·æ±‚ä¸‹é¢æ¥å£éƒ½å¯ä»¥è¯·æ±‚é€šï¼š http://localhost:3000/user/123/abc // è¾“å‡º { id: '123', name: 'abc' } http://localhost:3000/user/abc/123 // è¾“å‡º { id: 'abc', name: '123' } é“¾å¼è·¯ç”± é“¾å¼è·¯ç”±æ˜¯æŒ‡åœ¨ä¸€ä¸ªè·¯ç”±ä¸­å®šä¹‰å¦ä¸€ä¸ªè·¯ç”±ï¼Œå¹¶åœ¨è¯¥è·¯ç”±ä¸­å®šä¹‰å…¶å®ƒçš„è·¯ç”±ã€‚ const express = require('express') const app = express() app.get('/user', (req, res) =&gt; { res.send(`${req.url}`) }).post('/login', (req, res) =&gt; { res.send(`${req.url}`) }) const PORT = process.env.PORT || 3000 app.listen() å“åº”æ–¹æ³• å“åº”æ–¹æ³•ç”¨äºå‘å®¢æˆ·ç«¯å‘é€å“åº”ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒé“¾å¼è°ƒç”¨ã€‚ res.send()æ–¹æ³•ç”¨äºå‘é€å­—ç¬¦ä¸²ã€‚ const express = require('express') const app = express() app.get('/user', (req, res) =&gt; { res.send('Hello, World!') }) const PORT = process.env.PORT || 3000 app.listen() res.download()æ–¹æ³•ç”¨äºä¸‹è½½æ–‡ä»¶ã€‚ const express = require('express') const app = express() app.get('/user', (req, res) =&gt; { res.download('path/to/file') }) const PORT = process.env.PORT || 3000 app.listen() res.json()æ–¹æ³•ç”¨äºå‘é€ JSON æ•°æ®ã€‚ const express = require('express') const app = express() app.get('/user', (req, res) =&gt; { res.json({ name: 'John Doe', age: 30 }) }) const PORT = process.env.PORT || 3000 app.listen() res.end()æ–¹æ³•ç”¨äºç»“æŸå“åº”ã€‚ const express = require('express') const app = express() app.get('/user', (req, res) =&gt; { res.end('Hello, World!') }) const PORT = process.env.PORT || 3000 app.listen() res.redirect()æ–¹æ³•ç”¨äºé‡å®šå‘åˆ°å¦ä¸€ä¸ª URLã€‚ const express = require('express') const app = express() app.get('/user', (req, res) =&gt; { res.redirect('/login') }) const PORT = process.env.PORT || 3000 app.listen() res.render()æ–¹æ³•ç”¨äºæ¸²æŸ“æ¨¡æ¿ã€‚ const express = require('express') const app = express() app.get('/user', (req, res) =&gt; { res.render('index', { title: 'Hello, World!' }) }) const PORT = process.env.PORT || 3000 app.listen() res.sendStatus()æ–¹æ³•ç”¨äºè®¾ç½®å“åº”çŠ¶æ€ç ã€‚ const express = require('express') const app = express() app.get('/user', (req, res) =&gt; { res.sendStatus(200) }) const PORT = process.env.PORT || 3000 app.listen() ","link":"https://lonjinup.github.io/node-06-express/"},{"title":"ã€nodeå­¦ä¹ -05ã€‘mongoDBåŸºç¡€","content":"mongoDBåŸºç¡€ ç®€ä»‹ mongoDBæ˜¯ä¸€ç§åŸºäºåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨çš„æ•°æ®åº“ï¼Œç”± C++ è¯­è¨€ç¼–å†™ã€‚ç”± MongoDB è‡ªèº«æä¾›çš„é«˜æ€§èƒ½æ•°æ®å­˜å‚¨ï¼Œä»¥åŠç¬¬ä¸‰æ–¹æä¾›çš„å„ç§æ•°æ®åº“ç®¡ç†å·¥å…·ï¼ŒåŒ…æ‹¬ç”¨äºæŸ¥è¯¢å’Œåˆ†æçš„ MongoDB è‡ªå¸¦çš„ shell å·¥å…·ã€‚ ç‰¹ç‚¹ é«˜æ€§èƒ½ï¼šMongoDB æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ NoSQL æ•°æ®åº“ï¼Œæ˜¯å½“å‰æœ€æµè¡Œçš„éå…³ç³»å‹æ•°æ®åº“ä¹‹ä¸€ã€‚ æ˜“ç”¨æ€§ï¼šMongoDB æ˜¯ä¸€ä¸ªåŸºäºæ–‡æ¡£çš„æ•°æ®åº“ï¼Œä¸éœ€è¦å…³ç³»å‹æ•°æ®åº“çš„ SQL è¯­è¨€ï¼Œå³ä½¿å¯¹æ•°æ®åº“çš„æ“ä½œä¹Ÿä¸éœ€è¦å…³ç³»å‹æ•°æ®åº“çš„ DDL è¯­è¨€ã€‚ çµæ´»æ€§ï¼šMongoDB æ˜¯ä¸€ä¸ªåŸºäºæ–‡æ¡£çš„æ•°æ®åº“ï¼Œå¯ä»¥å­˜å‚¨å„ç§ç±»å‹çš„æ•°æ®ï¼ŒåŒ…æ‹¬æ–‡æ¡£ã€æ•°ç»„ã€å¯¹è±¡ã€äºŒè¿›åˆ¶æ•°æ®ç­‰ã€‚ é«˜å¯ç”¨æ€§ï¼šMongoDB æ˜¯ä¸€ä¸ªé«˜å¯ç”¨æ€§çš„æ•°æ®åº“ï¼Œå¯ä»¥ä¿è¯æ•°æ®çš„å®‰å…¨æ€§å’Œå¯ç”¨æ€§ã€‚ ä½æˆæœ¬ï¼šMongoDB æ˜¯ä¸€ä¸ªå¼€æºçš„æ•°æ®åº“ï¼Œä½¿ç”¨ C++ ç¼–å†™ï¼Œå› æ­¤å…·æœ‰è¾ƒé«˜çš„å¼€å‘æ•ˆç‡ï¼Œéƒ¨ç½²æ–¹ä¾¿ï¼Œæˆæœ¬ä½å»‰ã€‚ é«˜æ‰©å±•æ€§ï¼šMongoDB æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æ•°æ®åº“ï¼Œå¯ä»¥æ°´å¹³æ‰©å±•ï¼Œå³å¯ä»¥å°†æ•°æ®å¤åˆ¶åˆ°å¤šå°æœåŠ¡å™¨ä¸Šï¼Œå®ç°æ•°æ®çš„é«˜å¯ç”¨æ€§ã€‚ éå…³ç³»å‹æ•°æ®åº“å’Œå…³ç³»å‹æ•°æ®åº“çš„åŒºåˆ« éå…³ç³»å‹æ•°æ®åº“ï¼šéå…³ç³»å‹æ•°æ®åº“ä¸ä»…ä»…æ˜¯æŒ‡æ•°æ®åº“çš„å­˜å‚¨ç»“æ„ï¼Œè€Œæ˜¯æŒ‡æ•°æ®åº“çš„å­˜å‚¨ç»“æ„å’Œæ•°æ®åº“çš„æ“ä½œæ–¹å¼ã€‚ å…³ç³»å‹æ•°æ®åº“ï¼šå…³ç³»å‹æ•°æ®åº“æ˜¯æŒ‡æ•°æ®åº“çš„å­˜å‚¨ç»“æ„å’Œæ•°æ®åº“çš„æ“ä½œæ–¹å¼ã€‚ å…³ç³»å‹æ•°æ®åº“å’Œéå…³ç³»å‹æ•°æ®åº“çš„ä¼˜ç¼ºç‚¹ å…³ç³»å‹æ•°æ®åº“çš„ä¼˜ç‚¹ï¼šå…³ç³»å‹æ•°æ®åº“çš„ä¼˜ç‚¹æ˜¯å¯ä»¥å®ç°å…³ç³»å‹æ•°æ®åº“çš„æŸ¥è¯¢ï¼Œæ•°æ®æ›´æ–°ï¼Œæ•°æ®åˆ é™¤ç­‰æ“ä½œï¼Œå¹¶ä¸”è¿™äº›æ“ä½œéƒ½æ˜¯äº‹åŠ¡æ€§çš„ï¼Œå³è¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ã€‚ å…³ç³»å‹æ•°æ®åº“çš„ç¼ºç‚¹ï¼šå…³ç³»å‹æ•°æ®åº“çš„ç¼ºç‚¹æ˜¯å…³ç³»å‹æ•°æ®åº“çš„æŸ¥è¯¢æ€§èƒ½ä¸é«˜ï¼Œå› ä¸ºå…³ç³»å‹æ•°æ®åº“çš„æŸ¥è¯¢æ˜¯åŸºäºè¡¨çš„è¿æ¥æŸ¥è¯¢ï¼Œè€Œéå…³ç³»å‹æ•°æ®åº“çš„æŸ¥è¯¢æ˜¯åŸºäºæ–‡æ¡£çš„åµŒå¥—æŸ¥è¯¢ mongoDBä½¿ç”¨åœºæ™¯ å­˜å‚¨æµ·é‡æ•°æ® å­˜å‚¨åŠ¨æ€æ•°æ® å­˜å‚¨å¤§é‡çš„ç»“æ„åŒ–å’Œéç»“æ„åŒ–æ•°æ® å­˜å‚¨é«˜å¹¶å‘æ•°æ® å­˜å‚¨å¤§é‡çš„é™æ€æ•°æ® å­˜å‚¨å¤§é‡çš„åŠç»“æ„åŒ–æ•°æ® å­˜å‚¨å¤§é‡çš„éç»“æ„åŒ–æ•°æ® å­˜å‚¨å¤§é‡çš„å…³ç³»æ•°æ® å­˜å‚¨å¤§é‡çš„æ–‡æ¡£æ•°æ® å®‰è£… mongoDBç‰ˆæœ¬å·å¥‡æ•°ä¸ºæµ‹è¯•ç‰ˆæœ¬ï¼Œå¶æ•°ä¸ºç¨³å®šç‰ˆæœ¬ï¼Œè€Œä¸”åœ¨3.2ç‰ˆæœ¬ä¹‹åä¸å†æ”¯æŒ32ä½ç³»ç»Ÿï¼Œæ‰€ä»¥å»ºè®®å®‰è£…64ä½çš„ç³»ç»Ÿã€‚ç”±äºä¸åŒæ“ä½œç³»ç»Ÿå®‰è£…æ–¹å¼ç•¥æœ‰ä¸åŒï¼Œå»ºè®®googleä¸€ä¸‹æˆ–è€…è¿›å…¥mongoDBå®˜ç½‘è¿›è¡Œå®‰è£…ã€‚åŒæ—¶æ¨èä¸‹è½½Navicat Premiumæ¥è¿›è¡Œæ•°æ®åº“çš„ç®¡ç†ã€‚ MongoDBçš„åŸºç¡€æ¦‚å¿µ æ•°æ®å­˜å‚¨ç»“æ„åŠå­˜å‚¨åº“ åœ¨ MongoDB ä¸­ï¼Œæ•°æ®å­˜å‚¨ç»“æ„ä¸»è¦ç”±é›†åˆï¼ˆCollectionï¼‰å’Œæ–‡æ¡£ï¼ˆDocumentï¼‰ç»„æˆã€‚è¿™ç§éå…³ç³»å‹æ•°æ®åº“çš„è®¾è®¡çµæ„Ÿæ¥æºäº JSON æ–‡ä»¶æ ¼å¼ï¼Œå› æ­¤éå¸¸çµæ´»ï¼Œé€‚ç”¨äºå¤„ç†å„ç§ä¸åŒå½¢å¼çš„æ•°æ®ã€‚ é›†åˆ é›†åˆæ˜¯ MongoDB ä¸­çš„ä¸€ç§æ•°æ®ç»„ç»‡æ–¹å¼ï¼Œç±»ä¼¼äºå…³ç³»æ•°æ®åº“ä¸­çš„è¡¨ã€‚ä¸åŒçš„æ˜¯ï¼Œé›†åˆå¹¶ä¸è¦æ±‚å…¶ä¸­çš„æ–‡æ¡£å…·æœ‰ç›¸åŒçš„ç»“æ„ï¼Œå¯ä»¥å®¹çº³å„ç§å½¢å¼å’Œç±»å‹çš„æ•°æ®ã€‚é›†åˆçš„å‘½åé€šå¸¸é‡‡ç”¨å°å†™å­—æ¯ï¼Œé¿å…ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦å’Œç©ºæ ¼ã€‚ ç¤ºä¾‹ å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåšå®¢åº”ç”¨ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªé›†åˆåä¸º &quot;articles&quot;ï¼Œç”¨äºå­˜å‚¨æ‰€æœ‰æ–‡ç« çš„æ•°æ®ã€‚æ¯ç¯‡æ–‡ç« å¯ä»¥å…·æœ‰ä¸åŒçš„å­—æ®µï¼Œä¾‹å¦‚æ ‡é¢˜ã€ä½œè€…ã€å†…å®¹ç­‰ã€‚ç¤ºä¾‹åˆ›å»ºé›†åˆçš„å‘½ä»¤å¦‚ä¸‹ï¼š db.createCollection(&quot;articles&quot;) æ–‡æ¡£ æ–‡æ¡£æ˜¯ MongoDB å­˜å‚¨æ•°æ®çš„åŸºæœ¬å•å…ƒï¼Œç±»ä¼¼äºå…³ç³»æ•°æ®åº“ä¸­çš„è¡Œã€‚æ¯ä¸ªæ–‡æ¡£éƒ½æ˜¯ä¸€ä¸ª JSON é£æ ¼çš„å¯¹è±¡ï¼Œå¯ä»¥åŒ…å«å„ç§å­—æ®µå’Œå€¼ã€‚åœ¨ä¸€ä¸ªé›†åˆä¸­ï¼Œæ–‡æ¡£çš„ç»“æ„å¯ä»¥æ˜¯ä¸åŒçš„ï¼Œè¿™ä½¿å¾— MongoDB èƒ½å¤Ÿè½»æ¾åœ°é€‚åº”å˜åŒ–å¤šç«¯çš„æ•°æ®éœ€æ±‚ã€‚ å½“æˆ‘ä»¬ä½¿ç”¨ MongoDB å­˜å‚¨æ•°æ®æ—¶ï¼Œæ–‡æ¡£çš„è¡¨ç¤ºæ–¹å¼ä¸ JSON éå¸¸ç›¸ä¼¼ã€‚ä»¥ä¸‹æ˜¯æ–‡æ¡£çš„ JSON æ ¼å¼ç¤ºä¾‹ï¼š // åœ¨ &quot;articles&quot; é›†åˆä¸­æ’å…¥ä¸€ç¯‡æ–‡ç« çš„æ–‡æ¡£ db.articles.insert({ &quot;title&quot;: &quot;MongoDB Basics&quot;, &quot;author&quot;: &quot;John Doe&quot;, &quot;content&quot;: &quot;An introduction to MongoDB and its key concepts.&quot;, &quot;tags&quot;: [&quot;NoSQL&quot;, &quot;Database&quot;] }) åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸º &quot;articles&quot; çš„é›†åˆï¼Œå¹¶å‘è¯¥é›†åˆæ’å…¥äº†ä¸€ç¯‡æ–‡ç« çš„æ–‡æ¡£ã€‚æ–‡æ¡£çš„ç»“æ„ä»¥ JSON æ ¼å¼è¡¨ç¤ºï¼ŒåŒ…å«äº†æ ‡é¢˜ã€ä½œè€…ã€å†…å®¹å’Œæ ‡ç­¾ç­‰å­—æ®µã€‚ MongoDB çš„çµæ´»æ€§ä½¿å¾—æ–‡æ¡£å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚è‡ªç”±å®šä¹‰å­—æ®µï¼Œè€Œé›†åˆåˆ™æä¾›äº†ä¸€ä¸ªå®¹çº³ä¸åŒæ–‡æ¡£çš„å®¹å™¨ã€‚è¿™ç§æ–¹å¼ä½¿å¾— MongoDB é€‚ç”¨äºå¤„ç†å„ç§æ•°æ®ç»“æ„å’Œæ•°æ®å˜åŒ–çš„åœºæ™¯ã€‚ é€šè¿‡é›†åˆå’Œæ–‡æ¡£ï¼ŒMongoDB æä¾›äº†ä¸€ç§ç›´è§‚ä¸”å¼ºå¤§çš„æ–¹å¼æ¥å­˜å‚¨å’Œç»„ç»‡æ•°æ®ï¼Œé€‚åº”ä¸åŒæ•°æ®ç»“æ„å’Œå˜åŒ–ã€‚è¿™ç§çµæ´»æ€§æ˜¯ MongoDB çš„ä¸€é¡¹å…³é”®ç‰¹æ€§ï¼Œä½¿å…¶æˆä¸ºå¤„ç†å„ç§æ•°æ®åœºæ™¯çš„ç†æƒ³é€‰æ‹©ã€‚ å¸¸ç”¨ MongoDB æŒ‡ä»¤ è¿™æ˜¯ä¸€äº›å¸¸ç”¨çš„ MongoDB å‘½ä»¤ï¼Œæ–¹ä¾¿å¤§å®¶ç†Ÿæ‚‰ MongoDB çš„ä½¿ç”¨ã€‚ æŒ‡ä»¤ æè¿° mongo è¿æ¥åˆ° MongoDB æ•°æ®åº“ show dbs æ˜¾ç¤ºæ‰€æœ‰æ•°æ®åº“ use db_name åˆ‡æ¢åˆ°æŒ‡å®šçš„æ•°æ®åº“ db æ˜¾ç¤ºå½“å‰æ•°æ®åº“ db.dropDatabase() åˆ é™¤å½“å‰æ•°æ®åº“ show collections æ˜¾ç¤ºå½“å‰æ•°æ®åº“ä¸­çš„æ‰€æœ‰é›†åˆ db.createCollection(name) åˆ›å»ºä¸€ä¸ªæ–°çš„é›†åˆ db.collectionName.insert(document) åœ¨æŒ‡å®šé›†åˆä¸­æ’å…¥æ–‡æ¡£ db.collectionName.find() æŸ¥è¯¢æŒ‡å®šé›†åˆä¸­çš„æ–‡æ¡£ db.collectionName.update(query, update) æ›´æ–°æŒ‡å®šé›†åˆä¸­ç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£ db.collectionName.remove(query) åˆ é™¤æŒ‡å®šé›†åˆä¸­ç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£ db.collectionName.drop() åˆ é™¤æŒ‡å®šé›†åˆ db.collectionName.find().sort({field: 1}) æŒ‰æŒ‡å®šå­—æ®µå‡åºæ’åºæ–‡æ¡£ db.collectionName.find().sort({field: -1}) æŒ‰æŒ‡å®šå­—æ®µé™åºæ’åºæ–‡æ¡£ db.collectionName.find().limit(n) é™åˆ¶æŸ¥è¯¢ç»“æœè¿”å›çš„æ–‡æ¡£æ•°é‡ db.collectionName.find().skip(n) è·³è¿‡æŒ‡å®šæ•°é‡çš„æ–‡æ¡£ï¼Œè¿”å›å‰©ä½™çš„æ–‡æ¡£ db.collectionName.find({field: value}) æŸ¥è¯¢æŒ‡å®šå­—æ®µç­‰äºç»™å®šå€¼çš„æ–‡æ¡£ db.collectionName.find({field: { $gt: value }}) æŸ¥è¯¢æŒ‡å®šå­—æ®µå¤§äºç»™å®šå€¼çš„æ–‡æ¡£ db.collectionName.find({field: { $lt: value }}) æŸ¥è¯¢æŒ‡å®šå­—æ®µå°äºç»™å®šå€¼çš„æ–‡æ¡£ db.collectionName.find({field: /pattern/}) ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æŸ¥è¯¢æŒ‡å®šå­—æ®µçš„æ–‡æ¡£ db.collectionName.aggregate(pipeline) æ‰§è¡Œèšåˆæ“ä½œï¼ˆä¾‹å¦‚ï¼Œåˆ†ç»„ã€ç­›é€‰ã€æ’åºï¼‰ db.collectionName.ensureIndex({field: 1}) åˆ›å»ºç´¢å¼•ä»¥åŠ é€ŸæŸ¥è¯¢ db.collectionName.getIndexes() æŸ¥çœ‹é›†åˆçš„ç´¢å¼• åŸºæœ¬çš„å¢åˆ æ”¹æŸ¥ MongoDB æ˜¯ä¸€ä¸ªåŸºäºæ–‡æ¡£çš„æ•°æ®åº“ï¼Œè¿™æ„å‘³ç€ï¼Œä¸å…³ç³»å‹æ•°æ®åº“ç›¸æ¯”ï¼ŒMongoDB ä¸­çš„æ•°æ®å­˜å‚¨æ›´åŠ çµæ´»ã€‚ é¦–å…ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåå­—ä¸ºmytestçš„æ•°æ®åº“ï¼š use mytest å¹¶ä¸”åˆ›é€ ä¸€ä¸ªåå­—ä¸ºuserçš„é›†åˆï¼š db.createCollection(&quot;user&quot;) å¢ åœ¨useré›†åˆä¸­å¢åŠ å•æ¡æ•°æ®ï¼š db.user.insertOne({name: 'lonjin', age: 18}) åœ¨useré›†åˆä¸­å¢åŠ å¤šæ¡æ•°æ®ï¼š db.user.insertMany([ {name: 'lonjin2', age: 22}, {name: 'lonjin3', age: 33} ]) æŸ¥ åœ¨useré›†åˆä¸­æŸ¥è¯¢æ‰€æœ‰æ•°æ®ï¼š db.user.find() åœ¨useré›†åˆä¸­æŸ¥è¯¢æŒ‡å®šæ¡ä»¶çš„æ•°æ®ï¼š db.user.find({age: 18}) åœ¨useré›†åˆä¸­æŸ¥è¯¢æŒ‡å®šæ¡ä»¶çš„æ•°æ®ï¼ˆæŸ¥è¯¢ageç­‰äº18çš„æ•°æ®ï¼‰ï¼š db.user.find({age: 18}) åœ¨useré›†åˆä¸­æŸ¥è¯¢ageå¤§äº18çš„æ•°æ®ï¼š db.user.find({age: {$gt: 18}}) åœ¨useré›†åˆä¸­æŸ¥è¯¢ageå¤§äº18çš„æ•°æ®ï¼š db.user.find({age: {$gt: 18}}) åœ¨useré›†åˆä¸­æŸ¥è¯¢ageå¤§äº18çš„æ•°æ®ï¼Œå¹¶ä¸”åªè¾“å‡ºç¬¦åˆæ¡ä»¶çš„ä¸€æ¡æ•°æ®ï¼š db.user.findOne({age: {$gt: 18}}) æ”¹ åœ¨useré›†åˆä¸­ä¿®æ”¹nameä¸ºlonjinï¼Œè®¾ç½®ä»–çš„ageä¸º16çš„æ•°æ®ï¼š db.user.updateOne({name: 'lonjin'}, {$set:{age: 16}}) åœ¨useré›†åˆä¸­ä¿®æ”¹ageå¤§äº14çš„æ•°æ®ï¼Œå°†nameæ”¹ä¸ºtomï¼š db.user.updateMany({age: {$gt: 14}}, {$set:{name: 'tom'}}) åˆ é™¤ åœ¨useré›†åˆä¸­åˆ é™¤ageä¸º16çš„æ•°æ®ï¼š db.user.deleteOne({age: 16}) åœ¨useré›†åˆä¸­åˆ é™¤ageå¤§äº32çš„æ•°æ®ï¼š db.user.deleteMany({age: {$gt: 32}}) ","link":"https://lonjinup.github.io/mongodb-study/"},{"title":"ã€nodeå­¦ä¹ -04ã€‘åˆ›å»ºExpressé¡¹ç›®","content":"åˆ›å»ºExpressé¡¹ç›® Express æ˜¯ä¸€ä¸ªè½»é‡çº§ã€é«˜åº¦å¯å®šåˆ¶çš„ Web åº”ç”¨ç¨‹åºæ¡†æ¶ï¼Œå®ƒç®€åŒ–äº†åœ¨ Node.js ç¯å¢ƒä¸­æ„å»ºå¼ºå¤§çš„ Web åº”ç”¨ç¨‹åºçš„è¿‡ç¨‹ã€‚å®ƒæä¾›äº†ä¸€ç³»åˆ—çš„åŠŸèƒ½å’Œå·¥å…·ï¼Œå¯ä»¥å¸®åŠ©å¼€å‘è€…å¿«é€Ÿåœ°æ„å»ºé«˜æ€§èƒ½çš„ Web åº”ç”¨ã€‚Express çš„çµæ´»æ€§ä½¿å¾—å®ƒæˆä¸ºäº†è®¸å¤šå¼€å‘è€…é¦–é€‰çš„æ¡†æ¶ä¹‹ä¸€ï¼ŒåŒæ—¶ä¹Ÿè¢«å¹¿æ³›ç”¨äºæ„å»ºå„ç±»è§„æ¨¡çš„é¡¹ç›®ã€‚æ— è®ºæ˜¯å¿«é€Ÿæ­å»ºä¸€ä¸ªç®€å•çš„ API æœåŠ¡å™¨ï¼Œè¿˜æ˜¯å¼€å‘ä¸€ä¸ªå¤æ‚çš„ç½‘ç«™ï¼ŒExpress éƒ½èƒ½æä¾›æ‰€éœ€çš„åŸºç¡€è®¾æ–½å’ŒåŠŸèƒ½æ”¯æŒã€‚ Expressç‰¹æ€§ Express æ˜¯ä¸€ä¸ªç®€æ´ã€çµæ´»çš„ Node.js Web åº”ç”¨ç¨‹åºæ¡†æ¶ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š ä¸Šæ‰‹ç®€å•ï¼Œå­¦ä¹ é—¨æ§›ä½ï¼šExpress æä¾›äº†ç›´è§‚ä¸”ç®€æ´çš„ APIï¼Œä½¿å¾—åˆå­¦è€…å¯ä»¥å¿«é€Ÿä¸Šæ‰‹ï¼Œå¹¶ä¸”å¯ä»¥éšç€ç»éªŒçš„ç§¯ç´¯è¿›è¡Œæ·±å…¥å­¦ä¹ å’Œå®šåˆ¶ã€‚ ä¸°å¯Œçš„APIåŸºç¡€æ”¯æŒï¼šExpress æä¾›äº†è®¸å¤šæ„å»º Web åº”ç”¨æ‰€éœ€çš„åŸºç¡€åŠŸèƒ½ï¼ŒåŒ…æ‹¬è·¯ç”±ã€è¯·æ±‚å’Œå“åº”å¤„ç†ã€ä¸­é—´ä»¶ç­‰ï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥æ–¹ä¾¿åœ°æ„å»ºå‡ºå„ç§ç±»å‹çš„åº”ç”¨ã€‚ å¼ºå¤§çš„è·¯ç”±åŠŸèƒ½ï¼šExpress æä¾›äº†çµæ´»çš„è·¯ç”±åŠŸèƒ½ï¼Œå¯ä»¥æ ¹æ®ä¸åŒçš„ URL è·¯å¾„åˆ†å‘åˆ°ä¸åŒçš„å¤„ç†ç¨‹åºï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥è½»æ¾åœ°ç®¡ç†å„ç±»è¯·æ±‚å’Œå“åº”ã€‚ çµæ´»çš„ä¸­é—´ä»¶æ”¯æŒï¼šExpress ä¸­é—´ä»¶æä¾›äº†ä¸€ç§æœ‰æ•ˆçš„æ–¹å¼æ¥å¤„ç† HTTP è¯·æ±‚ã€‚å¼€å‘è€…å¯ä»¥é€šè¿‡ä¸­é—´ä»¶æ¥æ‰©å±• Express çš„åŠŸèƒ½ï¼Œä¾‹å¦‚èº«ä»½éªŒè¯ã€æ—¥å¿—è®°å½•ç­‰ï¼Œä½¿å¾—åº”ç”¨å…·æœ‰æ›´å¼ºçš„å¯å®šåˆ¶æ€§ã€‚ æ€§èƒ½æ¥è¿‘åŸç”ŸNodeï¼šç”±äº Express æ˜¯åŸºäº Node.js æ„å»ºçš„ï¼Œå®ƒåœ¨å¤„ç†è¯·æ±‚å’Œå“åº”æ—¶éå¸¸é«˜æ•ˆï¼Œæ€§èƒ½æ¥è¿‘åŸç”Ÿçš„ Node.jsã€‚ Expresså¯ä»¥åšä»€ä¹ˆ Express æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ¡†æ¶ï¼Œå¯ä»¥ç”¨äºæ„å»ºå¤šç§ç±»å‹çš„åº”ç”¨ï¼š ç½‘ç«™ï¼šExpress å¯ä»¥ç”¨äºæ„å»ºå„ç§ç±»å‹çš„ç½‘ç«™ï¼Œä»ç®€å•çš„ä¸ªäººåšå®¢åˆ°å¤æ‚çš„ä¼ä¸šç½‘ç«™ï¼Œéƒ½å¯ä»¥é€šè¿‡ Express è½»æ¾å®ç°ã€‚ APIæ¥å£æœåŠ¡å™¨ï¼šè®¸å¤šç°ä»£åº”ç”¨ç¨‹åºä¾èµ–äºåç«¯æä¾› API æ¥å£ï¼ŒExpress å¯ä»¥ä½œä¸ºä¸€ä¸ªé«˜æ•ˆçš„ API æœåŠ¡å™¨ï¼Œæä¾›æ•°æ®çš„è·å–ã€å¤„ç†å’Œå“åº”åŠŸèƒ½ã€‚ æœåŠ¡ç«¯æ¸²æŸ“ä¸­é—´å±‚ï¼šExpress å¯ä»¥ä½œä¸ºæœåŠ¡ç«¯æ¸²æŸ“åº”ç”¨çš„ä¸­é—´å±‚ï¼Œå¤„ç†å‰ç«¯é¡µé¢è¯·æ±‚å¹¶åœ¨æœåŠ¡å™¨ç«¯è¿›è¡Œæ¸²æŸ“ï¼Œæé«˜é¡µé¢åŠ è½½é€Ÿåº¦å’Œ SEO ä¼˜åŒ–ã€‚ å¼€å‘ä¸€äº›è¾…åŠ©å·¥å…·ï¼šExpress å¯ä»¥ç”¨äºå¼€å‘ä¸€äº›è¾…åŠ©å·¥å…·ï¼Œä¾‹å¦‚å¿«é€Ÿæ­å»ºé™æ€æ–‡ä»¶æœåŠ¡å™¨ã€ä»£ç†æœåŠ¡å™¨ç­‰ï¼Œæå‡å¼€å‘æ•ˆç‡ã€‚ è‡ªå®šä¹‰é›†æˆæ¡†æ¶ï¼šExpress æä¾›äº†è¶³å¤Ÿçš„çµæ´»æ€§ï¼Œå¯ä»¥æ ¹æ®é¡¹ç›®éœ€æ±‚è¿›è¡Œå®šåˆ¶ï¼Œç”šè‡³ç»“åˆå…¶ä»–æ¨¡å—ï¼Œæ„å»ºå‡ºç¬¦åˆç‰¹å®šè¦æ±‚çš„å®šåˆ¶æ¡†æ¶ã€‚ Expressé¡¹ç›®æ„å»º å®‰è£…Express é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªåä¸º express çš„æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨ç»ˆç«¯ä¸­è¿›å…¥è¯¥æ–‡ä»¶å¤¹ã€‚æ¥ç€ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„ Node.js é¡¹ç›®ï¼š npm init -y ç„¶åï¼Œæˆ‘ä»¬å®‰è£… Expressï¼š npm i express è¿™æ ·ï¼Œæˆ‘ä»¬å°±æˆåŠŸåœ°å®‰è£…äº† Expressã€‚æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡åº”ç”¨ç”Ÿæˆå™¨å·¥å…· express-generator å¿«é€Ÿåˆ›å»ºä¸€ä¸ªåº”ç”¨çš„éª¨æ¶ï¼Œè¿™é‡Œå…ˆä¸å±•å¼€å™è¿°äº†ã€‚ åˆ›å»ºè¯·æ±‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªåä¸º app.js çš„æ–‡ä»¶ï¼Œå¹¶åœ¨å…¶ä¸­å¼•å…¥ Expressã€‚éšåï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ä¸ªç®€å•çš„ GET è¯·æ±‚å¤„ç†ï¼š æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª/db.jsonæ–‡ä»¶ï¼š { &quot;user&quot;: [ { &quot;id&quot;: 1, &quot;name&quot;: &quot;zhangsan&quot;, &quot;age&quot;: 18, &quot;sex&quot;: &quot;ç”·&quot; } ] } ç„¶ååœ¨/app.jsä¸­æ·»åŠ ä¸€ä¸ª/userçš„getè¯·æ±‚æ¥å£ï¼Œè¯¥æ¥å£è¿”å›åˆšæ‰db.jsonä¸­çš„å†…å®¹ï¼š const express = require('express') const app = express() const fs = require('fs') app.get('/user', (req, res) =&gt; { fs.readFile('./db.json', 'utf8', (err, data) =&gt; { if (err) { res.status(500).json(err) } else { res.send(JSON.parse(data)) } }) }) app.listen(3001, () =&gt; { console.log('http://127.0.0.1:3001') }) æœ€åï¼Œé€šè¿‡ä»¥ä¸‹å‘½ä»¤è¿è¡Œé¡¹ç›®(ä¹‹å‰å…¨å±€å®‰è£…è¿‡nodemon)ï¼š nodemon app.js è®¿é—®http://127.0.0.1:3001/userå³å¯è·å¾—åˆ°æˆ‘ä»¬çš„å“åº”æ•°æ®ã€‚ ä½†æ˜¯ä¸Šé¢çš„å†™æ³•ä¸€ç›´æ˜¯ä¸å¤Ÿä¼˜é›…ï¼Œå†™äº†å¾ˆå¤šå›è°ƒå‡½æ•°ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥promiseåŒ–ä¸€ä¸‹ï¼š const express = require('express') const app = express() const fs = require('fs') //å¼•å…¥promisify const { promisify } = require('util') const readFile = promisify(fs.readFile) app.get('/user', async (req, res) =&gt; { try { let back = await readFile('./db.json', 'utf8') res.send(JSON.parse(back)) } catch (error) { res.status(500).json({ error }) } }) app.listen(3001, () =&gt; { console.log('http://127.0.0.1:3001') }) ä¸Šé¢æˆ‘ä»¬å·²ç»å»ºç«‹äº†ä¸€ä¸ªgetè¯·æ±‚ï¼Œä¸‹é¢æˆ‘ä»¬è¯•ç€åˆ›å»ºä¸€ä¸ªpostè¯·æ±‚ï¼Œå¹¶æ¥å—ä¸€äº›å‚æ•°ï¼š const express = require('express') const app = express() const fs = require('fs') const { promisify } = require('util') const readFile = promisify(fs.readFile) // è§£æpostè¯·æ±‚ app.use(express.urlencoded({ extended: true })) app.use(express.json()) //å¤„ç†è¯·æ±‚ app.post('/add', async (req, res) =&gt; { console.log(req.headers) //å½“å‰è¯·æ±‚å¤´ä¿¡æ¯ console.log(req.body) //å½“å‰è¯·æ±‚ä½“ä¿¡æ¯ res.send('post success') }) app.listen(3001, () =&gt; { console.log('http://127.0.0.1:3001') }) åˆ›å»ºæˆåŠŸåï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨postmanæ¥æµ‹è¯•æˆ‘ä»¬çš„æ¥å£ï¼š å‚æ•°æ ¼å¼ä¸º'content-type': 'application/x-www-form-urlencoded' å‚æ•°æ ¼å¼ä¸º'content-type': 'application/json' ä»‹ç»ä¸€ä¸‹å¸¸è§ä¼ å‚æ ¼å¼ åˆšæ‰æˆ‘ä»¬åªæ˜¯å†™äº†ä¸€ä¸ªç®€å•çš„postè¯·æ±‚å¹¶è¯»å–äº†è¯·æ±‚ä¸­æºå¸¦çš„å‚æ•°ï¼Œä¸‹é¢æˆ‘ä»¬æŠŠæ‹¿åˆ°çš„å‚æ•°å†™å…¥åˆ°db.jsonä¸­ï¼š const express = require('express') const app = express() const fs = require('fs') const { promisify } = require('util') const readFile = promisify(fs.readFile) // 1.promisify å†™å…¥æ–‡ä»¶ const writeFile = promisify(fs.writeFile) app.use(express.urlencoded({ extended: true })) app.use(express.json()) app.post('/add', async (req, res) =&gt; { // åˆ¤è¯»bodyæ˜¯å¦ä¸ºç©º let body = req.body if (Object.keys(body).length !== 0) { try { // è¯»å–æ–‡ä»¶ let db = await readFile('./db.json', 'utf8') let data = JSON.parse(db) // æ·»åŠ id body.id = data.user[data.user.length - 1].id + 1 data.user.push(body) // å†™å…¥æ–‡ä»¶ let result = await writeFile('./db.json', JSON.stringify(data), 'utf8') if (!result) { res.status(200).json({ message: 'å†™å…¥æˆåŠŸ' }) } else { res.status(500).json({ error: 'å†™å…¥å¤±è´¥' }) } } catch (error) { res.status(500).json({ error }) } } else { res.status(400).json({ error: 'ç¼ºå°‘ä¿¡æ¯' }) } }) app.listen(3001, () =&gt; { console.log('http://127.0.0.1:3001') }) è¿™æ ·æˆ‘ä»¬å°±å®Œæˆäº†æ·»åŠ ç”¨æˆ·çš„æ¥å£é€»è¾‘ã€‚ ","link":"https://lonjinup.github.io/node-04/"},{"title":"ç®€åŒ–æœ¬åœ°Vueé¡¹ç›®ç™»å½•æµç¨‹ï¼šç”¨Nodeè„šæœ¬ä¸€é”®è·å–Token","content":" æœ€è¿‘å…¬å¸æœ‰ä¸ªé¡¹ç›®æ˜¯åŸºäºvueå¼€å‘çš„ï¼Œä½†éƒ¨åˆ†è€é¡µé¢æ˜¯å‰åç«¯ä¸åˆ†ç¦»çš„ï¼›æ¯”å¦‚ç™»å½•é¡µé¢ã€‚ç”±äºåç«¯ä¹Ÿæ²¡æœ‰ç›¸å…³ç™»å½•æ¥å£ï¼Œæ‰€ä»¥æ¯æ¬¡åœ¨æœ¬åœ°å¯åŠ¨æœåŠ¡åï¼Œéœ€è¦åˆ°æµ‹è¯•ç¯å¢ƒç™»é™†ï¼›ç„¶åæ‰‹åŠ¨å¤åˆ¶å‡ ä¸ªcookieç²˜è´´åˆ°æœ¬åœ°å¯åŠ¨çš„é¡µé¢ä¸­ï¼Œæ•´ä¸ªè¿‡ç¨‹æ¯”è¾ƒç¹ï¼›æ‰€ä»¥ç”¨nodeå†™ä¸ªè„šæœ¬å»ç®€åŒ–ä¸€ä¸‹æµç¨‹ã€‚ ä¼˜åŒ–å‰ æœ¬åœ°npm run serveå¯åŠ¨æœåŠ¡ ç™»å½•æµ‹è¯•ç¯å¢ƒhttps://test.xxxx.com/login æ‰“å¼€è°ƒè¯•ï¼Œæ‰¾åˆ°ç›¸å…³cookieï¼Œå¤åˆ¶ æ‰“å¼€æœ¬åœ°å¯åŠ¨çš„é¡µé¢å¹¶æ‰“å¼€è°ƒè¯•ï¼›ç²˜è´´å¤åˆ¶çš„cookieï¼Œåˆ·æ–°é¡µé¢ å½“ç„¶ï¼Œä»¥ä¸‹æ˜¯ä½ æ•´ä¸ªè„šæœ¬çš„é€æ­¥è§£é‡Šï¼š ä¼˜åŒ–è¿‡ç¨‹ å®‰è£…Puppeteerå’Œreadline Puppeteer: Puppeteer æ˜¯ä¸€ä¸ªç”± Google å¼€å‘çš„ Node.js åº“ï¼Œç”¨äºæ§åˆ¶ headless æµè§ˆå™¨ï¼ˆæ— å›¾å½¢ç”¨æˆ·ç•Œé¢çš„æµè§ˆå™¨ï¼‰ã€‚å®ƒæä¾›äº†ä¸€å¥—é«˜çº§çš„ APIï¼Œå…è®¸å¼€å‘è€…é€šè¿‡ç¨‹åºæ–¹å¼æ“æ§æµè§ˆå™¨çš„è¡Œä¸ºï¼ŒåŒ…æ‹¬å¯¼èˆªã€è¡¨å•æäº¤ã€æˆªå›¾ã€ç”Ÿæˆ PDF ç­‰åŠŸèƒ½ã€‚Puppeteeré€šå¸¸ç”¨äºæ‰§è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•ã€å±å¹•æˆªå›¾ã€æœç´¢å¼•æ“çˆ¬è™«ç­‰ä»»åŠ¡ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ Puppeteer æ¨¡æ‹Ÿç”¨æˆ·ç™»å½•è¿‡ç¨‹ï¼Œè·å–ç™»å½•åçš„ Cookiesã€‚ readline: readline æ˜¯ Node.js å†…ç½®çš„æ¨¡å—ä¹‹ä¸€ï¼Œæä¾›äº†ä¸€ä¸ªæ¥å£æ¥ä»å¯è¯»æµï¼ˆå¦‚ process.stdinï¼‰è¯»å–æ•°æ®ã€‚å®ƒé€šå¸¸ç”¨äºä»ç»ˆç«¯æ¥æ”¶ç”¨æˆ·è¾“å…¥ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥ä»¥äº¤äº’çš„æ–¹å¼ä¸ç”¨æˆ·è¿›è¡Œé€šä¿¡ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ readline åˆ›å»ºäº†ä¸€ä¸ªæ¥å£ï¼Œä»¥ä¾¿ç”¨æˆ·èƒ½å¤Ÿåœ¨ç»ˆç«¯ä¸­è¾“å…¥è´¦å·å’Œå¯†ç ã€‚ è¿™ä¸¤ä¸ªæ¨¡å—çš„ç»“åˆä½¿ç”¨ä½¿å¾—æˆ‘ä»¬å¯ä»¥é€šè¿‡ Puppeteer æ§åˆ¶æµè§ˆå™¨å®Œæˆç™»å½•ï¼Œè€Œ readline åˆ™ä½¿å¾—ç”¨æˆ·èƒ½å¤Ÿåœ¨ç»ˆç«¯ä¸­ç›´æ¥è¾“å…¥è´¦å·å’Œå¯†ç ã€‚ å®‰è£…å¹¶å¼•å…¥æ¨¡å— npm i puppeteer@20.0.0 npm i readline å¼•å…¥ puppeteerã€readline å’Œ fsï¼š const puppeteer = require('puppeteer') const readline = require('readline') const fs = require('fs') å®šä¹‰ç™»å½•å‡½æ•° æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªåä¸º login çš„å¼‚æ­¥å‡½æ•°ï¼Œç”¨äºæ¨¡æ‹Ÿç”¨æˆ·ç™»å½•å’Œè·å– cookiesã€‚ /** * ç™»å½• * @param {string} url ç™»å½•é¡µé¢url * @param {string} usernameSelector ç™»å½•é¡µé¢ç”¨æˆ·åè¾“å…¥æ¡†çš„ID * @param {string} passwordSelector ç™»å½•é¡µé¢å¯†ç è¾“å…¥æ¡†çš„ID * @param {string} username è´¦å· * @param {string} password å¯†ç  */ async function login(url, usernameSelector, passwordSelector, username, password) { // ... } å¯åŠ¨æµè§ˆå™¨ åœ¨ login å‡½æ•°ä¸­ï¼Œä½¿ç”¨ puppeteer.launch() å¯åŠ¨ä¸€ä¸ª headless æµè§ˆå™¨å®ä¾‹ï¼Œç„¶åé€šè¿‡page.gotoæ‰“å¼€æˆ‘ä»¬ä¼ å…¥çš„urlã€‚ const browser = await puppeteer.launch({ headless: true }) const page = await browser.newPage() await page.goto(url, { waitUntil: 'load' }) è¾“å…¥ç”¨æˆ·åå’Œå¯†ç  ä½¿ç”¨ page.type() æ¨¡æ‹Ÿè¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¾“å…¥æ¡†çš„é€‰æ‹©å™¨ã€‚ç™»å½•å®Œæˆåï¼Œæˆ‘ä»¬å†é€šè¿‡page.clickå»ç‚¹å‡»ç™»å½•æŒ‰é’®ã€‚ await page.type(usernameSelector, username) await page.type(passwordSelector, password) await page.click('#_btnLogin') await page.waitForNavigation({ waitUntil: 'load' }) è·å– Cookies ä½¿ç”¨ page.cookies() è·å–é¡µé¢çš„ cookiesï¼Œå¹¶å°†æˆ‘ä»¬éœ€è¦çš„tokenæå–å‡ºæ¥ã€‚æˆ‘ä»¬è¿™é‡Œå°±éšä¾¿ä»¥APITOKEN å’Œ bpmftoken ä¸ºä¾‹å­ï¼› æå–åæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨browser.close()å…³é—­æµè§ˆå™¨ã€‚ const cookies = await page.cookies() const tokens = {} for (const cookie of cookies) { cookie.name === 'APITOKEN' &amp;&amp; (tokens.APITOKEN = cookie.value) cookie.name === 'bpmftoken' &amp;&amp; (tokens.bpmftoken = cookie.value) } browser.close() å†™å…¥Tokensåˆ°æ–‡ä»¶ å°†è·å–åˆ°çš„tokenså†™å…¥JSONæ–‡ä»¶å¹¶å…³é—­ç»ˆç«¯ã€‚ const tokenJSON = JSON.stringify(tokens, null, 2) const filePath = './src/config/tokens.json' fs.writeFile(filePath, tokenJSON, (err) =&gt; { if (err) throw err console.log('tokenå·²å†™å…¥ï¼Œè¯·æ‰§è¡Œ npm run serve') process.exit(1) }); è®¿é—®ç»ˆç«¯è¾“å…¥æ•°æ® ä½¿ç”¨ readline æ¨¡å—åˆ›å»ºä¸€ä¸ªæ¥å£ï¼Œè·å–ç”¨æˆ·è¾“å…¥çš„è´¦å·å’Œå¯†ç ã€‚ const rl = readline.createInterface({ input: process.stdin, output: process.stdout }); let username = null; let password = null; const url = 'https://xxxx..com/login'; //ç™»å½•é¡µé¢ const usernameSelector = '#_txtUid'; //ç”¨æˆ·åè¾“å…¥æ¡†ID const passwordSelector = '#_txtPwd'; //å¯†ç è¾“å…¥æ¡†ID rl.question('è¯·è¾“å…¥è´¦å·:', (answer) =&gt; { username = answer rl.question('è¯·è¾“å…¥å¯†ç :', (answer) =&gt; { password = answer rl.close() login(url, usernameSelector, passwordSelector, username, password) }); }); ç»ˆç«¯æ‰§è¡Œä¸‹é¢å‘½ä»¤å³å¯å®ç°è·å–tokenã€‚ node login.js ç„¶ååœ¨é¡¹ç›®ä¸­é€šè¿‡è¯»å–/src/config/tokens.jsonä¸­çš„å†…å®¹å»æ‰‹åŠ¨å†™å…¥tokenå³å¯ã€‚ å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š const puppeteer = require('puppeteer') const readline = require('readline') const fs = require('fs') async function login(url, usernameSelector, passwordSelector, username, password) { const browser = await puppeteer.launch({ headless: true }) const page = await browser.newPage() try { await page.goto(url, { waitUntil: 'load' }) try { await page.type(usernameSelector, username) await page.type(passwordSelector, password) } catch (error) { console.log(error) } await page.click('#_btnLogin') await page.waitForNavigation({ waitUntil: 'load' }) console.log('ç™»å½•æˆåŠŸ') await page.waitForTimeout(500) const cookies = await page.cookies() const tokens = {} for (const cookie of cookies) { cookie.name === 'APITOKEN' &amp;&amp; (tokens.APITOKEN = cookie.value) cookie.name === 'bpmftoken' &amp;&amp; (tokens.bpmftoken = cookie.value) } await browser.close() const tokenJSON = JSON.stringify(tokens, null, 2) const filePath = './src/config/tokens.json' fs.writeFile(filePath, tokenJSON, (err) =&gt; { if (err) throw err; console.log('tokenå·²å†™å…¥, è¯·æ‰§è¡Œnpm run serve') process.exit(1) }); } catch (error) { console.error('Error:', error) await browser.close() process.exit(1) } } let username = null; let password = null; const url = 'https://xxxx..com/login'; //ç™»å½•é¡µé¢ const usernameSelector = '#_txtUid'; //ç”¨æˆ·åè¾“å…¥æ¡†ID const passwordSelector = '#_txtPwd'; //å¯†ç è¾“å…¥æ¡†ID const rl = readline.createInterface({ input: process.stdin, output: process.stdout }); rl.question('è¯·è¾“å…¥è´¦å·(é»˜è®¤GP00164ï¼Œç›´æ¥å›è½¦): ', (answer) =&gt; { username = answer || 'GP00164'; rl.question('è¯·è¾“å…¥å¯†ç : (é»˜è®¤GP00164ï¼Œç›´æ¥å›è½¦)', (answer) =&gt; { password = answer || 'Xxzx2023@123' rl.close() login(url, usernameSelector, passwordSelector, username, password) }) }) æ€»ç»“ è¿™æ ·æˆ‘ä»¬åœ¨æœ¬åœ°å¼€å‘è¿‡ç¨‹ä¸­å°±ä¸éœ€è¦æ‰‹åŠ¨å¤åˆ¶tokenï¼Œç›´æ¥è¿è¡Œnode login.jså³å¯ã€‚ å½“ç„¶Puppeteerå¯ä»¥åšå¾ˆå¤šäº‹æƒ…ï¼Œæ¯”å¦‚è‡ªåŠ¨åŒ–æµ‹è¯•ã€å±å¹•æˆªå›¾å’Œç”Ÿæˆ PDFã€çˆ¬è™«ã€æ€§èƒ½æµ‹è¯•ã€è¡¨å•è‡ªåŠ¨å¡«å†™ç­‰ç­‰ï¼Œæ›´å¤šAPIå¯ä»¥æŸ¥çœ‹å®˜ç½‘å­¦ä¹ ã€‚ ","link":"https://lonjinup.github.io/node-login/"},{"title":"ã€nodeå­¦ä¹ -03ã€‘æ ¸å¿ƒæ¨¡å—http","content":"Node.js æ ¸å¿ƒæ¨¡å—http ä¸‹é¢æˆ‘ä»¬å°†å­¦ä¹  Node.js çš„ http æ¨¡å—ï¼Œé€šè¿‡å®ƒæ¥å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š åˆ›å»ºä¸€ä¸ª HTTP æœåŠ¡å™¨ æœåŠ¡å™¨æ¥æ”¶è¯·æ±‚å¹¶è¿›è¡Œå¤„ç† å“åº”å¹¶è¿”å›å¤„ç†ç»“æœ getè¯·æ±‚ æ–°å»º server.js æ–‡ä»¶ï¼š // 1.å¯¼å…¥æ¨¡å— const http = require('http') // 2.åˆ›å»ºæœåŠ¡å™¨ è·å–æœåŠ¡å™¨çš„å®ä¾‹å¯¹è±¡ let server = http.createServer() server.listen(3000, () =&gt; { console.log('http://127.0.0.1:3000') }) // 3.æ¥æ”¶å“åº” server.on('request', (req, res) =&gt; { // 4.å¤„ç†å“åº” res.write('888') //5.æ–­å¼€è¿æ¥ res.end() }) ç„¶ååœ¨ç»ˆç«¯è¿è¡Œï¼š node server.js æ§åˆ¶å°å°†è¾“å‡º http://127.0.0.1:3000ã€‚ åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼Œä¼šå¾—åˆ°æˆ‘ä»¬å†™å…¥çš„ 888ã€‚ åœ¨ Node.js å¼€å‘ä¸­ï¼Œæ¯æ¬¡ä¿®æ”¹ä»£ç åéƒ½éœ€è¦é‡å¯æœåŠ¡æ‰èƒ½çœ‹åˆ°æ–°çš„è¾“å‡ºã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ nodemon å·¥å…·ï¼Œå®ƒå¯ä»¥è‡ªåŠ¨æ£€æµ‹æ–‡ä»¶çš„å˜åŒ–å¹¶æ›´æ–°æœåŠ¡ã€‚å®‰è£…æ­¥éª¤å¦‚ä¸‹ï¼š sudo npm i -g nodemon å®‰è£…å®Œæˆåï¼Œé€šè¿‡ä¸‹é¢å‘½ä»¤å¯åŠ¨é¡¹ç›®ï¼š nodemon server.js å½“æˆ‘ä»¬å°è¯•è¾“å‡ºä¸­æ–‡æ—¶ï¼Œå¯èƒ½ä¼šå‘ç°æµè§ˆå™¨å†…æ˜¾ç¤ºçš„æ˜¯ä¹±ç ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬æ²¡æœ‰å‘Šè¯‰æµè§ˆå™¨å¦‚ä½•è§£æè¿™æ®µæ–‡æœ¬ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€ä¸‹å“åº”å¤´ï¼š server.on('request', (req, res) =&gt; { res.setHeader('Content-Type', 'text/plain;charset=UTF-8'); // è®¾ç½®å“åº”å¤´ res.write('ä½ å¥½') res.end() }) é€šè¿‡ä¿®æ”¹å“åº”å¤´ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¾“å‡ºå¯¹åº”çš„å†…å®¹ã€‚ å¸¸è§è¯·æ±‚æ–¹å¼ ä»¥ä¸‹æ˜¯ Node.js ä¸­å¸¸è§çš„è¯·æ±‚æ–¹æ³•åŠå…¶è¯´æ˜ï¼š æ–¹æ³• è¯´æ˜ GET ç”¨äºå‘æŒ‡å®šçš„èµ„æºè¯·æ±‚æ•°æ®ã€‚ POST ç”¨äºå‘æŒ‡å®šçš„èµ„æºæäº¤è¦è¢«å¤„ç†çš„æ•°æ®ã€‚ PUT ç”¨äºå‘æŒ‡å®šçš„èµ„æºä½ç½®ä¸Šä¼ å…¶æœ€æ–°å†…å®¹ã€‚ DELETE åˆ é™¤æŒ‡å®šçš„èµ„æºã€‚ HEAD ç±»ä¼¼äº GET è¯·æ±‚ï¼Œä½†åªè¿”å› HTTP æŠ¥å¤´ï¼Œä¸è¿”å›å®ä½“ä¸»ä½“ã€‚ OPTIONS ç”¨äºè·å–ç›®æ ‡èµ„æºæ‰€æ”¯æŒçš„é€šä¿¡é€‰é¡¹ã€‚ PATCH å¯¹èµ„æºè¿›è¡Œéƒ¨åˆ†ä¿®æ”¹ã€‚ è¿™äº›æ–¹æ³•åœ¨ HTTP åè®®ä¸­å®šä¹‰ï¼ŒNode.js æä¾›äº†å¯¹è¿™äº›æ–¹æ³•çš„æ”¯æŒï¼Œå¯ä»¥é€šè¿‡æ„å»º HTTP è¯·æ±‚æ¥ä½¿ç”¨å®ƒä»¬ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨ http æˆ– https æ¨¡å—åˆ›å»ºä¸€ä¸ªæœåŠ¡å™¨ï¼Œç„¶åæ ¹æ®æ¥æ”¶åˆ°çš„è¯·æ±‚çš„æ–¹æ³•æ¥æ‰§è¡Œç›¸åº”çš„å¤„ç†ã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å‘èµ·ä¸€ä¸ªå¸¦æœ‰å‚æ•°çš„ GET è¯·æ±‚ï¼š åœ¨ server.js ä¸­ï¼š const http = require('http') const url = require('url') // è§£ææºå¸¦çš„å‚æ•° let server = http.createServer() server.listen(3000, () =&gt; { console.log('http://127.0.0.1:3000') }) // æ¥æ”¶å“åº” server.on('request', (req, res) =&gt; { if (req.method === 'GET') { let { query } = url.parse(req.url, true) res.write('GET è¯·æ±‚ï¼Œå‚æ•°ä¸ºï¼š' + query.id) res.end() } }) åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š http://127.0.0.1:3000/user?id=123 å°†ä¼šè¿”å›ï¼š GET è¯·æ±‚ï¼Œå‚æ•°ä¸ºï¼š123 è¿™ä¸ªä¾‹å­æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ Node.js å‘èµ·å¸¦å‚æ•°çš„ GET è¯·æ±‚ã€‚ å¤„ç† POST è¯·æ±‚ åœ¨ server.js ä¸­ï¼š const http = require('http') const url = require('url') let server = http.createServer() server.listen(3000, () =&gt; { console.log('http:127.0.0.1:3000') }) server.on('request', (req, res) =&gt; { res.setHeader('Content-Type', 'text/plain;charset=UTF-8'); // è®¾ç½®å“åº”å¤´ if (req.method === 'GET') { let { query } = url.parse(req.url, true) res.write('getè¯·æ±‚,å‚æ•°ä¸º:' + query.id) res.end() } else if (req.method === 'POST') { let postData = '' req.on('data', chunk =&gt; { postData += chunk }) req.on('end', () =&gt; { res.write('POST è¯·æ±‚, å‚æ•°ä¸º: ' + postData) res.end(); }) } }) åœ¨å¤„ç† POST è¯·æ±‚æ—¶ï¼Œæˆ‘ä»¬é€šè¿‡ç›‘å¬ data äº‹ä»¶å’Œ end äº‹ä»¶æ¥è·å–è¯·æ±‚çš„æ•°æ®ã€‚åœ¨ data äº‹ä»¶ä¸­ï¼Œæˆ‘ä»¬å°†æ¯ä¸ªæ•°æ®å—ï¼ˆchunkï¼‰ç´¯åŠ åˆ° postData ä¸­ï¼Œæœ€ç»ˆåœ¨ end äº‹ä»¶ä¸­å¤„ç†å®Œæ•´çš„è¯·æ±‚æ•°æ®ã€‚ ä»£ç æ‹†åˆ† ä»¥ä¸Šç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•å¤„ç†ä¸åŒè¯·æ±‚æ–¹æ³•çš„é€»è¾‘ï¼Œä½†åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¼šè¿›ä¸€æ­¥å°†ä»£ç æ‹†åˆ†ä»¥ä¿æŒç»“æ„æ¸…æ™°ã€‚ æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ª router.js æ–‡ä»¶æ¥å¤„ç†è·¯ç”±ï¼Œä»¥åŠä¸€ä¸ª controller.js æ–‡ä»¶æ¥å¤„ç†å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ã€‚ router.jsï¼š const fs = require('fs') const controller = require('./controller') module.exports = (req, res) =&gt; { res.setHeader('Content-Type', 'text/plain;charset=UTF-8'); // è®¾ç½®å“åº”å¤´ if (req.method === 'GET') { if (req.url == '/') { controller.index(res) } } else if (req.method === 'POST') { let postData = '' req.on('data', chunk =&gt; { postData += chunk }) req.on('end', () =&gt; { controller.user(require('querystring').parse(postData), res) }) } } controller.jsï¼š const url = require('url') module.exports = { index(req, res) { let { query } = url.parse(req.url, true) res.write('getè¯·æ±‚') res.end() }, user(data, res) { console.log(data) res.end() } } é€šè¿‡å°†ä¸åŒçš„é€»è¾‘æ¨¡å—æ‹†åˆ†åˆ° controller.js ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ›´æ¸…æ™°åœ°ç»„ç»‡ä»£ç ã€‚è¿™æ ·åœ¨å®é™…çš„å¼€å‘ä¸­ï¼Œä¹Ÿèƒ½æ›´æ–¹ä¾¿åœ°ç»´æŠ¤å’Œæ‰©å±•åº”ç”¨ç¨‹åºã€‚ ","link":"https://lonjinup.github.io/node-http/"},{"title":"vue3é¡¹ç›®å¦‚ä½•é…ç½®ESLintå’Œprettier","content":"vue3é¡¹ç›®å¦‚ä½•é…ç½®ESLintå’Œprettier é…ç½®eslint å®‰è£…eslint npm add eslint -D å®‰è£…å®Œæˆåè¿›è¡Œé¡¹ç›®åˆå§‹åŒ– npm init @eslint/config ç„¶åæ ¹æ®æç¤ºé€‰æ‹©å¯¹åº”çš„é€‰é¡¹ï¼Œä½œè€…ä¸ªäººé€‰æ‹©å¦‚ä¸‹ï¼š ? How would you like to use ESLint? ... To check syntax only To check syntax and find problems &gt; To check syntax, find problems, and enforce code style To check syntax only: ä»…æ£€æŸ¥è¯­æ³• è¿™ä¸ªé€‰é¡¹åªä¼šè®© ESLint æ£€æŸ¥æ‚¨çš„ä»£ç æ˜¯å¦ç¬¦åˆè¯­æ³•è§„åˆ™ï¼Œä¸ä¼šæ‰§è¡Œå…¶ä»–çš„ä»£ç è´¨é‡æ£€æŸ¥æˆ–é£æ ¼å¼ºåˆ¶ã€‚ To check syntax and find problems: æ£€æŸ¥è¯­æ³•å¹¶å‘ç°é—®é¢˜ é€‰æ‹©è¿™ä¸ªé€‰é¡¹åï¼ŒESLint å°†æ£€æŸ¥æ‚¨çš„ä»£ç è¯­æ³•ï¼Œå¹¶æŸ¥æ‰¾å¯èƒ½å­˜åœ¨çš„é—®é¢˜ï¼Œå¦‚æœªå®šä¹‰çš„å˜é‡ã€æœªä½¿ç”¨çš„å˜é‡ç­‰ã€‚ To check syntax, find problems, and enforce code style: æ£€æŸ¥è¯­æ³•ã€å‘ç°é—®é¢˜å¹¶å¼ºåˆ¶ä»£ç é£æ ¼ã€‚è¿™æ˜¯æœ€å…¨é¢çš„é€‰é¡¹ï¼Œé€‰æ‹©åï¼ŒESLint å°†ä¸ä»…æ£€æŸ¥è¯­æ³•å’Œé—®é¢˜ï¼Œè¿˜ä¼šæ ¹æ®æ‚¨çš„é…ç½®å¼ºåˆ¶æ‰§è¡Œä»£ç é£æ ¼è§„åˆ™ï¼Œç¡®ä¿ä»£ç åœ¨æ•´ä½“é£æ ¼ä¸Šä¿æŒä¸€è‡´ã€‚ é€šå¸¸ï¼Œå¦‚æœå¸Œæœ›åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ ESLint æ¥ä¿è¯ä»£ç çš„é£æ ¼ä¸€è‡´æ€§å’Œè´¨é‡ï¼Œé‚£ä¹ˆç›´æ¥é€‰æ‹©ç¬¬ä¸‰ä¸ªå°±å¥½ã€‚ æ¥ä¸‹æ¥ä¼šè¯¢é—®æ‚¨çš„é¡¹ç›®ä½¿ç”¨ä»€ä¹ˆç±»å‹çš„æ¨¡å—ï¼ˆModuleï¼‰ç³»ç»Ÿï¼š ? What type of modules does your project use? ... &gt; JavaScript modules (import/export) CommonJS (require/exports) None of these JavaScript modules (import/export): JavaScript æ¨¡å—ï¼ˆä½¿ç”¨ import å’Œ export è¯­æ³•ï¼‰ å¦‚æœé¡¹ç›®ä½¿ç”¨äº† JavaScript çš„æ¨¡å—ç³»ç»Ÿï¼Œå³ä½¿ç”¨äº† ES6 çš„ import å’Œ export è¯­æ³•æ¥ç»„ç»‡å’Œå¯¼å…¥å¯¼å‡ºä»£ç æ–‡ä»¶ï¼Œé‚£ä¹ˆé€‰æ‹©è¿™ä¸ªé€‰é¡¹ã€‚ CommonJS (require/exports): CommonJS æ¨¡å—ï¼ˆä½¿ç”¨ require å’Œ module.exports è¯­æ³•ï¼‰ å¦‚æœé¡¹ç›®ä½¿ç”¨äº† CommonJS çš„æ¨¡å—ç³»ç»Ÿï¼Œå³ä½¿ç”¨äº† require å’Œ module.exports è¯­æ³•æ¥ç»„ç»‡å’Œå¯¼å…¥å¯¼å‡ºä»£ç æ–‡ä»¶ï¼Œé‚£ä¹ˆé€‰æ‹©è¿™ä¸ªé€‰é¡¹ã€‚ None of these: æ—  å¦‚æœé¡¹ç›®æ—¢ä¸ä½¿ç”¨ JavaScript çš„æ¨¡å—ç³»ç»Ÿï¼Œä¹Ÿä¸ä½¿ç”¨ CommonJS çš„æ¨¡å—ç³»ç»Ÿï¼Œå¯ä»¥é€‰æ‹©è¿™ä¸ªé€‰é¡¹ã€‚ ç”±äºæˆ‘æ˜¯å†™Vueé¡¹ç›®ï¼Œè¿™é‡Œæˆ‘å°±é€‰æ‹©ç¬¬ä¸€ä¸ªã€‚ æ¥ä¸‹æ¥è¯¢é—®åœ¨å“ªä¸ªæ¡†æ¶ä¸­ä½¿ç”¨ï¼š ? Which framework does your project use? ... React &gt; Vue.js None of these è¿™é‡Œæˆ‘é€‰æ‹©äº† Vue.jsï¼Œå¤§å®¶æŒ‰éœ€é€‰æ‹©å°±å¥½ã€‚ æ¥ä¸‹æ¥ä¼šè¯¢é—®ä½ æ˜¯å¦ä½¿ç”¨tså’Œä»£ç åœ¨å“ªé‡Œè¿è¡Œï¼š âˆš Does your project use TypeScript? Â· No / **Yes** âˆš Where does your code run? Â· browser, node Does your project use TypeScript? è¿™ä¸ªé€‰é¡¹ç”¨æ¥è¯¢é—®æ‚¨çš„é¡¹ç›®æ˜¯å¦ä½¿ç”¨ TypeScriptã€‚TypeScript æ˜¯ä¸€ä¸ª JavaScript çš„è¶…é›†ï¼Œå®ƒæ·»åŠ äº†é™æ€ç±»å‹æ£€æŸ¥å’Œå…¶ä»–ç‰¹æ€§ã€‚æ‚¨å¯ä»¥é€‰æ‹©ä»¥ä¸‹é€‰é¡¹ä¹‹ä¸€ï¼š No: å¦‚æœé¡¹ç›®ä¸ä½¿ç”¨ TypeScriptï¼Œé€‰æ‹©è¿™ä¸ªé€‰é¡¹ã€‚ Yes: å¦‚æœé¡¹ç›®ä½¿ç”¨ TypeScriptï¼Œé€‰æ‹©è¿™ä¸ªé€‰é¡¹ã€‚ å¦‚æœé¡¹ç›®ä½¿ç”¨ TypeScriptï¼ŒESLint ä¼šç»“åˆ @typescript-eslint æ’ä»¶æ¥æä¾› TypeScript ç›¸å…³çš„æ£€æŸ¥å’Œè§„åˆ™ã€‚ Where does your code run? è¿™ä¸ªé€‰é¡¹ç”¨æ¥è¯¢é—®æ‚¨çš„ä»£ç å°†åœ¨ä»€ä¹ˆç¯å¢ƒä¸­è¿è¡Œã€‚æ‚¨å¯ä»¥é€‰æ‹©å¤šä¸ªç¯å¢ƒï¼Œå¦‚æµè§ˆå™¨ã€Node.js ç­‰ã€‚é€‰æ‹©é€‚åˆæ‚¨é¡¹ç›®çš„ç¯å¢ƒç±»å‹ã€‚ä¾‹å¦‚ï¼š browser: å¦‚æœæ‚¨çš„ä»£ç å°†åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­è¿è¡Œã€‚ node: å¦‚æœæ‚¨çš„ä»£ç å°†åœ¨ Node.js ç¯å¢ƒä¸­è¿è¡Œã€‚ æ ¹æ®æ‚¨çš„é€‰æ‹©ï¼ŒESLint å°†ä¼šæ ¹æ®ä¸åŒçš„ç¯å¢ƒæä¾›ç›¸åº”çš„è§„åˆ™å’Œæ£€æŸ¥ã€‚ è¿™é‡Œè¿˜æ˜¯çœ‹é¡¹ç›®ç±»å‹æŒ‰éœ€é€‰æ‹©ã€‚ æ¥ä¸‹æ¥é—®ä½ å¸Œæœ›å¦‚ä½•å®šä¹‰é¡¹ç›®çš„æ ·å¼ï¼š âˆš How would you like to define a style for your project? â€¦ Use a popular style guide â¯ Answer questions about your style ## next âˆš How would you like to define a style for your project? Â· prompt Use a popular style guide: ä½¿ç”¨ä¸€ä¸ªæµè¡Œçš„ä»£ç é£æ ¼æŒ‡å— å¦‚æœé€‰æ‹©äº†è¿™ä¸ªé€‰é¡¹ï¼Œå°±å¯ä»¥ä»ä¸€äº›å·²çŸ¥çš„æµè¡Œä»£ç é£æ ¼æŒ‡å—ä¸­è¿›è¡Œé€‰æ‹©ï¼Œä¾‹å¦‚ Airbnbã€Googleã€Standard ç­‰ã€‚è¿™å°†ä¼šè‡ªåŠ¨ä¸ºåº”ç”¨é€‰å®šçš„ä»£ç é£æ ¼æŒ‡å—ï¼Œä»¥åŠç›¸å…³çš„ ESLint è§„åˆ™å’Œé…ç½®ã€‚ Answer questions about your style: å¦‚æœé€‰æ‹©äº†è¿™ä¸ªé€‰é¡¹ï¼Œå°†ä¼šè¢«å¼•å¯¼å›ç­”ä¸€ç³»åˆ—é—®é¢˜ï¼Œç”¨äºè‡ªå®šä¹‰ä»£ç é£æ ¼é…ç½®ã€‚è¿™å°†æ ¹æ®è‡ªå·±çš„åå¥½å’Œé¡¹ç›®éœ€æ±‚ï¼Œåˆ›å»ºä¸€ä¸ªé¡¹ç›®çš„ ESLint é…ç½®ã€‚ next: ç»§ç»­ å¦‚æœé€‰æ‹©äº†è¿™ä¸ªé€‰é¡¹ï¼Œæ‚¨å°†ä¼šè·³è¿‡å½“å‰æ­¥éª¤ï¼Œç»§ç»­ä¸‹ä¸€æ­¥çš„é…ç½®ã€‚ How would you like to define a style for your project? Â· prompt å¦‚æœé€‰æ‹©äº†è¿™ä¸ªé€‰é¡¹ï¼Œæ‚¨å°†ä¼šä½¿ç”¨äº¤äº’å¼æç¤ºæ¥è‡ªå®šä¹‰ä»£ç é£æ ¼ã€‚è¿™å°†ä¼šå¼•å¯¼ä½ å›ç­”ä¸€äº›é—®é¢˜ï¼Œä»¥ä¾¿ä¸ºä½ çš„é¡¹ç›®ç”Ÿæˆé€‚åˆçš„ ESLint é…ç½®ã€‚ è¿™é‡Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ç¬¬äºŒä¸ªã€‚ ç„¶åè¯¢é—®ä½ æƒ³ç”¨ä»€ä¹ˆæ ¼å¼çš„é…ç½®æ–‡ä»¶ï¼š ? What format do you want your config file to be in? ... &gt; JavaScript YAML JSON è¿™é‡Œæˆ‘å°±é€‰JavaScriptã€‚ è¯¢é—®ç¼©è¿›é£æ ¼ï¼š ? What style of indentation do you use? ... &gt; Tabs Spaces Tabs: ä½¿ç”¨åˆ¶è¡¨ç¬¦è¿›è¡Œç¼©è¿› å¦‚æœä½ é€‰æ‹©äº†è¿™ä¸ªé€‰é¡¹ï¼Œä½ çš„ä»£ç ä¸­çš„ç¼©è¿›å°†ä½¿ç”¨åˆ¶è¡¨ç¬¦è¿›è¡Œï¼Œæ¯ä¸€ä¸ªçº§åˆ«çš„ç¼©è¿›éƒ½æ˜¯ä¸€ä¸ªåˆ¶è¡¨ç¬¦ã€‚ Spaces: ä½¿ç”¨ç©ºæ ¼è¿›è¡Œç¼©è¿› å¦‚æœä½ é€‰æ‹©äº†è¿™ä¸ªé€‰é¡¹ï¼Œä½ çš„ä»£ç ä¸­çš„ç¼©è¿›å°†ä½¿ç”¨ç©ºæ ¼è¿›è¡Œï¼Œæ¯ä¸€ä¸ªçº§åˆ«çš„ç¼©è¿›é€šå¸¸æ˜¯ 2 ä¸ªæˆ– 4ä¸ªç©ºæ ¼ï¼Œè¿™å–å†³äºä½ çš„åå¥½å’Œé¡¹ç›®è§„èŒƒã€‚ ç”±äºæˆ‘å–œæ¬¢tabç¼©è¿›ï¼Œæ‰€ä»¥æˆ‘å°±é€‰æ‹©ç¬¬ä¸€ä¸ªã€‚ å­—ç¬¦ä¸²ä½¿ç”¨åŒå¼•å·è¿˜æ˜¯å•å¼•å·ï¼š ? What quotes do you use for strings? ... Double &gt; Single Double: ä½¿ç”¨åŒå¼•å·è¡¨ç¤ºå­—ç¬¦ä¸² å¦‚æœä½ é€‰æ‹©äº†è¿™ä¸ªé€‰é¡¹ï¼Œä½ çš„ä»£ç ä¸­çš„å­—ç¬¦ä¸²å°†ä½¿ç”¨åŒå¼•å·åŒ…è£¹ï¼Œä¾‹å¦‚ &quot;Hello, World!&quot;ã€‚ Single: ä½¿ç”¨å•å¼•å·è¡¨ç¤ºå­—ç¬¦ä¸² å¦‚æœä½ é€‰æ‹©äº†è¿™ä¸ªé€‰é¡¹ï¼Œä½ çš„ä»£ç ä¸­çš„å­—ç¬¦ä¸²å°†ä½¿ç”¨å•å¼•å·åŒ…è£¹ï¼Œä¾‹å¦‚ 'Hello, World!'ã€‚ è¿™é‡Œçœ‹ä¸ªäººorå›¢é˜Ÿä¹ æƒ¯ï¼Œè¿™é‡Œæˆ‘å°±é€‰æ‹©äº†å•å¼•å·ã€‚ ç”¨å“ªç§ç»“æŸç¬¦ï¼š ? What line endings do you use? ... &gt; Unix Windows Unix: ä½¿ç”¨ Unix é£æ ¼çš„æ¢è¡Œç¬¦ å¦‚æœä½ é€‰æ‹©äº†è¿™ä¸ªé€‰é¡¹ï¼Œä½ çš„ä»£ç ä¸­çš„æ¢è¡Œç¬¦å°†é‡‡ç”¨ Unix é£æ ¼ï¼Œå³ LFï¼ˆæ¢è¡Œ Line Feedï¼‰ã€‚ Windows: ä½¿ç”¨ Windows é£æ ¼çš„æ¢è¡Œç¬¦ å¦‚æœä½ é€‰æ‹©äº†è¿™ä¸ªé€‰é¡¹ï¼Œä½ çš„ä»£ç ä¸­çš„æ¢è¡Œç¬¦å°†é‡‡ç”¨ Windows é£æ ¼ï¼Œå³ CRLFï¼ˆå›è½¦æ¢è¡Œ Carriage Return Line Feedï¼‰ã€‚ è¿™é‡Œæˆ‘é€‰æ‹©Unixã€‚ æ˜¯å¦ä½¿ç”¨åˆ†å·ï¼š ? Do you require semicolons? Â» No / Yes æˆ‘ä¸ªäººä¸å–œæ¬¢ä½¿ç”¨åˆ†å·ï¼Œæ‰€ä»¥é€‰æ‹©No ç„¶åä¼šé—®ä½ æ˜¯å¦å®‰è£…ä¾èµ–ï¼š @typescript-eslint/eslint-plugin@latest eslint-plugin-vue@latest @typescript-eslint/parser@latest ? Would you like to install them now? Â» No / Yes è¿™é‡Œæˆ‘ä»¬é€‰æ‹©Yesï¼Œç„¶åä¼šè¯¢é—®ä½ ç”¨ä»€ä¹ˆåŒ…ç®¡ç†å™¨å»å®‰è£…ä¾èµ–ï¼š ? Which package manager do you want to use? ... npm yarn &gt; pnpm è¿™é‡Œæˆ‘é€‰æ‹©npmã€‚ å®‰è£…å®Œæˆåæˆ‘ä»¬é¡¹ç›®çš„æ ¹ç›®å½•ä¼šç”Ÿæˆ.eslintrc.jsæ–‡ä»¶ï¼š module.exports = { env: { browser: true, es2021: true }, extends: ['eslint:recommended', 'plugin:vue/vue3-essential'], overrides: [ { env: { node: true }, files: ['.eslintrc.{js,cjs}'], parserOptions: { sourceType: 'script' } } ], parserOptions: { ecmaVersion: 'latest', sourceType: 'module' }, plugins: ['vue'], rules: { indent: ['error', 'tab'], 'linebreak-style': ['error', 'unix'], quotes: ['error', 'single'], semi: ['error', 'never'] } } æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›å®ƒå¯ä»¥å¿½ç•¥ä¸€äº›æ£€æŸ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨æ ¹ç›®å½•å»ºç«‹ä¸€ä¸ª.eslintignoreæ–‡ä»¶ç”¨æ¥å¿½ç•¥ä¸€äº›æ£€æŸ¥ï¼Œè¿™é‡Œæ ¹æ®ä¸ªäººéœ€æ±‚è¿›è¡Œé…ç½®å³å¯ï¼Œæˆ‘çš„é…ç½®å¦‚ä¸‹ï¼š *.sh node_modules *.md *.woff *.ttf .vscode .idea dist /public /docs .husky .local /bin Dockerfile é…ç½®Prettier å°½ç®¡ ESLint å’Œ Prettier éƒ½å…·å¤‡ä»£ç è´¨é‡å’Œç»´æŠ¤æ€§æ–¹é¢çš„åŠŸèƒ½ï¼Œä½†å®ƒä»¬çš„ç„¦ç‚¹ä¸åŒã€‚é€šè¿‡åŒæ—¶ä½¿ç”¨ ESLint å’Œ Prettierï¼Œå¯ä»¥è·å¾—ä»£ç è´¨é‡çš„å…¨é¢æ£€æŸ¥ï¼ŒåŒæ—¶ç¡®ä¿ä»£ç é£æ ¼çš„ä¸€è‡´æ€§ã€‚é€šå¸¸çš„åšæ³•æ˜¯å°† ESLint ç”¨äºæ£€æµ‹ä»£ç é—®é¢˜å’Œé€»è¾‘é”™è¯¯ï¼Œè€Œ Prettier åˆ™ç”¨äºè‡ªåŠ¨æ ¼å¼åŒ–ä»£ç ï¼Œä»¥ä¾¿ä»£ç åœ¨ä¸åŒäººä¹‹é—´ä¿æŒä¸€è‡´çš„å¤–è§‚ã€‚è¿™æ ·å¯ä»¥æœ€å¤§é™åº¦åœ°æé«˜ä»£ç è´¨é‡å’Œå¯ç»´æŠ¤æ€§ã€‚ å®‰è£…ï¼š npm add prettier -D å®‰è£…å®Œæˆåï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»º.prettierrc.jsæ–‡ä»¶ï¼Œè¿™é‡Œç®€å•åˆ—ä¸€ä¸‹å¸¸ç”¨çš„ï¼Œå‰©ä¸‹çš„å¯ä»¥åˆ°å®˜ç½‘æŸ¥çœ‹ module.exports = { printWidth: 100, //ä¸€è¡Œçš„å­—ç¬¦æ•° tabWidth: 4, // ä¸€ä¸ªtabä»£è¡¨å‡ ä¸ªç©ºæ ¼æ•° useTabs: true, //æ˜¯å¦ä½¿ç”¨tabè¿›è¡Œç¼©è¿› singleQuote: true, //å­—ç¬¦ä¸²æ˜¯å¦ä½¿ç”¨å•å¼•å· semi: false, // è¡Œå°¾æ˜¯å¦ä½¿ç”¨åˆ†å·ï¼Œé»˜è®¤ä¸ºtrue trailingComma: &quot;none&quot;, // æ˜¯å¦ä½¿ç”¨å°¾é€—å· htmlWhitespaceSensitivity: &quot;strict&quot;, // HTMLç©ºç™½æ•æ„Ÿåº¦ bracketSpacing: true, // å¯¹è±¡å¤§æ‹¬å·ç›´æ¥æ˜¯å¦æœ‰ç©ºæ ¼ï¼Œé»˜è®¤ä¸º trueï¼Œæ•ˆæœï¼š{ a: 1 } proseWrap: &quot;never&quot;, // æ¢è¡Œè®¾ç½® } åŒæ—¶ä¹Ÿå¯ä»¥åœ¨æ ¹ç›®å½•ä¸‹å»ºç«‹å¿½ç•¥æ–‡ä»¶.prettierignoreï¼š /dist/* .local .output.js /node_modules/** **/*.svg **/*.sh /public/* eslintä¸Prettierç›¸ç»“åˆ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨eslint-config-prettierå’Œeslint-plugin-prettieræ¥ç»“åˆeslintä¸Prettierã€‚ eslint-config-prettierç”¨æ¥è¦†ç›– ESLint æœ¬èº«çš„è§„åˆ™é…ç½®ï¼Œ eslint-plugin-prettieråˆ™æ˜¯ç”¨äºè®© Prettier æ¥æ¥ç®¡eslint --fixå³ä¿®å¤ä»£ç çš„èƒ½åŠ›ã€‚ å®‰è£…ï¼š npm i eslint-config-prettier eslint-plugin-prettier -D æœ€ç»ˆä»£ç å¦‚ä¸‹ï¼š module.exports = { env: { browser: true, es2021: true }, extends: ['eslint:recommended', 'plugin:vue/vue3-essential', 'plugin:prettier/recommended'], overrides: [ { env: { node: true }, files: ['.eslintrc.{js,cjs}'], parserOptions: { sourceType: 'script' } } ], // å‚è€ƒvueå®˜æ–¹æ¨è,æ›¿æ¢é»˜è®¤parser parser: 'vue-eslint-parser', parserOptions: { ecmaVersion: 'latest', sourceType: 'module' }, plugins: ['vue'], rules: { indent: ['error', 'tab'], 'linebreak-style': ['error', 'unix'], quotes: ['error', 'single'], semi: ['error', 'never'] } } ç„¶ååœ¨é¡¹ç›®çš„package.jsonä¸­é…ç½®ä¸€æ¡å‘½ä»¤ï¼š { &quot;scripts&quot;: { &quot;lint:script&quot;: &quot;eslint --ext .js,.jsx --fix --quiet ./&quot;, } } è¯¥å‘½ä»¤äºæ£€æŸ¥å’Œä¿®å¤ä»£ç è¯¥å‘½ä»¤çš„ä½œç”¨æ˜¯åœ¨æŒ‡å®šçš„æ–‡ä»¶æ‰©å±•åï¼ˆ.jsã€.jsxï¼‰ä¸‹ï¼Œè¿è¡Œ ESLint æ¥æ£€æŸ¥å¹¶å°è¯•ä¿®å¤å½“å‰ç›®å½•åŠå…¶å­ç›®å½•ä¸­çš„ä»£ç é—®é¢˜ã€‚å‘½ä»¤çš„ç›®æ ‡æ˜¯è‡ªåŠ¨åŒ–ä»£ç è´¨é‡æ£€æŸ¥å’Œæ ¼å¼ä¿®å¤çš„è¿‡ç¨‹ï¼Œä»¥ç¡®ä¿ä»£ç ç¬¦åˆè§„èŒƒå’Œæœ€ä½³å®è·µã€‚ ä½†è¿˜æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œç›®å‰åªä¼šæ£€æµ‹.jsã€.jsxæ–‡ä»¶ï¼Œå¹¶ä¸ä¼šæ£€æµ‹.vueæ–‡ä»¶ï¼Œè¿™é‡Œæˆ‘ä»¬è¿˜éœ€è¦å€ŸåŠ©ä¸€äº›æ’ä»¶æ¥å®ç°ã€‚ æ”¯æŒ.vueæ–‡ä»¶ å®‰è£…ä¸‹é¢æ’ä»¶: npm install eslint-plugin-vue vue-eslint-parser --save-dev é…ç½®.eslintrc.jsï¼Œåœ¨extendsä¸­æ·»åŠ è¿™ä¸¤ä¸ªæ’ä»¶ï¼Œæœ€ç»ˆé…ç½®å¦‚ä¸‹ï¼š module.exports = { env: { browser: true, es2021: true, node: true }, extends: [ 'eslint:recommended', 'plugin:vue/vue3-essential', //æ–°å¢æ’ä»¶ 'plugin:prettier/recommended', 'plugin:vue/recommended' ], overrides: [ { env: { node: true }, files: ['.eslintrc.{js,cjs}'], parserOptions: { sourceType: 'script' } }, { files: ['*.vue'], rules: { 'no-undef': 'off', 'vue/no-setup-props-destructure': 'off', 'vue/multi-word-component-names': 'off', 'vue/no-mutating-props': 'off', 'no-unused-vars': 0, 'vue/valid-attribute-name': 'off' } } ], // å‚è€ƒvueå®˜æ–¹æ¨è,æ›¿æ¢é»˜è®¤parser parser: 'vue-eslint-parser', parserOptions: { ecmaVersion: 'latest', sourceType: 'module' }, plugins: ['vue'], rules: { 'prettier/prettier': 'error', indent: ['error', 'tab'], 'linebreak-style': ['error', 'unix'], quotes: ['error', 'single'], semi: ['error', 'never'], 'no-console': 'off', 'no-debugger': 'off' } } ç„¶åä¿®æ”¹å‘½ä»¤ä¸ºï¼š &quot;scripts&quot;: { &quot;lint:script&quot;: &quot;eslint --ext .js,.jsx,.vue --fix --quiet ./&quot; }, è¿è¡Œæ—¶å®æ—¶éªŒè¯ å¦‚æœä½¿ç”¨vscodeç¼–è¾‘å™¨ï¼Œå¯ä»¥ä¸‹è½½ESLintå’ŒPrettier-Code formatterè¿›è¡ŒéªŒè¯ï¼Œè¯¥æ’ä»¶ä¼šæ£€æµ‹é¡¹ç›®æ ¹ç›®å½•æ˜¯å¦å­˜åœ¨ç›¸å…³é…ç½®æ–‡ä»¶ï¼Œå¦‚æœæœ‰ç›¸å…³é…ç½®æ–‡ä»¶åˆ™ä¼šæ ¹æ®é…ç½®æ–‡ä»¶åœ¨ä¿å­˜çš„æ—¶å€™è¿›è¡Œæ£€æµ‹ï¼Œå¦‚æœä¸ç”¨vscodeå¼€å‘ä¹Ÿæ²¡å…³ç³»ï¼Œå¯ä»¥å€ŸåŠ©ä¸€äº›æ’ä»¶å®ç°è¿è¡Œæ—¶ä»£ç ä¿å­˜æ—¶å€™æ ¹æ®è§„åˆ™è¿›è¡ŒéªŒè¯ã€‚ npm i vite-plugin-prettier åœ¨vite.config.jsæ–‡ä»¶ä¸­å¼•å…¥æ’ä»¶æ–‡ä»¶ä¸­å¼•å…¥æ’ä»¶ï¼š import VitePrettier from 'vite-plugin-prettier' export default defineConfig({ plugins: [ VitePrettier({ singleQuote: true,// å­—ç¬¦ä¸²æ˜¯å¦ä½¿ç”¨å•å¼•å· //...æ›´å¤šè§„åˆ™ }) ], }) é…ç½®åé‡å¯é¡¹ç›®ï¼Œåªè¦é¡¹ç›®åœ¨è¿è¡Œä¸­ï¼Œä¿å­˜ä»£ç å°±ä¼šé€šè¿‡prettierè¿›è¡Œä»£ç æ ¼å¼åŒ–å¤„ç†ã€‚ ","link":"https://lonjinup.github.io/vue3-esilntAndPrettier/"},{"title":"ã€nodeå­¦ä¹ -02ã€‘å¦‚ä½•æ­å»ºè‡ªå·±çš„è„šæ‰‹æ¶","content":"å¦‚ä½•æ­å»ºè‡ªå·±çš„è„šæ‰‹æ¶ æ¦‚è¦ ä»€ä¹ˆæ˜¯è„šæ‰‹æ¶ï¼Ÿ è„šæ‰‹æ¶æ˜¯ä¸€ç§å·¥å…·ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªå…¨å±€å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºå¸®åŠ©å¼€å‘äººå‘˜å¿«é€Ÿåˆ›å»ºå’Œåˆå§‹åŒ–é¡¹ç›®æ–‡ä»¶å’Œç›®å½•ç»“æ„ã€‚ è„šæ‰‹æ¶çš„åŸºæœ¬èƒ½åŠ› å‘½ä»¤è¡Œæ‰§è¡Œèƒ½åŠ›ï¼š è„šæ‰‹æ¶å…·å¤‡èƒ½å¤Ÿåœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œçš„èƒ½åŠ›ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡å‘½ä»¤è¡Œå‘½ä»¤æ¥è§¦å‘è„šæ‰‹æ¶çš„å„ç§åŠŸèƒ½ã€‚ å‘½ä»¤è¡Œäº¤äº’èƒ½åŠ›ï¼š è„šæ‰‹æ¶å¯ä»¥ä¸ç”¨æˆ·è¿›è¡Œå‘½ä»¤è¡Œäº¤äº’ï¼Œæç¤ºç”¨æˆ·æä¾›å¿…è¦çš„ä¿¡æ¯æˆ–é€‰é¡¹ï¼Œä»¥ä¾¿æ ¹æ®ç”¨æˆ·çš„è¾“å…¥è¿›è¡Œé¡¹ç›®åˆå§‹åŒ–ã€‚ é¡¹ç›®åˆå§‹åŒ–ä»£ç ä¸‹è½½èƒ½åŠ›ï¼š è„šæ‰‹æ¶èƒ½å¤Ÿä»è¿œç¨‹ä»£ç ä»“åº“ä¸‹è½½é¡¹ç›®çš„åˆå§‹åŒ–ä»£ç ï¼Œä»¥ä¾¿åœ¨æœ¬åœ°åˆ›å»ºé¡¹ç›®ã€‚ å¦‚ä½•å®ç°ä¸€ä¸ªè‡ªå·±çš„è„šæ‰‹æ¶å·¥å…· è¦å®ç°ä¸€ä¸ªè‡ªå·±çš„è„šæ‰‹æ¶å·¥å…·ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œå®ç° åˆ›å»ºè‡ªå®šä¹‰å…¨å±€å‘½ä»¤ï¼š ä½¿ç”¨Node.jsæˆ–å…¶ä»–é€‚åˆçš„ç¼–ç¨‹è¯­è¨€åˆ›å»ºä¸€ä¸ªå…¨å±€å‘½ä»¤è¡Œå·¥å…·ï¼Œè¿™ä¸ªå‘½ä»¤å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹é€šè¿‡å‘½ä»¤è¡Œè°ƒç”¨ã€‚é€šå¸¸éœ€è¦ä½¿ç”¨åŒ…ç®¡ç†å™¨ï¼ˆå¦‚npmï¼‰æ¥å®‰è£…å…¨å±€å‘½ä»¤ã€‚ å‘½ä»¤å‚æ•°æ¥å—å¤„ç†ï¼š åœ¨æ‚¨çš„è„šæ‰‹æ¶å·¥å…·ä¸­ï¼Œç¼–å†™ä»£ç ä»¥æ¥å—å‘½ä»¤è¡Œå‚æ•°ï¼Œè¿™äº›å‚æ•°å°†æŒ‡å¯¼è„šæ‰‹æ¶æ‰§è¡Œä¸åŒçš„æ“ä½œã€‚æ‚¨å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œè§£æåº“æ¥å¸®åŠ©å¤„ç†å’Œè§£é‡Šè¿™äº›å‚æ•°ã€‚ ä¸‹è½½è¿œç¨‹é¡¹ç›®ä»£ç ï¼š å®ç°ä»£ç ä¸‹è½½åŠŸèƒ½ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨Gitæˆ–å…¶ä»–ç‰ˆæœ¬æ§åˆ¶å·¥å…·æ¥ä»è¿œç¨‹ä»“åº“ä¸­è·å–é¡¹ç›®çš„åˆå§‹åŒ–ä»£ç ã€‚ç¡®ä¿æ‚¨çš„è„šæ‰‹æ¶å¯ä»¥å¤„ç†ä¸åŒçš„ä»£ç æºï¼ˆä¾‹å¦‚GitHubã€GitLabç­‰ï¼‰ã€‚ é¡¹ç›®åˆå§‹åŒ–å®Œæˆæç¤ºï¼š åœ¨é¡¹ç›®åˆå§‹åŒ–å®Œæˆåï¼Œå‘ç”¨æˆ·æä¾›é€‚å½“çš„æç¤ºä¿¡æ¯ï¼ŒæŒ‡å¯¼ä»–ä»¬ä¸‹ä¸€æ­¥çš„æ“ä½œã€‚è¿™å¯ä»¥åŒ…æ‹¬è¿è¡Œé¡¹ç›®ã€å®‰è£…ä¾èµ–é¡¹æˆ–å…¶ä»–ç›¸å…³ä»»åŠ¡ã€‚ æµ‹è¯•å’Œæ–‡æ¡£ï¼š ç¼–å†™æµ‹è¯•ç”¨ä¾‹æ¥ç¡®ä¿è„šæ‰‹æ¶çš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚å¦å¤–ï¼Œæä¾›æ¸…æ™°çš„æ–‡æ¡£ï¼Œè§£é‡Šå¦‚ä½•å®‰è£…ã€ä½¿ç”¨å’Œå®šåˆ¶æ‚¨çš„è„šæ‰‹æ¶å·¥å…·ã€‚ å‘å¸ƒå’Œåˆ†äº«ï¼š å°†æ‚¨çš„è„šæ‰‹æ¶å·¥å…·å‘å¸ƒåˆ°é€‚å½“çš„åŒ…ç®¡ç†å™¨ï¼ˆå¦‚npmï¼‰ï¼Œä»¥ä¾¿å…¶ä»–å¼€å‘äººå‘˜å¯ä»¥è½»æ¾å®‰è£…å’Œä½¿ç”¨å®ƒã€‚åˆ†äº«æ‚¨çš„è„šæ‰‹æ¶çš„ä»£ç å’Œæ–‡æ¡£ï¼Œä»¥ä¿ƒè¿›ç¤¾åŒºçš„è´¡çŒ®å’Œæ”¹è¿›ã€‚ é€šè¿‡éµå¾ªè¿™äº›æ­¥éª¤ï¼Œæ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„è„šæ‰‹æ¶å·¥å…·ï¼Œä½¿é¡¹ç›®åˆå§‹åŒ–å’Œå¼€å‘è¿‡ç¨‹æ›´åŠ é«˜æ•ˆå’Œæ–¹ä¾¿ã€‚ åˆ›å»ºè‡ªå®šä¹‰å…¨å±€å‘½ä»¤ åˆ›å»ºæ–‡ä»¶ç»“æ„ï¼š æˆ‘ä»¬é¦–å…ˆéœ€è¦è®¾ç½®ä¸€ä¸ªé€‚å½“çš„æ–‡ä»¶ç»“æ„æ¥å¼€å§‹åˆ›å»ºè‡ªå®šä¹‰å…¨å±€å‘½ä»¤ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šæ–°å»ºä¸€ä¸ªåä¸ºcodeçš„æ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨å…¶ä¸­åˆ›å»ºä¸€ä¸ªåä¸ºbinçš„å­æ–‡ä»¶å¤¹ã€‚åœ¨binæ–‡ä»¶å¤¹ä¸­ï¼Œæˆ‘ä»¬å°†å»ºç«‹ä¸€ä¸ªåä¸ºcli.jsçš„æ–‡ä»¶ã€‚è¿™ä¸ªcli.jsæ–‡ä»¶å°†åŒ…å«æˆ‘ä»¬è‡ªå®šä¹‰å‘½ä»¤çš„æ‰§è¡Œé€»è¾‘ã€‚ é¡¹ç›®åˆå§‹åŒ–ï¼š æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¦åˆå§‹åŒ–ä¸€ä¸ªnpmé¡¹ç›®ï¼Œä»¥ä¾¿ç®¡ç†æˆ‘ä»¬çš„å…¨å±€å‘½ä»¤ã€‚åœ¨å‘½ä»¤è¡Œä¸­ï¼Œæˆ‘ä»¬è¿›å…¥é¡¹ç›®çš„æ ¹ç›®å½•ï¼ˆåœ¨codeæ–‡ä»¶å¤¹ä¸‹ï¼‰ï¼Œå¹¶æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š npm init -y åœ¨è¿™ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†é¡¹ç›®å‘½åä¸ºmy-cliï¼Œå¹¶ä¸”å¯¹å…¶ä»–é¡¹ç›®é€‰é¡¹é‡‡ç”¨é»˜è®¤å€¼ï¼Œå› ä¸ºè¿™äº›é€‰é¡¹å¯ä»¥ç¨ååœ¨package.jsonä¸­ä¿®æ”¹ã€‚ é…ç½®å…¨å±€å‘½ä»¤ï¼š åœ¨æˆ‘ä»¬çš„é¡¹ç›®çš„package.jsonæ–‡ä»¶ä¸­ï¼Œæœ‰ä¸€ä¸ªç‰¹æ®Šçš„å­—æ®µå«åšbinï¼Œå®ƒç”¨äºé…ç½®å…¨å±€å‘½ä»¤ã€‚æˆ‘ä»¬å°†åœ¨è¿™é‡Œå®šä¹‰æˆ‘ä»¬çš„å…¨å±€å‘½ä»¤ä¸cli.jsæ–‡ä»¶ä¹‹é—´çš„å…³è”ï¼Œè¿™æ ·npmå°±çŸ¥é“å¦‚ä½•å°†æˆ‘ä»¬çš„å‘½ä»¤æ˜ å°„åˆ°å…¨å±€ç¯å¢ƒä¸­ã€‚ { &quot;name&quot;: &quot;my-cli&quot;, &quot;version&quot;: &quot;1.0.0&quot;, &quot;description&quot;: &quot;&quot;, &quot;main&quot;: &quot;index.js&quot;, &quot;bin&quot;: { &quot;my-cli&quot;: &quot;bin/cli.js&quot; }, &quot;scripts&quot;: { &quot;test&quot;: &quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot; }, &quot;author&quot;: &quot;&quot;, &quot;license&quot;: &quot;ISC&quot; } æŒ‚è½½å…¨å±€å‘½ä»¤ï¼š æœ€åï¼Œä¸ºäº†ä½¿æˆ‘ä»¬çš„è‡ªå®šä¹‰å…¨å±€å‘½ä»¤åœ¨ç³»ç»Ÿä¸­å¯ç”¨ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œè¿™å°†ä½¿æˆ‘ä»¬çš„å…¨å±€å‘½ä»¤é“¾æ¥åˆ°å…¨å±€npmåŒ…ï¼š npm link è¿™ä¸€æ­¥éª¤å®Œæˆåï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨my-cliå‘½ä»¤æ¥æ‰§è¡Œæˆ‘ä»¬åœ¨cli.jsæ–‡ä»¶ä¸­å®šä¹‰çš„é€»è¾‘äº†ã€‚ æ¯”å¦‚æˆ‘ä»¬å¯ä»¥åœ¨cli.jsä¸­å†™ç‚¹ä»£ç ï¼š #! /usr/bin/env node console.log('æˆ‘çš„cli') ç„¶åè¿è¡Œå‘½ä»¤ï¼š my-cli æ­¤æ—¶æˆ‘ä»¬å°±ä¼šåœ¨æ§åˆ¶å®ƒä¸Šçœ‹åˆ°æˆ‘ä»¬çš„æ‰“å°å†…å®¹ï¼šæˆ‘çš„cliã€‚ #! /usr/bin/env node æ˜¯ä¸€ä¸ªåœ¨Unix-likeæ“ä½œç³»ç»Ÿä¸­ç”¨äºæŒ‡å®šè„šæœ¬çš„è§£é‡Šå™¨çš„ç‰¹æ®Šæ³¨é‡Šã€‚è¿™ä¸ªæ³¨é‡Šçš„ä½œç”¨æ˜¯å‘Šè¯‰æ“ä½œç³»ç»Ÿä½¿ç”¨å“ªä¸ªè§£é‡Šå™¨æ¥æ‰§è¡Œè„šæœ¬æ–‡ä»¶ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒæŒ‡å®šäº†ä½¿ç”¨Node.jsä½œä¸ºè§£é‡Šå™¨æ¥æ‰§è¡Œè¯¥è„šæœ¬ã€‚ å…·ä½“è§£é‡Šå¦‚ä¸‹ï¼š #!ï¼šè¿™ä¸ªå­—ç¬¦åºåˆ—ç§°ä¸º&quot;shebang&quot;ï¼Œå®ƒå‘Šè¯‰æ“ä½œç³»ç»Ÿä»¥ä¸‹å†…å®¹æ˜¯ç”¨äºè§£é‡Šæ‰§è¡Œè„šæœ¬çš„å‘½ä»¤ã€‚ /usr/bin/envï¼šè¿™æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œé€šå¸¸ç”¨äºåœ¨ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ä¸­æŸ¥æ‰¾æŒ‡å®šçš„å‘½ä»¤æˆ–ç¨‹åºã€‚åœ¨è¿™é‡Œï¼Œå®ƒè¢«ç”¨äºå¯»æ‰¾å¯ç”¨çš„nodeå‘½ä»¤ã€‚ nodeï¼šè¿™æ˜¯Node.jsçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚å½“æ“ä½œç³»ç»Ÿæ‰§è¡Œè¿™ä¸ªè„šæœ¬æ—¶ï¼Œå®ƒä¼šæ‰¾åˆ°/usr/bin/env nodeï¼Œç„¶åä½¿ç”¨Node.jsæ¥è§£é‡Šå’Œæ‰§è¡Œæ¥ä¸‹æ¥çš„è„šæœ¬å†…å®¹ã€‚ å› æ­¤ï¼Œ#! /usr/bin/env node å¸®åŠ©æˆ‘ä»¬ç¡®ä¿æ— è®ºç”¨æˆ·çš„ç³»ç»Ÿä¸ŠNode.jsçš„å®‰è£…è·¯å¾„å¦‚ä½•ï¼Œéƒ½å¯ä»¥æ­£ç¡®åœ°æ‰§è¡Œæˆ‘ä»¬çš„Node.jsè„šæœ¬ã€‚è¿™å¯¹äºå…¨å±€å‘½ä»¤è¡Œå·¥å…·éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå®ƒä»¬éœ€è¦åœ¨ä¸åŒçš„ç³»ç»Ÿä¸Šè¿è¡Œï¼Œè€Œè¿™äº›ç³»ç»Ÿå¯èƒ½æœ‰ä¸åŒçš„Node.jså®‰è£…è·¯å¾„ã€‚è¿™ä¸ªshebangæ³¨é‡Šç¡®ä¿äº†è„šæœ¬çš„å¯ç§»æ¤æ€§å’Œè·¨å¹³å°å…¼å®¹æ€§ã€‚ è·å–å‘½ä»¤è¡Œå‚æ•°ï¼š åœ¨æˆ‘ä»¬çš„è‡ªå®šä¹‰å…¨å±€å‘½ä»¤ä¸­ï¼Œé€šå¸¸éœ€è¦è·å–å’Œè§£æå‘½ä»¤è¡Œå‚æ•°ï¼Œä»¥ä¾¿æ ¹æ®ç”¨æˆ·çš„è¾“å…¥æ¥æ‰§è¡Œä¸åŒçš„æ“ä½œã€‚æˆ‘ä»¬å¯ä»¥åœ¨cli.jsæ–‡ä»¶ä¸­ç¼–å†™å¦‚ä¸‹ä»£ç æ¥è·å–å‘½ä»¤è¡Œå‚æ•°ï¼š console.log(process.argv); å½“æˆ‘ä»¬è¿è¡Œåƒmy-cli --helpè¿™æ ·çš„å‘½ä»¤æ—¶ï¼Œæ§åˆ¶å°å°†ä¼šæ‰“å°å‡ºä»¥ä¸‹å†…å®¹ï¼š [ '/usr/local/bin/node', '/usr/local/bin/my-cli', '--help' ] åœ¨è¿™ä¸ªè¾“å‡ºä¸­ï¼Œprocess.argvæ•°ç»„åŒ…å«äº†å‘½ä»¤è¡Œä¸­çš„æ‰€æœ‰å‚æ•°ã€‚å…·ä½“æ¥è¯´ï¼š process.argv[0] æ˜¯ Node.js çš„å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ï¼ˆåœ¨è¿™é‡Œæ˜¯/usr/local/bin/nodeï¼‰ã€‚ process.argv[1] æ˜¯æˆ‘ä»¬çš„å…¨å±€å‘½ä»¤çš„è·¯å¾„ï¼ˆåœ¨è¿™é‡Œæ˜¯/usr/local/bin/my-cliï¼‰ã€‚ åç»­é¡¹åŒ…å«ä¼ é€’ç»™å‘½ä»¤çš„å‚æ•°ï¼Œä¾‹å¦‚--helpã€‚ æˆ‘ä»¬å¯ä»¥æ ¹æ®è¿™äº›å‚æ•°æ¥ç¼–å†™é€»è¾‘ï¼Œä»¥å†³å®šå¦‚ä½•å¤„ç†ç”¨æˆ·çš„è¾“å…¥ã€‚è¿™æ˜¯å®ç°å‘½ä»¤è¡Œäº¤äº’èƒ½åŠ›çš„ä¸€éƒ¨åˆ†ï¼Œå…è®¸æˆ‘ä»¬æ ¹æ®ç”¨æˆ·çš„éœ€æ±‚æ¥æ‰§è¡Œä¸åŒçš„åŠŸèƒ½æ“ä½œã€‚æ¯”å¦‚ï¼š if(process.argv[2] === '--help'){ console.log('è·å–åˆ°äº†å‚æ•°') } ä½†åœ¨å®é™…æƒ…å†µä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€äº›ç¬¬ä¸‰æ–¹çš„åŒ…å»ç®¡ç†æˆ‘ä»¬çš„æŒ‡ä»¤ï¼›æ¯”å¦‚ï¼šcommanderï¼ˆå‘½ä»¤å‚æ•°å¤„ç†å·¥å…·ï¼‰ã€‚ Commanderå‘½ä»¤å‚æ•°å¤„ç†å·¥å…· Commander æ˜¯ä¸€ä¸ªå¼ºå¤§çš„Node.jsæ¨¡å—ï¼Œç”¨äºå¤„ç†å‘½ä»¤è¡Œå‚æ•°ã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨Commanderçš„åŸºæœ¬æ­¥éª¤ï¼š å®‰è£…Commander é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨npmä¸Šæœç´¢å¹¶å®‰è£…Commanderæ¨¡å—ï¼Œè¿™å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®Œæˆï¼š npm install commander å¼•å…¥å’Œä½¿ç”¨Commander åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¼•å…¥Commanderæ¨¡å—å¹¶å¼€å§‹ä½¿ç”¨å®ƒæ¥å¤„ç†å‘½ä»¤è¡Œå‚æ•°ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬ä¼šåœ¨è„šæœ¬çš„å¼€å¤´åŠ ä¸Šå¦‚ä¸‹æ³¨é‡Šæ¥æŒ‡å®šNode.jsä½œä¸ºè§£é‡Šå™¨ï¼š #! /usr/bin/env node æ¥ä¸‹æ¥ï¼Œåœ¨æˆ‘ä»¬çš„cli.jsæ–‡ä»¶ä¸­ï¼Œå¼•å…¥Commanderå¹¶è°ƒç”¨program.parse(process.argv)æ¥å¤„ç†å‘½ä»¤è¡Œå‚æ•°ï¼š const { program } = require('commander'); program.parse(process.argv); æ·»åŠ å‘½ä»¤å’Œé€‰é¡¹ ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ å‘½ä»¤å’Œé€‰é¡¹æ¥å®šåˆ¶æˆ‘ä»¬çš„å‘½ä»¤è¡Œå·¥å…·çš„è¡Œä¸ºã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨program.option()æ¥å®šä¹‰é€‰é¡¹ï¼š program.option('-f --framework &lt;framework&gt;', 'è®¾ç½®æ¡†æ¶') è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåä¸º-fæˆ–--frameworkçš„é€‰é¡¹ï¼Œè¿˜æä¾›äº†ä¸€ä¸ªæè¿°ã€‚è¿™å°†å…è®¸ç”¨æˆ·åœ¨å‘½ä»¤è¡Œä¸­è®¾ç½®ä¸€ä¸ªæ¡†æ¶å‚æ•°ã€‚ program.option('-f --framework &lt;framework&gt;', 'è®¾ç½®æ¡†æ¶') æ˜¯ä½¿ç”¨Commanderåº“å®šä¹‰å‘½ä»¤è¡Œé€‰é¡¹çš„è¯­å¥ã€‚è®©æˆ‘ä»¬è§£é‡Šè¿™è¡Œä»£ç çš„ä½œç”¨ï¼š program.option()ï¼šè¿™æ˜¯Commanderåº“æä¾›çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºå®šä¹‰å‘½ä»¤è¡Œé€‰é¡¹ã€‚ -f å’Œ --frameworkï¼šè¿™ä¸¤ä¸ªéƒ¨åˆ†æ˜¯é€‰é¡¹çš„åç§°ï¼Œå®ƒä»¬ä»¥ä¸¤ç§å½¢å¼å­˜åœ¨ï¼Œä¸€ç§æ˜¯çŸ­æ ¼å¼ï¼ˆå•å­—ç¬¦ï¼Œå‰é¢å¸¦ä¸€ä¸ªçŸ­åˆ’çº¿ -ï¼‰ï¼Œä¸€ç§æ˜¯é•¿æ ¼å¼ï¼ˆå¤šå­—ç¬¦ï¼Œå‰é¢å¸¦ä¸¤ä¸ªçŸ­åˆ’çº¿ --ï¼‰ã€‚ç”¨æˆ·å¯ä»¥ä½¿ç”¨å…¶ä¸­ä»»ä½•ä¸€ç§å½¢å¼æ¥æŒ‡å®šé€‰é¡¹ã€‚ &lt;framework&gt;ï¼šè¿™æ˜¯ç”¨å°–æ‹¬å·æ‹¬èµ·æ¥çš„å‚æ•°å ä½ç¬¦ï¼Œè¡¨ç¤ºè¯¥é€‰é¡¹éœ€è¦ä¸€ä¸ªå‚æ•°å€¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç”¨æˆ·éœ€è¦åœ¨é€‰é¡¹åé¢æä¾›ä¸€ä¸ªæ¡†æ¶åç§°ä½œä¸ºå‚æ•°ã€‚ 'è®¾ç½®æ¡†æ¶'ï¼šè¿™æ˜¯é€‰é¡¹çš„æè¿°æ–‡æœ¬ï¼Œç”¨äºå‘ç”¨æˆ·è§£é‡Šé€‰é¡¹çš„ç”¨é€”æˆ–ç›®çš„ã€‚åœ¨å¸®åŠ©ä¿¡æ¯ä¸­ï¼Œè¿™ä¸ªæè¿°æ–‡æœ¬å°†å¸®åŠ©ç”¨æˆ·äº†è§£é€‰é¡¹çš„å«ä¹‰ã€‚ ç»¼åˆèµ·æ¥ï¼Œè¿™è¡Œä»£ç çš„ä½œç”¨æ˜¯å®šä¹‰ä¸€ä¸ªåä¸º-fï¼ˆæˆ–--frameworkï¼‰çš„å‘½ä»¤è¡Œé€‰é¡¹ï¼Œè¯¥é€‰é¡¹éœ€è¦ç”¨æˆ·æä¾›ä¸€ä¸ªæ¡†æ¶åç§°ä½œä¸ºå‚æ•°ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œæ¥è®¾ç½®è¿™ä¸ªæ¡†æ¶é€‰é¡¹ï¼Œè€Œæè¿°æ–‡æœ¬ 'è®¾ç½®æ¡†æ¶' ä¼šåœ¨å¸®åŠ©ä¿¡æ¯ä¸­æ˜¾ç¤ºï¼Œä»¥å¸®åŠ©ç”¨æˆ·ç†è§£è¿™ä¸ªé€‰é¡¹çš„ç›®çš„ã€‚ ç¤ºä¾‹ç”¨æ³•ï¼š my-cli --framework react åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ--frameworké€‰é¡¹åé¢çš„reactæ˜¯ç”¨æˆ·æä¾›çš„å‚æ•°å€¼ï¼Œç”¨æ¥æŒ‡å®šæ‰€é€‰çš„æ¡†æ¶ã€‚ æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ ä½¿ç”¨Commanderï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è½»æ¾åœ°ä¸ºæˆ‘ä»¬çš„å‘½ä»¤è¡Œå·¥å…·ç”Ÿæˆå¸®åŠ©ä¿¡æ¯ã€‚åªéœ€åœ¨è„šæœ¬ä¸­è°ƒç”¨program.parse(process.argv)åï¼Œè¿è¡Œæ—¶ï¼Œå¦‚æœç”¨æˆ·è¾“å…¥--helpé€‰é¡¹ï¼Œå°†ä¼šæ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼š my-cli --help è¿™å°†åœ¨ç»ˆç«¯ä¸­æ˜¾ç¤ºä»¥ä¸‹ä¿¡æ¯ï¼š Usage: my-cli [options] Options: -f --framework &lt;framework&gt; è®¾ç½®æ¡†æ¶ -h, --help display help for command å¤„ç†å‘½ä»¤è¡Œè¾“å…¥ æœ€åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ£€æŸ¥å‘½ä»¤è¡Œè¾“å…¥æ¥æ‰§è¡Œä¸åŒçš„æ“ä½œã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå¦‚æœç”¨æˆ·æ²¡æœ‰æä¾›-fæˆ–--frameworkå‚æ•°ï¼ŒCommanderä¼šæç¤ºé”™è¯¯ï¼Œè¦æ±‚ç”¨æˆ·è¾“å…¥æ¡†æ¶å‚æ•°ï¼š my-cli -f è¿™å°†å¯¼è‡´ç»ˆç«¯æ˜¾ç¤ºä»¥ä¸‹é”™è¯¯æ¶ˆæ¯ï¼š error: option '-f --framework &lt;framework&gt;' argument missing ç”¨æˆ·å¯ä»¥é€šè¿‡åœ¨-fåé¢è¾“å…¥æ¡†æ¶å‚æ•°æ¥è§£å†³æ­¤é”™è¯¯ï¼Œå¦‚ï¼š my-cli -f hello è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨Commanderè½»æ¾å¤„ç†å‘½ä»¤è¡Œå‚æ•°ï¼Œå¢åŠ å‘½ä»¤å’Œé€‰é¡¹ï¼Œä»¥åŠç”Ÿæˆå¸®åŠ©ä¿¡æ¯ï¼Œä»è€Œæ›´å¥½åœ°æ§åˆ¶å’Œå®šåˆ¶æˆ‘ä»¬çš„å‘½ä»¤è¡Œå·¥å…·çš„è¡Œä¸ºã€‚ å¦‚ä½•å¤„ç†è‡ªå®šä¹‰å‘½ä»¤å‚æ•° åœ¨å‘½ä»¤è¡Œå·¥å…·å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å¤„ç†è‡ªå®šä¹‰çš„å‘½ä»¤å‚æ•°ï¼Œä»¥æ»¡è¶³ç”¨æˆ·çš„éœ€æ±‚ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨å¦‚ä½•ä½¿ç”¨Node.jså’ŒCommanderåº“æ¥å®ç°è¿™ä¸€ç›®æ ‡ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯åˆ›å»ºä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡è¾“å…¥my-cli create xxxæ¥åˆ›å»ºä¸€ä¸ªé¡¹ç›®ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬å°†é€šè¿‡--helpå‘½ä»¤è‡ªåŠ¨ç”Ÿæˆå¸®åŠ©ä¿¡æ¯ã€‚ é¦–å…ˆï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹åœ¨bin/cli.jsä¸­çš„ä»£ç ï¼š #! /usr/bin/env node const { program } = require('commander'); // å®šä¹‰ä¸€ä¸ªé€‰é¡¹ program.option('-f --framework &lt;framework&gt;', 'è®¾ç½®æ¡†æ¶'); // å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰å‘½ä»¤ program .command('create &lt;project&gt; [other...]') //å®šä¹‰å‘½ä»¤ .alias('crt') //è®¾ç½®åˆ«å .description('åˆ›å»ºé¡¹ç›®') //å¤‡æ³¨ .action((project, args) =&gt; { //å›è°ƒå‡½æ•° console.log(project); console.log(args); }); // è§£æå‘½ä»¤è¡Œå‚æ•° program.parse(process.argv); æˆ‘ä»¬é¦–å…ˆå¼•å…¥äº†Commanderåº“ï¼Œå¹¶å®šä¹‰äº†ä¸€ä¸ªé€‰é¡¹ï¼Œä½¿ç”¨äº†-fï¼ˆçŸ­æ ¼å¼ï¼‰å’Œ--frameworkï¼ˆé•¿æ ¼å¼ï¼‰ï¼Œå…è®¸ç”¨æˆ·è®¾ç½®ä¸€ä¸ªæ¡†æ¶åç§°ä½œä¸ºå‚æ•°ã€‚ æ¥ç€ï¼Œæˆ‘ä»¬ä½¿ç”¨program.command()å®šä¹‰äº†ä¸€ä¸ªåä¸ºcreateï¼ˆæˆ–åˆ«åcrtï¼‰çš„è‡ªå®šä¹‰å‘½ä»¤ã€‚è¿™ä¸ªå‘½ä»¤æ¥å—ä¸€ä¸ªprojectå‚æ•°å’Œå¯é€‰çš„otherå‚æ•°ã€‚ æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª.action()å›è°ƒå‡½æ•°ï¼Œç”¨äºå¤„ç†å‘½ä»¤çš„å®é™…æ“ä½œã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ç®€å•åœ°æ‰“å°äº†projectå‚æ•°å’Œargså‚æ•°ï¼Œä»¥ä¾¿æ¼”ç¤ºå¦‚ä½•è®¿é—®è¿™äº›è‡ªå®šä¹‰å‘½ä»¤å‚æ•°ã€‚ æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨program.parse(process.argv)æ¥è§£æå‘½ä»¤è¡Œå‚æ•°ã€‚ ç°åœ¨ï¼Œè®©æˆ‘ä»¬è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æµ‹è¯•ï¼š my-cli create myproject otherOptions ç»“æœå°†æ˜¯ï¼š myproject [ 'otherOptions' ] æˆ‘ä»¬æˆåŠŸåœ°æ•è·å’Œå¤„ç†äº†å‘½ä»¤è¡Œå‚æ•°ã€‚ å¦å¤–ï¼Œæˆ‘ä»¬å¯ä»¥è¿è¡Œ--helpå‘½ä»¤æ¥æŸ¥çœ‹è‡ªåŠ¨ç”Ÿæˆçš„å¸®åŠ©ä¿¡æ¯ï¼š my-cli --help è¾“å‡ºå†…å®¹ï¼š Options: -f --framwork &lt;framwork&gt; è®¾ç½®æ¡†æ¶ -h, --help display help for command Commands: create|crt &lt;product&gt; [orther...] åˆ›å»ºé¡¹ç›® help [command] display help for command ä½ ä¼šå‘ç°ï¼ŒCommanderè‡ªåŠ¨å°†æˆ‘ä»¬çš„è‡ªå®šä¹‰å‘½ä»¤å’Œé€‰é¡¹é›†æˆåˆ°äº†å¸®åŠ©ä¿¡æ¯ä¸­ï¼Œä»¥å¸®åŠ©ç”¨æˆ·äº†è§£å¦‚ä½•æ­£ç¡®ä½¿ç”¨æˆ‘ä»¬çš„å‘½ä»¤è¡Œå·¥å…·ã€‚ é€šè¿‡è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å­¦åˆ°äº†å¦‚ä½•ä½¿ç”¨Node.jså’ŒCommanderåº“æ¥å¤„ç†è‡ªå®šä¹‰å‘½ä»¤å‚æ•°ï¼Œä»¥åŠå¦‚ä½•ç”Ÿæˆå¸®åŠ©ä¿¡æ¯ï¼Œä½¿æˆ‘ä»¬çš„å‘½ä»¤è¡Œå·¥å…·æ›´åŠ å‹å¥½å’Œæ˜“ç”¨ã€‚ é€»è¾‘ä»£ç æ¨¡å—åŒ–æ‹†åˆ† åœ¨å¼€å‘å‘½ä»¤è¡Œå·¥å…·æ—¶ï¼Œå°†ä»£ç æ¨¡å—åŒ–æ‹†åˆ†æ˜¯ä¸€ä¸ªè‰¯å¥½çš„å®è·µï¼Œæœ‰åŠ©äºä¿æŒä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬å°†æ ¹æ®ä¸åŒçš„åŠŸèƒ½è¿›è¡Œæ‹†åˆ†ï¼Œå¹¶åˆ›å»ºæ¨¡å—åŒ–çš„ä»£ç ç»“æ„ã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ªlib/coreæ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»ºä»¥ä¸‹æ¨¡å—ã€‚ 1. help.js æ¨¡å— åœ¨lib/coreæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªhelp.jsæ–‡ä»¶ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š const setupHelp = (program) =&gt; { program.option('-f --framework &lt;framework&gt;', 'è®¾ç½®æ¡†æ¶'); }; module.exports = setupHelp; æ­¤æ¨¡å—ç”¨äºé…ç½®å‘½ä»¤è¡Œå·¥å…·çš„å¸®åŠ©é€‰é¡¹ï¼Œå¹¶å°†å…¶å¯¼å‡ºä¾›å…¶ä»–æ¨¡å—ä½¿ç”¨ã€‚ 2. myCommander.js æ¨¡å— æ¥ä¸‹æ¥ï¼Œåœ¨lib/coreæ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªmyCommander.jsæ–‡ä»¶ï¼š const setupMyCommander = (program) =&gt; { program.command('create &lt;project&gt; [other...]') .alias('crt') .description('åˆ›å»ºé¡¹ç›®') .action((project, args) =&gt; { console.log(project); console.log(args); }); }; module.exports = setupMyCommander; è¿™ä¸ªæ¨¡å—ç”¨äºé…ç½®è‡ªå®šä¹‰å‘½ä»¤ï¼Œå¹¶å°†å…¶å¯¼å‡ºä¾›å…¶ä»–æ¨¡å—ä½¿ç”¨ã€‚ 3. action.js æ¨¡å— æœ€åï¼Œåœ¨lib/coreæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªaction.jsæ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«å‘½ä»¤çš„å®é™…æ“ä½œé€»è¾‘ï¼š const performAction = (project, args) =&gt; { console.log(project); console.log(args); }; module.exports = performAction; è¿™ä¸ªæ¨¡å—åŒ…å«äº†å®é™…æ“ä½œçš„ä»£ç ï¼Œå¹¶å°†å…¶å¯¼å‡ºä¾›å…¶ä»–æ¨¡å—ä½¿ç”¨ã€‚ æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬åœ¨ /bin/cli.js ä¸­å¼•å…¥è¿™äº›æ¨¡å—ï¼Œå¹¶å°†å®ƒä»¬ç»„åˆåœ¨ä¸€èµ·ï¼š #! /usr/bin/env node const { program } = require('commander'); // å¯¼å…¥æ¨¡å— const setupHelp = require('../lib/core/help'); const setupMyCommander = require('../lib/core/myCommander'); const performAction = require('../lib/core/action'); // é…ç½®å¸®åŠ©é€‰é¡¹ setupHelp(program); // é…ç½®è‡ªå®šä¹‰å‘½ä»¤ setupMyCommander(program); // è®¾ç½®å‘½ä»¤çš„å®é™…æ“ä½œ program.action(performAction); // è§£æå‘½ä»¤è¡Œå‚æ•° program.parse(process.argv); é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å°†ä»£ç é€»è¾‘æ¨¡å—åŒ–æ‹†åˆ†ï¼Œä½¿å…¶æ›´æ˜“äºç†è§£å’Œç»´æŠ¤ã€‚åŒæ—¶ï¼Œä¹Ÿæä¾›äº†æ›´å¥½çš„å¯æ‰©å±•æ€§ï¼Œä»¥ä¾¿å°†æ¥æ·»åŠ æ›´å¤šåŠŸèƒ½æˆ–å‘½ä»¤æ—¶èƒ½å¤Ÿæ›´è½»æ¾åœ°æ‰©å±•æˆ‘ä»¬çš„å‘½ä»¤è¡Œå·¥å…·ã€‚ å‘½ä»¤è¡Œäº¤äº’é—®ç­”å·¥å…·: Inquirer é€šå¸¸ï¼Œåœ¨å‘½ä»¤è¡Œä¸­éœ€è¦ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’å¼çš„æ“ä½œï¼Œæ¯”å¦‚è¯¢é—®ç”¨æˆ·ä¸€äº›é—®é¢˜ï¼Œè·å–è¾“å…¥ç­‰ã€‚è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Inquirer åº“æ¥æ–¹ä¾¿åœ°å®ç°è¿™äº›åŠŸèƒ½ã€‚ å®‰è£… Inquirer é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å®‰è£… Inquirer åº“ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š npm install --save inquirer@^8.0.0 ä½¿ç”¨ç¤ºä¾‹ å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª /test/inquirer.js æ–‡ä»¶æ¥æµ‹è¯•ä¸€ä¸‹ï¼š const inquirer = require('inquirer'); inquirer.prompt([ { type: 'input', name: 'username', message: 'ä½ çš„åå­—', } ]).then(res =&gt; { console.log(res); }); åœ¨å½“å‰æ–‡ä»¶å¤¹å†…è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š node inquirer.js è¿™å°†æç¤ºä½ è¾“å…¥åå­—ï¼Œç„¶åæ‰“å°å‡ºä½ è¾“å…¥çš„å†…å®¹ï¼š { username: '11' } åˆ›å»ºä¸€ä¸ªäº¤äº’å¼å‘½ä»¤ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•æ”¹é€ ä¹‹å‰çš„ create å‘½ä»¤ã€‚ æ‰“å¼€ /lib/core/action.js æ–‡ä»¶ï¼Œå¼•å…¥ inquirerï¼ŒåŒæ—¶åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º /config.js ç”¨äºä¿å­˜ä¸€äº›é…ç½®é¡¹ï¼š /** action.js */ const inquirer = require('inquirer'); const config = require('../../config'); const myAction = (project, args) =&gt; { inquirer.prompt([ { type: 'list', name: 'framework', message: 'è¯·é€‰æ‹©ä½ ä½¿ç”¨çš„æ¡†æ¶', choices: config.framework, } ]).then(res =&gt; { console.log(res); }); } module.exports = myAction; config.js æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š module.exports = { framework: ['egg', 'koa', 'express'] } ç„¶ååœ¨ /bin/cli.js æ–‡ä»¶ä¸­å¼•å…¥å¹¶ä½¿ç”¨è¿™ä¸ªæ¨¡å—ï¼š const { program } = require('commander'); const setupHelp = require('../lib/core/help'); const setupMyCommander = require('../lib/core/myCommander'); const performAction = require('../lib/core/action'); setupHelp(program); setupMyCommander(program); program.action(performAction); program.parse(process.argv); ç°åœ¨ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š my-cli create nodetest å°†ä¼šåœ¨æ§åˆ¶å°ä¸­å‡ºç°ä¸€ä¸ªé€‰é¡¹ä¾›ä½ é€‰æ‹©ï¼Œé€‰æ‹©å®Œæˆåå›è½¦ï¼Œä½ å°†å¾—åˆ°ä½ é€‰æ‹©çš„å€¼ï¼š ? è¯·é€‰æ‹©ä½ ä½¿ç”¨çš„æ¡†æ¶ koa { framework: 'koa' } é€šè¿‡è¿™æ ·çš„æ–¹å¼ï¼Œæˆ‘ä»¬ä½¿ç”¨ Inquirer å®ç°äº†ä¸€ä¸ªäº¤äº’å¼å‘½ä»¤ï¼Œä½¿æˆ‘ä»¬çš„å‘½ä»¤è¡Œå·¥å…·æ›´åŠ çµæ´»å’Œå‹å¥½ã€‚ å½“ä½¿ç”¨inquirer.prompt()æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä¼ é€’ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼Œä»¥å®šåˆ¶äº¤äº’å¼çš„æç¤ºã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„é…ç½®é¡¹åŠå…¶è¯´æ˜ï¼š typeï¼ˆç±»å‹ï¼‰: å®šä¹‰äº†ç”¨æˆ·äº¤äº’çš„ç±»å‹ã€‚å¸¸ç”¨çš„ç±»å‹åŒ…æ‹¬ï¼š input: æ¥æ”¶ç”¨æˆ·çš„æ–‡æœ¬è¾“å…¥ã€‚ list: æä¾›ä¸€ä¸ªåˆ—è¡¨ä¾›ç”¨æˆ·é€‰æ‹©ã€‚ checkbox: æä¾›ä¸€ä¸ªå¤šé€‰æ¡†åˆ—è¡¨ä¾›ç”¨æˆ·é€‰æ‹©ã€‚ confirm: æä¾›ä¸€ä¸ªæ˜¯/å¦ çš„ç¡®è®¤é€‰æ‹©ã€‚ nameï¼ˆåç§°ï¼‰: å®šä¹‰äº†äº¤äº’ç»“æœåœ¨è¿”å›çš„å¯¹è±¡ä¸­çš„é”®åã€‚ messageï¼ˆæ¶ˆæ¯ï¼‰: æ˜¾ç¤ºç»™ç”¨æˆ·çš„é—®é¢˜æˆ–æç¤ºä¿¡æ¯ã€‚ defaultï¼ˆé»˜è®¤å€¼ï¼‰: è®¾å®šä¸€ä¸ªé»˜è®¤å€¼ï¼Œå¦‚æœç”¨æˆ·ç›´æ¥æŒ‰ä¸‹å›è½¦ï¼Œåˆ™ä½¿ç”¨è¯¥å€¼ã€‚ choicesï¼ˆé€‰é¡¹ï¼‰: ç”¨äºlistå’Œcheckboxç±»å‹çš„äº¤äº’ï¼Œæä¾›å¯ä¾›é€‰æ‹©çš„é€‰é¡¹ã€‚ validateï¼ˆéªŒè¯ï¼‰: å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºéªŒè¯ç”¨æˆ·çš„è¾“å…¥ï¼Œè¿”å› true è¡¨ç¤ºåˆæ³•ï¼Œè¿”å›é”™è¯¯æ¶ˆæ¯å­—ç¬¦ä¸²è¡¨ç¤ºéæ³•ã€‚ filterï¼ˆè¿‡æ»¤ï¼‰: å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºå¯¹ç”¨æˆ·çš„è¾“å…¥è¿›è¡Œå¤„ç†ï¼Œè¿”å›å¤„ç†åçš„å€¼ã€‚ whenï¼ˆæ¡ä»¶ï¼‰: å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ ¹æ®å‰ä¸€ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ¥ç¡®å®šæ˜¯å¦éœ€è¦æ˜¾ç¤ºå½“å‰é—®é¢˜ã€‚ pageSizeï¼ˆåˆ†é¡µå¤§å°ï¼‰: ç”¨äºlistç±»å‹çš„äº¤äº’ï¼Œè®¾ç½®æ˜¾ç¤ºçš„é€‰é¡¹æ•°é‡ã€‚ prefixï¼ˆå‰ç¼€ï¼‰: åœ¨é—®é¢˜æ˜¾ç¤ºå‰ï¼Œå¯æ·»åŠ ä¸€ä¸ªå‰ç¼€ã€‚ suffixï¼ˆåç¼€ï¼‰: åœ¨é—®é¢˜æ˜¾ç¤ºåï¼Œå¯æ·»åŠ ä¸€ä¸ªåç¼€ã€‚ transformerï¼ˆè½¬æ¢å™¨ï¼‰: ç”¨äºå¯¹ç”¨æˆ·è¾“å…¥å’Œäº¤äº’ç»“æœçš„è¿›ä¸€æ­¥å¤„ç†ã€‚ loopï¼ˆå¾ªç¯ï¼‰: å½“typeä¸ºlistæ—¶ï¼Œé€‰æ‹©åˆ°æœ€åä¸€ä¸ªé€‰é¡¹ä¼šå›åˆ°ç¬¬ä¸€ä¸ªé€‰é¡¹ã€‚ validateï¼ˆéªŒè¯ï¼‰: å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºå¯¹ç”¨æˆ·çš„è¾“å…¥è¿›è¡ŒéªŒè¯ã€‚ defaultï¼ˆé»˜è®¤å€¼ï¼‰: è®¾ç½®ä¸€ä¸ªé»˜è®¤å€¼ï¼Œå¦‚æœç”¨æˆ·ç›´æ¥æŒ‰ä¸‹å›è½¦ï¼Œåˆ™ä½¿ç”¨è¯¥å€¼ã€‚ è¿™äº›å‚æ•°å¯ä»¥æ ¹æ®éœ€æ±‚ç»„åˆä½¿ç”¨ï¼Œä»¥å®ç°ä¸°å¯Œçš„äº¤äº’ä½“éªŒã€‚ ç¤ºä¾‹: inquirer.prompt([ { type: 'input', name: 'username', message: 'è¯·è¾“å…¥ä½ çš„åå­—', default: 'John Doe', // é»˜è®¤å€¼ validate: function (value) { if (value.length) { return true; // è¾“å…¥åˆæ³• } return 'è¯·è¾“å…¥ä½ çš„åå­—'; // è¾“å…¥éæ³•æ—¶çš„é”™è¯¯æ¶ˆæ¯ } }, { type: 'list', name: 'color', message: 'é€‰æ‹©ä¸€ç§é¢œè‰²', choices: ['Red', 'Green', 'Blue'], // æä¾›çš„é€‰é¡¹ pageSize: 5 // åˆ†é¡µå¤§å° }, // ... ]).then(answers =&gt; { console.log(answers); }); å¦‚ä½•ä¸‹è½½è¿œç¨‹é¡¹ç›®ä»£ç  download-git-repoæ˜¯ä¸€ä¸ªç”¨äºä» Git ä»“åº“ä¸‹è½½ä»£ç çš„ Node.js æ¨¡å—ã€‚å®ƒå¯ä»¥å°†è¿œç¨‹ä»“åº“ä¸­çš„ä»£ç ä¸‹è½½åˆ°æœ¬åœ°çš„æ–‡ä»¶å¤¹ä¸­ã€‚ å®‰è£…æ’ä»¶ï¼š npm install download-git-repo ä½¿ç”¨æ–¹æ³• é¦–å…ˆï¼Œåœ¨æˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„ /config.js æ–‡ä»¶ä¸­æ·»åŠ äº†è¿œç¨‹é¡¹ç›®çš„ä»“åº“åœ°å€ï¼š module.exports = { framwork: ['egg', 'koa', 'express'], framworkUrl: { 'egg': 'https://github.com/LonJinUp/lonjin-helper', 'koa': 'https://github.com/LonJinUp/wxTabBar', 'express': 'https://github.com/LonJinUp/vue-prettier-plugin' } } æ¥ç€ï¼Œæˆ‘ä»¬åˆ›å»ºäº† /lib/core/download.js æ–‡ä»¶ï¼Œå¼•å…¥äº† download-git-repo å¹¶å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ï¼š const download = require('download-git-repo') const downFramwork = (url, project) =&gt; { download(`direct:${url}`, project, { clone: true }, (error) =&gt; { console.log(error) }) } module.exports = downFramwork å…³äºdownload-git-repoä¸­downloadå‚æ•°è¯¦ç»†è§£é‡Šå¦‚ä¸‹ï¼š download(repository, destination, options, callback) repository: ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤º Git ä»“åº“çš„åœ°å€ã€‚å¯ä»¥æ˜¯ HTTPS æˆ–è€… SSH å½¢å¼çš„ Git ä»“åº“åœ°å€ï¼Œä¹Ÿå¯ä»¥æ˜¯ GitHubã€GitLab æˆ–è€… Bitbucket ç­‰æ‰˜ç®¡æœåŠ¡çš„åœ°å€ã€‚ destination: ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºç›®æ ‡æ–‡ä»¶å¤¹çš„è·¯å¾„ï¼Œä»£ç å°†ä¼šä¸‹è½½åˆ°è¯¥æ–‡ä»¶å¤¹ä¸­ã€‚ options: ä¸€ä¸ªåŒ…å«é…ç½®é€‰é¡¹çš„å¯¹è±¡ï¼Œå¯ä»¥ç”¨æ¥å®šåˆ¶ä¸‹è½½çš„è¡Œä¸ºã€‚å¸¸ç”¨é€‰é¡¹åŒ…æ‹¬ï¼š clone: ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦ä½¿ç”¨ Git çš„å…‹éš†åŠŸèƒ½ï¼Œé»˜è®¤ä¸º falseã€‚å¦‚æœè®¾ç½®ä¸º trueï¼Œå°†ä¼šä½¿ç”¨ Git å…‹éš†æ•´ä¸ªä»“åº“ï¼Œå¦åˆ™å°†ä¼šç›´æ¥ä¸‹è½½ ZIP å½’æ¡£æ–‡ä»¶ï¼ˆé€Ÿåº¦æ›´å¿«ï¼Œä½†ä¸æ”¯æŒç§æœ‰ä»“åº“ï¼‰ã€‚ checkout: ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºåœ¨ä¸‹è½½åå°†ä¼šæ£€å‡ºçš„åˆ†æ”¯æˆ–æ ‡ç­¾åã€‚ depth: ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤º Git å…‹éš†æ—¶çš„æ·±åº¦ï¼ˆå³å†å²è®°å½•çš„æ•°é‡ï¼‰ï¼Œé»˜è®¤ä¸º undefinedï¼Œè¡¨ç¤ºå…‹éš†å®Œæ•´çš„å†å²è®°å½•ã€‚ callback: ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå½“ä¸‹è½½å®Œæˆæ—¶ä¼šè°ƒç”¨è¯¥å‡½æ•°ï¼Œå¯ä»¥è·å–åˆ°é”™è¯¯ä¿¡æ¯ã€‚ æœ€åï¼Œæˆ‘ä»¬å›åˆ°äº† /lib/core/action.js ä¸­ï¼Œå¯¼å…¥äº†æˆ‘ä»¬ç¼–å†™å¥½çš„å‡½æ•°ï¼Œå¹¶åšäº†ä¸€äº›è°ƒæ•´ã€‚æˆ‘ä»¬ä¹Ÿå°†ä¹‹å‰çš„ inquirer æ”¹æˆäº† await çš„å†™æ³•ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§ã€‚ const inquirer = require('inquirer') const config = require('../../config') const download = require('./download') const myAction = async (project, args) =&gt; { const answer = await inquirer.prompt([ { type: 'list', name: 'framework', message: 'è¯·é€‰æ‹©ä½ ä½¿ç”¨çš„æ¡†æ¶', choices: config.framework } ]) // ä¸‹è½½æ¨¡æ¿ download(config.frameworkUrl[answer.framework], project) } module.exports = myAction æœ€åï¼Œæˆ‘ä»¬æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š my-cli create text-download-1 ç„¶åæ ¹æ®ä½ çš„é€‰æ‹©ï¼Œä¼šä¸‹è½½ç›¸åº”çš„è¿œç¨‹ä»£ç ï¼Œå¹¶ä¸”æ–‡ä»¶å¤¹çš„åç§°å°†ä¸ create å‘½ä»¤åé¢çš„å‚æ•°ä¸€è‡´ã€‚ ","link":"https://lonjinup.github.io/node-02-cli/"},{"title":" vue2é¡¹ç›®å¦‚ä½•åœ¨è¿è¡Œæ—¶é€šè¿‡prettieræ ¼å¼åŒ–ä»£ç ","content":"vue2é¡¹ç›®å¦‚ä½•åœ¨è¿è¡Œæ—¶é€šè¿‡prettieræ ¼å¼åŒ–ä»£ç  ä»Šå¤©é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œè€vue2é¡¹ç›®ç”±äºä¹‹å‰æ²¡æœ‰ä½¿ç”¨eslintå’Œprettierè¿›è¡Œä»£ç æ£€æŸ¥å’Œæ ¼å¼åŒ–ï¼Œéšç€å¼€å‘äººå‘˜å¢åŠ ï¼Œæ¯ä¸ªå¼€å‘äººå‘˜ä½¿ç”¨çš„ç¼–è¾‘å™¨ä¸åŒã€æ ¼å¼åŒ–æ’ä»¶ä¸åŒï¼Œæäº¤ä»£ç æ—¶å€™è€ä¼šå†²çªï¼Œè°ƒç ”äº†å‡ ä¸ªæ–¹æ¡ˆï¼Œå…·ä½“å¦‚ä¸‹ï¼š å›¢é˜Ÿç»Ÿä¸€ä½¿ç”¨vscodeï¼Œæ·»åŠ vscodeä¸­çš„prettieræ’ä»¶ï¼Œæ·»åŠ .vscodeæ–‡ä»¶å¤¹ï¼Œç»Ÿä¸€è®¾ç½®é…ç½®æ–‡ä»¶ã€‚ é¡¹ç›®å®‰è£…perttierï¼Œæäº¤ä»£ç å‰é€šè¿‡å‘½ä»¤è¿›è¡Œä»£ç æ ¼å¼åŒ–ã€‚ é¡¹ç›®å®‰è£…perttierï¼ŒåŒæ—¶ä½¿ç”¨vscodeä¸­çš„prettieræ’ä»¶ï¼Œè¿è¡Œæ—¶ä¹Ÿå¯ä»¥è¿›è¡Œæ ¼å¼åŒ–ã€‚ é¡¹ç›®å®‰è£…perttierå’Œeslintï¼Œé…åˆvscodeä¸­çš„ä¸¤ä¸ªæ’ä»¶è¿›è¡Œå¤„ç†ã€‚ æ–¹æ¡ˆ1å’Œæ–¹æ¡ˆ3æ¯”è¾ƒä¾èµ–ç¼–è¾‘å™¨ï¼Œå¦‚æœå¼€å‘äººå‘˜ä¸ç”¨vscodeè¿›è¡Œå¼€å‘ï¼Œé‚£ä¹ˆå°±æ— æ³•è¿›è¡Œæ ¼å¼åŒ–ï¼›æ–¹æ¡ˆ2æ¯æ¬¡æäº¤ä¹‹å‰éƒ½éœ€è¦è¿è¡Œå‘½ä»¤ï¼Œä¸å¤Ÿæ–¹ä¾¿ï¼›æ–¹æ¡ˆ4ä¹Ÿæ¯”è¾ƒä¾èµ–ç¼–è¾‘å™¨ï¼Œè€Œä¸”å¦‚æœä½¿ç”¨eslintï¼Œä¹‹å‰çš„ä»£ç è‚¯éœ€è¦è¿›è¡Œä¸€äº›å¤„ç†ï¼Œæˆ–è€…æŠŠå¤§éƒ¨åˆ†eslintè§„åˆ™å…³é—­ï¼Œä¸å¤Ÿçµæ´»ï¼Œä¸”æŠ˜è…¾ä¸‹æ¥æ¯”è¾ƒè€—æ—¶ã€‚ é‚£ä¹ˆæœ‰æ²¡æœ‰ä¸€ç§æ–¹æ¡ˆï¼Œé…ç½®ç®€å•ï¼Œä¸”ä¸ä¾èµ–ç¼–è¾‘å™¨ä¸Šçš„æ’ä»¶ï¼Œåœ¨è¿è¡Œæ—¶åªè¦ä¿å­˜ä»£ç å³å¯è¿›è¡Œæ ¼å¼åŒ–å‘¢ï¼Ÿ vue-prettier-plugin åœ¨é¡¹ç›®åˆå§‹åŒ–ç”Ÿå‘½å‘¨æœŸä¸­å¯åŠ¨æ’ä»¶ï¼Œä½¿ç”¨chokidarå¯¹æ•´ä¸ªç›®å½•çš„æ–‡ä»¶è¿›è¡Œç›‘å¬ï¼Œå‘ç°æ–‡ä»¶æœ‰å˜åŒ–å°±ä½¿ç”¨prettierè¿›è¡Œæ ¼å¼åè¿›è¡Œè¦†ç›–ä¿å­˜ã€‚ å®‰è£…æ’ä»¶ npm install vue-prettier-plugin --save-dev åœ¨vue.config.jsæˆ–webpack.jsä¸­å¼•å…¥æ’ä»¶ï¼Œå¹¶åˆå§‹åŒ–ï¼š const VuePrettierPlugin = require('vue-prettier-plugin') module.exports = { // ...å…¶ä»–é…ç½® configureWebpack: { plugins: [ new VuePrettierPlugin( { // Prettier æ ¼å¼åŒ–é€‰é¡¹ printWidth: 100, tabWidth: 4, // ...å…¶ä»–é€‰é¡¹ }, 'src/',//æ ¼å¼åŒ–æ–‡ä»¶è·¯å¾„ï¼Œé»˜è®¤ src/ ), ], }, }; è¿è¡Œé¡¹ç›®ï¼Œå¦‚æœä»£ç æœ‰æ›´æ”¹ï¼Œæ’ä»¶å°±ä¼šæ ¹æ®é…ç½®é¡¹è‡ªåŠ¨æ ¼å¼åŒ–æ–‡ä»¶ã€‚ ç»“å°¾ é€šè¿‡è¿™ä¸ªæ’ä»¶ï¼Œæˆ‘ä»¬å³å¯ä¸ä¾èµ–ç¼–è¾‘å™¨ã€åœ¨è¿è¡Œæ—¶ä¿®æ”¹æ–‡ä»¶å³å¯è¿›è¡Œæ ¼å¼åŒ–ä»£ç ã€‚ æ’ä»¶npmåœ°å€ï¼š vue-prettier-plugin æ’ä»¶githubåœ°å€ï¼š vue-prettier-plugin ","link":"https://lonjinup.github.io/vue-prettier-plugin/"},{"title":"å¦‚ä½•å°è£…ä¼˜é›…ã€é«˜æ•ˆçš„uni-appè¯·æ±‚ï¼šè®©å¼€å‘æ›´è½»æ¾","content":"#å°è£…ä¼˜é›…ã€é«˜æ•ˆçš„uni-appè¯·æ±‚ï¼šè®©å¼€å‘æ›´è½»æ¾ å¤§å®¶å¥½ï¼Œä»Šå¤©æˆ‘æƒ³åˆ†äº«ä¸€äº›å…³äºuni-appå¼€å‘ä¸­å°è£…é«˜æ•ˆã€ä¼˜é›…çš„requestè¯·æ±‚çš„ç»éªŒã€‚ä¹‹å‰æˆ‘åœ¨uni-appå¼€å‘å°ç¨‹åºï¼šé¡¹ç›®æ¶æ„ä»¥åŠç»éªŒåˆ†äº« çš„æ–‡ç« ä¸­ï¼Œå·²ç»åˆ†äº«äº†ä¸€äº›æœ‰ç”¨çš„ç»éªŒæŠ€å·§ï¼ŒåŒ…æ‹¬äºŒæ¬¡å°è£…uni-appçš„APIã€‚ä¸‹é¢æˆ‘å°†è¯¦ç»†ä»‹ç»å¦‚ä½•å°è£…ä¸€ä¸ªå¼ºå¤§ä¸”æ˜“ç”¨çš„requestè¯·æ±‚ï¼Œå¸Œæœ›èƒ½å¤Ÿå¯¹ä½ çš„å¼€å‘å·¥ä½œæœ‰æ‰€å¸®åŠ©ã€‚ ä¸ºä»€ä¹ˆéœ€è¦å°è£…requestè¯·æ±‚ï¼Ÿ åœ¨uni-appå¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦ä¸åç«¯æœåŠ¡å™¨è¿›è¡Œæ•°æ®äº¤äº’ã€‚ä¸ºäº†æé«˜å¼€å‘æ•ˆç‡ã€ä»£ç çš„å¯ç»´æŠ¤æ€§ä»¥åŠé™ä½é‡å¤ä»£ç çš„ä½¿ç”¨ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå¯¹ç½‘ç»œè¯·æ±‚è¿›è¡Œå°è£…ã€‚ å°è£…requestè¯·æ±‚çš„å¥½å¤„æœ‰å¾ˆå¤šï¼š ç®€åŒ–ä»£ç ï¼šå°†ä¸€äº›é‡å¤æ€§çš„è¯·æ±‚å¤„ç†é€»è¾‘æŠ½ç¦»å‡ºæ¥ï¼Œä½¿å¾—ä¸šåŠ¡ä»£ç æ›´åŠ æ¸…æ™°ç®€æ´ï¼Œæ˜“äºé˜…è¯»å’Œç»´æŠ¤ã€‚ æ˜“äºç®¡ç†ï¼šç»Ÿä¸€ç®¡ç†æ¥å£åœ°å€ã€é”™è¯¯å¤„ç†å’Œè¯·æ±‚æ‹¦æˆªï¼Œæ–¹ä¾¿åæœŸç»´æŠ¤å’Œæ›´æ–°ã€‚ å¢å¼ºå¯æ‰©å±•æ€§ï¼šå¦‚æœåç«¯æ¥å£å‘ç”Ÿå˜åŒ–ï¼Œåªéœ€è¦ä¿®æ”¹è¯·æ±‚å°è£…çš„éƒ¨åˆ†è€Œä¸å½±å“ä¸šåŠ¡ä»£ç ã€‚ æ”¯æŒ asyncã€awaitï¼Œä»¥æé«˜ä»£ç çš„å¯è¯»æ€§å’Œç®€æ´æ€§ã€‚ åœ¨è¯·æ±‚åº“ä¸­å®ç°å…¨å±€çš„ loading åŠŸèƒ½ï¼Œè®©ç”¨æˆ·åœ¨å‘é€è¯·æ±‚æ—¶èƒ½å¤Ÿçœ‹åˆ°åŠ è½½åŠ¨ç”»ï¼Œå¢å¼ºç”¨æˆ·ä½“éªŒã€‚ ç»Ÿä¸€å¤„ç†è¯·æ±‚é”™è¯¯ï¼Œä¾‹å¦‚ç½‘ç»œè¿æ¥å¤±è´¥æ—¶ï¼Œç»™äºˆç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤ºï¼Œæé«˜ç”¨æˆ·æ»¡æ„åº¦ã€‚ è€ƒè™‘å®ç°å¤šç§è¯·æ±‚æ–¹å¼ï¼ŒåŒ…æ‹¬ GETã€POSTã€PUT ç­‰ï¼Œä»¥æ»¡è¶³ä¸åŒåœºæ™¯ä¸‹çš„éœ€æ±‚ã€‚ ä¸ºäº†é¿å…é‡å¤è¯·æ±‚ï¼Œå¯ä»¥å®ç°è¯·æ±‚æ‹¦æˆªåŠŸèƒ½ï¼Œåœ¨è¯·æ±‚å‘é€å‰åˆ¤æ–­æ˜¯å¦å·²ç»åœ¨è¿›è¡Œç›¸åŒçš„è¯·æ±‚ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™å–æ¶ˆé‡å¤è¯·æ±‚ã€‚ å…ˆä¸Šä¸€ä¸‹æœ€ç»ˆçš„ä½¿ç”¨æ–¹å¼ï¼š api.js // å¼•å…¥è¯·æ±‚ import request from '@/utils/request' //æ¥å£ç¤ºä¾‹ export const info = data =&gt; request.post('/v1/api/info', data) é¡µé¢ä¸­ä½¿ç”¨ &lt;script&gt; import { info } from '@/api/user.js' export default { methods: { async getUserinfo() { let res = await info() } } } &lt;/script&gt; coding 1.åˆ›å»ºåŸºç¡€è¯·æ±‚ é¦–å…ˆï¼Œæˆ‘ä»¬å¯¼å…¥äº†ä¸€äº›å…¬å…±æ–¹æ³•ï¼Œæ¯”å¦‚toastç”¨äºæ˜¾ç¤ºæç¤ºä¿¡æ¯ï¼ŒclearStorageSyncå’ŒgetStorageSyncç”¨äºæ“ä½œæœ¬åœ°ç¼“å­˜ï¼Œè¿˜æœ‰useRouterç”¨äºè·³è½¬é¡µé¢ç­‰ã€‚ ç„¶åï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåä¸ºbaseRequestçš„å¼‚æ­¥å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°æ¥æ”¶å››ä¸ªå‚æ•°ï¼šurlè¡¨ç¤ºè¯·æ±‚çš„åœ°å€ï¼Œmethodè¡¨ç¤ºè¯·æ±‚æ–¹æ³•ï¼Œé»˜è®¤GETè¯·æ±‚ï¼Œdataè¡¨ç¤ºè¦å‘é€çš„æ•°æ®ï¼Œé»˜è®¤ä¸ºç©ºå¯¹è±¡ï¼Œloadingè¡¨ç¤ºæ˜¯å¦æ˜¾ç¤ºåŠ è½½åŠ¨ç”»ï¼Œé»˜è®¤ä¸ºtrueã€‚ åœ¨å‡½æ•°å†…éƒ¨ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œç”¨äºæ”¯æŒasync ã€awaitè°ƒç”¨ã€‚ åœ¨å¼‚æ­¥è¯·æ±‚ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†uni.requestæ–¹æ³•å‘é€è¯·æ±‚ã€‚æˆ‘ä»¬åœ¨è¯·æ±‚ä¸­ä¼ å…¥äº†è¯·æ±‚åœ°å€ã€è¯·æ±‚æ–¹æ³•ã€è¯·æ±‚å¤´ã€æ•°æ®ã€å’Œè¶…æ—¶æ—¶é—´ç­‰ä¿¡æ¯ã€‚ å¦‚æœè¯·æ±‚æˆåŠŸï¼Œå¹¶ä¸”çŠ¶æ€ç ä¸º200ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¼šå¤„ç†è¿”å›çš„æ•°æ®ã€‚è¿™é‡Œçš„å¤„ç†é€»è¾‘å¯ä»¥æ ¹æ®å®é™…ä¸šåŠ¡éœ€æ±‚æ¥ä¿®æ”¹ã€‚å¦‚æœè¿”å›çš„resultCodeä¸ºPA-G998(ä¸šåŠ¡é€»è¾‘)ï¼Œè¡¨ç¤ºç”¨æˆ·æœªç™»å½•æˆ–ç™»å½•è¿‡æœŸï¼Œæˆ‘ä»¬ä¼šæ¸…é™¤æœ¬åœ°ç¼“å­˜å¹¶è·³è½¬åˆ°ç™»å½•é¡µé¢ã€‚å¦åˆ™ï¼Œæˆ‘ä»¬ä¼šå°†è¯·æ±‚æˆåŠŸè¿”å›çš„æ•°æ®ä¼ é€’ç»™Promiseå¯¹è±¡çš„resloveæ–¹æ³•ã€‚ å¦‚æœè¯·æ±‚å¤±è´¥ï¼Œæˆ‘ä»¬ä¼šæ˜¾ç¤ºç½‘ç»œè¿æ¥å¤±è´¥çš„æç¤ºï¼Œå¹¶å°†é”™è¯¯ä¿¡æ¯ä¼ é€’ç»™Promiseå¯¹è±¡çš„rejectæ–¹æ³•ã€‚ import {toast, clearStorageSync, getStorageSync, useRouter} from './utils' // å…¬å…±æ–¹æ³• import {BASE_URL} from '@/config/index' //è·å–è¯·æ±‚åŸŸå const baseRequest = async (url, method, data = {}, loading = true) =&gt;{ let header = {} return new Promise((reslove, reject) =&gt; { uni.request({ url: BASE_URL + url, method: method || 'GET', header: header, timeout: 10000, data: data || {}, success: (successData) =&gt; { const res = successData.data if(successData.statusCode == 200){ // ä¸šåŠ¡é€»è¾‘ï¼Œè‡ªè¡Œä¿®æ”¹ if(res.resultCode == 'PA-G998'){ clearStorageSync() useRouter('/pages/login/index', 'reLaunch') }else{ reslove(res.data) } }else{ toast('ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•') reject(res) } }, fail: (msg) =&gt; { toast('ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•') reject(msg) } }) }) } 2.ç®€åŒ–å…¥å‚ ä¸Šé¢åªæ˜¯å°è£…äº†ä¸€ä¸ªæœ€æœ€åŸºç¡€çš„è¯·æ±‚ï¼Œè¯¥æ–¹æ³•æ¥å—çš„å‚æ•°æ¯”è¾ƒå¤šï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦å»åšä¸€æ¬¡ç®€åŒ–å‚æ•°çš„æ“ä½œï¼š é¦–å…ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåä¸ºrequestçš„å¯¹è±¡ï¼Œå¹¶ä½¿ç”¨forEachæ–¹æ³•éå†åŒ…å«ä¸åŒHTTPè¯·æ±‚æ–¹æ³•çš„æ•°ç»„ã€‚å¯¹äºæ¯ä¸ªHTTPè¯·æ±‚æ–¹æ³•ï¼Œå®ƒä¼šå®šä¹‰ä¸€ä¸ªå¯¹åº”çš„å‡½æ•°ï¼Œå¹¶å°†å…¶ä½œä¸ºrequestå¯¹è±¡çš„å±æ€§ã€‚ è¿™æ ·ï¼Œåœ¨ä½¿ç”¨requestå¯¹è±¡æ—¶ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨request.GET()ã€request.POST()ç­‰æ–¹æ³•æ¥å‘èµ·ä¸åŒç±»å‹çš„HTTPè¯·æ±‚ï¼Œè€Œä¸éœ€è¦æ¯æ¬¡éƒ½æ˜¾å¼åœ°æŒ‡å®šè¯·æ±‚çš„æ–¹æ³•ã€‚è¿™æ ·å¯ä»¥ä½¿ä»£ç æ›´åŠ ç®€æ´å’Œæ˜“äºç»´æŠ¤ã€‚ æœ€åå¯¼å‡ºrequestå¯¹è±¡ const request = {} ['options', 'get', 'post', 'put', 'head', 'delete', 'trace', 'connect'].forEach((method) =&gt; { request[method] = (api, data, loading) =&gt; baseRequest(api, method, data, loading) }) export default request ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š /api/user.js æ–‡ä»¶ import request from '@/utils/request' //ä¸ªäººä¿¡æ¯ export const info = data =&gt; request.post('/v1/api/info', data) é¡µé¢ä½¿ç”¨ï¼š import { info } from '@/api/user.js' export default { onLoad() { this.getUserinfo() }, methods: { async getUserinfo() { let res = await info() } } } ç¦æ­¢é‡å¤è¯·æ±‚ ä¸ºäº†èŠ‚çœç½‘ç»œèµ„æºã€æé«˜æ€§èƒ½å’Œå“åº”é€Ÿåº¦ä»¥åŠé¿å…æ•°æ®é”™è¯¯ï¼Œæˆ‘ä»¬éœ€è¦å¯¹å‘èµ·çš„è¯·æ±‚åšä¸€äº›é™åˆ¶æ¥é¿å…é‡å¤è¯·æ±‚ï¼Œå¸¸è§çš„é™åˆ¶æ–¹æ³•å¦‚ä¸‹ï¼š 1.ä½¿ç”¨é˜²æŠ–å’ŒèŠ‚æµï¼šå¯ä»¥ä½¿ç”¨é˜²æŠ–å’ŒèŠ‚æµçš„æŠ€æœ¯æ¥æ§åˆ¶è¯·æ±‚çš„è§¦å‘é¢‘ç‡ï¼Œç¡®ä¿åœ¨ä¸€æ®µæ—¶é—´å†…åªå‘èµ·ä¸€æ¬¡è¯·æ±‚ã€‚ 2.è®¾ç½®è¯·æ±‚é”ï¼šå¯ä»¥åœ¨å‘èµ·è¯·æ±‚ä¹‹å‰è®¾ç½®ä¸€ä¸ªè¯·æ±‚é”ï¼Œé˜²æ­¢é‡å¤è§¦å‘è¯·æ±‚ã€‚ 3.åˆç†è®¾è®¡é¡µé¢å’Œäº¤äº’é€»è¾‘ï¼šåœ¨é¡µé¢è®¾è®¡å’Œäº¤äº’é€»è¾‘ä¸­ï¼Œåˆç†å®‰æ’è¯·æ±‚çš„æ—¶æœºï¼Œé¿å…ä¸å¿…è¦çš„é‡å¤è¯·æ±‚ã€‚ æˆ‘ä»¬å¯ä»¥åœ¨å°è£…çš„æ¥å£è¯·æ±‚ä¸­æ·»åŠ ä¸€ä¸ªè¯·æ±‚é˜Ÿåˆ—ï¼Œå¦‚æœæœ‰å½“å‰å‘èµ·ä¸”æ²¡æœ‰è¿”å›ç»“æœçš„ï¼Œå°±ä¸å…è®¸å†æ¬¡è¯·æ±‚ï¼Œå…·ä½“å®ç°æ€è·¯å¦‚ä¸‹ï¼š 1.åˆ›å»ºä¸€ä¸ªå­˜æ”¾å”¯ä¸€IDçš„Mapå¯¹è±¡ 2.å½“è¯·æ±‚æ¥å£æ—¶å€™é€šè¿‡æ‹¿åˆ°çš„methodã€urlã€paramsã€æ¥ç”Ÿæˆå”¯ä¸€ID 3.è¯·æ±‚å®Œæˆåï¼ŒæŠŠå½“å‰IDä»å¯¹è±¡ä¸­åˆ é™¤ã€‚ æˆ‘ä»¬æŠŠæ£€æµ‹å”¯ä¸€IDè¿™ä¸ªåŠŸèƒ½æç‚¼å‡ºæ¥ï¼Œå•ç‹¬å»å°è£…ä¸€ä¸ªclasså»å®ç°ï¼›å…·ä½“å®ç°ä»£ç å¦‚ä¸‹ï¼š æ–°å»º/utils/requestManager.jsæ–‡ä»¶ï¼Œåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶åˆå§‹åŒ–ä¸€ä¸ªåä¸ºidMapçš„å¯¹è±¡ï¼Œæœ€åå¯¼å‡ºå¯¹è±¡ class RequestManager { constructor() { this.idMap = new Map() } } export default RequestManager æ ¹æ®methodã€urlã€paramsã€æ¥ç”Ÿæˆå”¯ä¸€IDï¼Œè¿™é‡Œè¦æ³¨æ„çš„æ˜¯æˆ‘ä»¬çš„paramséœ€è¦è¿›è¡Œåºåˆ—åŒ–å¤„ç†ï¼Œä¸ç„¶å¦‚æœåŒä¸€ä¸ªæ¥å£ã€ç›¸åŒçš„è¯·æ±‚æ–¹å¼ã€å‚æ•°é¡ºåºä¸åŒä¹Ÿä¼šåˆ¤æ–­ä¸ºä¸åŒçš„è¯·æ±‚ã€‚ class RequestManager { /** * ç”Ÿæˆå”¯ä¸€IDçš„æ–¹æ³• * @param {string} method - è¯·æ±‚æ–¹æ³• * @param {string} url - è¯·æ±‚URL * @param {object} params - è¯·æ±‚å‚æ•° * @returns {string} - ç”Ÿæˆçš„å”¯ä¸€ID */ generateUniqueId(method, url, params) { const idString = `${method}-${url}-${this.serializeObject(params)}` let id = 0; for (let i = 0; i &lt; idString.length; i++) { id = ((id &lt;&lt; 5) - id) + idString.charCodeAt(i) id |= 0; } return id.toString() } /** * åºåˆ—åŒ–å¯¹è±¡ä¸ºå­—ç¬¦ä¸² * @param {object} obj - è¦åºåˆ—åŒ–çš„å¯¹è±¡ * @returns {string} - åºåˆ—åŒ–åçš„å­—ç¬¦ä¸² */ serializeObject(obj) { const keys = Object.keys(obj).sort() const serializedObj = {} for (let key of keys) { const value = obj[key] if (value !== null &amp;&amp; typeof value === 'object') { serializedObj[key] = this.serializeObject(value) } else { serializedObj[key] = value } } return JSON.stringify(serializedObj) } } å†™å®Œç”Ÿæˆæ–¹æ³•ï¼Œç›¸å¯¹åº”çš„å®ç°ä¸€ä¸‹åˆ é™¤æ–¹æ³•ï¼š class RequestManager { /** * æ ¹æ®IDåˆ é™¤mapå¯¹è±¡ä¸­çš„è¯·æ±‚ä¿¡æ¯ * @param {string} id - è¦åˆ é™¤çš„å”¯ä¸€ID */ deleteById(id) { this.idMap.delete(id) } } ä¸Šé¢å°±å®ç°äº†åŸºæœ¬çš„åŠŸèƒ½ï¼Œä¸‹é¢æˆ‘ä»¬å†™ä¸€ä¸ªæ–¹æ³•ï¼Œå»ç»„åˆä¸€ä¸‹ä¸Šé¢çš„åŠŸèƒ½ï¼Œç®€åŒ–ä½¿ç”¨ï¼š class RequestManager { /** * ç”Ÿæˆå”¯ä¸€IDï¼Œå¹¶å°†IDå’Œè¯·æ±‚ä¿¡æ¯å­˜å‚¨åˆ°mapå¯¹è±¡ä¸­ * @param {string} method - è¯·æ±‚æ–¹æ³• * @param {string} url - è¯·æ±‚URL * @param {object} params - è¯·æ±‚å‚æ•° * @returns {string|boolean} - ç”Ÿæˆçš„å”¯ä¸€IDï¼Œå¦‚æœå­˜åœ¨ç›¸åŒidåˆ™è¿”å›false */ generateId(method, url, params) { const id = this.generateUniqueId(method, url, params) if (this.idMap.has(id)) { return false } this.idMap.set(id, { method, url, params }) return id } } åˆ°è¿™é‡Œæˆ‘ä»¬çš„æ–¹æ³•å°±å†™å®Œäº†ï¼Œä¸‹é¢æ¥çœ‹ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ï¼š //å¼•å…¥æ–¹æ³• import RequestManager from '@/utils/requestManager.js' const manager = new RequestManager() //åˆ›å»º const baseRequest = async (url, method, data = {}, loading = true) =&gt;{ // ç”Ÿæˆå”¯ä¸€ID, å¦‚æœè¿”å›false ä»£è¡¨é‡å¤è¯·æ±‚ let requestId = manager.generateId(method, url, data) if(!requestId) { console.log('é‡å¤è¯·æ±‚') return false } return new Promise((reslove, reject) =&gt; { uni.request({ complete: ()=&gt;{ // è¯·æ±‚å®Œæˆï¼Œæ¸…é™¤å½“å‰è¯·æ±‚çš„å”¯ä¸€ID manager.deleteById(requestId) }, }) }) } æ·»åŠ å…¨å±€loading æ·»åŠ å…¨å±€loadingå°±æ¯”è¾ƒç®€å•äº†ï¼Œæˆ‘ä»¬å‰é¢å®šä¹‰äº†å…¥å‚æ•°loadingï¼Œå¦‚æœä¸ºtrueï¼Œåœ¨åˆ›å»ºPromiseåï¼Œè°ƒç”¨uni.showLoadingå³å¯ã€‚ åŒæ—¶éœ€è¦åœ¨uni.requestä¸­æ·»åŠ completeæ–¹æ³•ï¼Œåœ¨è¯·æ±‚å®Œæˆåå»å…³é—­loadingã€‚ const baseRequest = async (url, method, data = {}, loading = true) =&gt;{ return new Promise((reslove, reject) =&gt; { // å¼€å¯loading loading &amp;&amp; uni.showLoading({title: 'loading'}) uni.request({ // ... complete: ()=&gt;{ // å…³é—­loading uni.hideLoading() }, // ...çœç•¥ä¸‹æ–¹ä»£ç  }) }) } ç»“å°¾ æ‰€æœ‰ä»£ç å·²æ”¾åˆ°githubï¼›è¯·è®¿é—® uni-app-templateï¼Œå¦‚æœè§‰å¾—ä¸åšï¼Œè®°å¾—ç»™ä¸ªstar ","link":"https://lonjinup.github.io/uni-request/"},{"title":"ã€nodeå­¦ä¹ -01ã€‘node.jsåŸºç¡€","content":"nodeåŸºç¡€ nodeæ˜¯ä»€ä¹ˆï¼Ÿ Node.js ä¸æ˜¯ä¸€é—¨è¯­è¨€ï¼Œæ˜¯ä¸€ä¸ªè¿è¡Œæ—¶ï¼Œå’Œæµè§ˆå™¨æ›´åƒï¼Œåªä¸è¿‡è¿è¡Œåœ¨æœåŠ¡ç«¯ã€‚ è¿™ä¸ªè¿è¡Œæ—¶çš„æ–¹è¨€æ˜¯ JavaScriptï¼ˆä¸åŒ…å« BOMã€DOM APIï¼Œå¢åŠ äº† Streamã€ç½‘ç»œç­‰ APIï¼‰ã€‚ Node.js æ˜¯é  Chrome V8 å¼•æ“è¿è¡Œ JavaScriptã€‚ å¯¹åº”åˆ° Java æˆ‘ä»¬å¯ä»¥ç†è§£ Node.js æ˜¯ JDKï¼Œè£…ä¸Šå°±èƒ½åœ¨æœåŠ¡ç«¯è·‘ JavaScript ä»£ç äº†ã€‚Chrome å’Œ Node.js åŒæ ·æ˜¯ JavaScript è¿è¡Œæ—¶ï¼Œéƒ½ä½¿ç”¨äº† V8 å¼•æ“ï¼Œä¸»è¦åŒºåˆ«åœ¨äº V8 åªå®ç°äº† ECMAScript çš„æ•°æ®ç±»å‹ã€å¯¹è±¡å’Œæ–¹æ³•ï¼ŒChrome è¿è¡Œæ—¶æä¾›äº† Windowã€DOMã€BOMï¼Œè€Œ Node.js è¿è¡Œæ—¶æä¾›äº†globalã€ Bufferã€net ç­‰æ¨¡å— nodeå¯ä»¥å¹²ä»€ä¹ˆï¼Ÿ åç«¯webæœåŠ¡å™¨å¼€å‘ä¸ç½‘ç»œçˆ¬è™«å¼€å‘ è„šæ‰‹æ¶å‘½ä»¤è¡Œå·¥å…·å¼€å‘ å›¾å½¢ç•Œé¢åº”ç”¨ç¨‹åºå¼€å‘ ç¯å¢ƒæ­å»ºä¸åŸºç¡€å…¥é—¨ å®‰è£…node æ‰“å¼€ node.jså®˜ç½‘ï¼Œé€‰æ‹©é•¿æœŸç»´æŠ¤ç‰ˆè¿›è¡Œå®‰è£…ã€‚ ç»ˆç«¯ä¸‹è¾“å…¥ node -v å¯ä»¥è¾“å‡ºç‰ˆæœ¬å·å³å¯è¯æ˜å®‰è£…æˆåŠŸ å¦‚ä½•ä½¿ç”¨node.js è¿è¡ŒJavaScriptä»£ç  æ–°å»º index.js æ–‡ä»¶ï¼Œå†™å…¥å¦‚ä¸‹å†…å®¹ï¼š let a = 1 console.log(a) ç»ˆç«¯ä¸‹è¾“å…¥ï¼š node index.js æ§åˆ¶å°å°±ä¼šæ‰“å‡º1 æ–‡ä»¶æ“ä½œä¸æ¨¡å—åŒ–çš„æ¦‚å¿µ è¯»å–æ–‡ä»¶å†…å®¹ æ–°å»ºread.jsï¼Œå¼•å…¥fsæ¨¡å—ï¼Œé€šè¿‡fsä¸‹çš„readFileè¿›è¡Œè¯»å–ï¼š // å¼•å…¥fs æ¨¡å— var fs = require('fs') // æ–‡ä»¶è·¯å¾„ ç¼–ç æ ¼å¼ å›è°ƒå‡½æ•°ï¼ˆå¼‚å¸¸ï¼Œæ–‡ä»¶å†…å®¹ï¼‰ fs.readFile('./index.txt', 'utf8', function (error, data) { console.log(error) // null console.log(data) // txt æ–‡ä»¶ä¸­çš„å†…å®¹ }) å†™å…¥æ–‡ä»¶å†…å®¹ å†™å…¥æ–‡ä»¶ä¾æ—§é€šè¿‡fsä¸‹çš„writeFileæ¥å®ç°ï¼Œä»£ç å¦‚ä¸‹ï¼š // å¼•å…¥fs æ¨¡å— var fs = require('fs') // æ–‡ä»¶è·¯å¾„ å†…å®¹ å›è°ƒå‡½æ•°ï¼ˆå¼‚å¸¸ï¼‰ fs.writeFile('./index.txt', 'hello lonjin', function (error) { !error &amp;&amp; console.log('å†™å…¥æˆåŠŸ') }) è¿½åŠ å†…å®¹ é€šè¿‡ä¸Šé¢å†…å®¹æˆ‘ä»¬å¯ä»¥å®Œæˆæ–‡ä»¶çš„è¯»å–ä¸å†™å…¥ï¼Œé‚£ä¹ˆè¿½åŠ å°±æ¯”è¾ƒç®€å•äº†ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š // å¼•å…¥fs æ¨¡å— var fs = require('fs') fs.readFile('./index.txt', 'utf8', function (error, data) { if (!error) { let newData = data + new Date() fs.writeFile('./index.txt', newData, function (error) { !error &amp;&amp; console.log('è¿½åŠ æˆåŠŸ') }) } }) æ¨¡å—åŒ–ç¼–ç¨‹çš„æ¦‚å¿µ å½“æˆ‘ä»¬åœ¨Node.jsä¸­å†™ä»£ç æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦ä½¿ç”¨ä¸åŒçš„æ¨¡å—æ¥å®Œæˆä¸åŒçš„ä»»åŠ¡ã€‚require('fs')å°±æ˜¯Node.jsä¸­çš„æ¨¡å—ç³»ç»Ÿï¼Œé€šè¿‡å®ƒæˆ‘ä»¬å¯ä»¥å¼•å…¥å…¶ä»–æ¨¡å—ï¼Œä¾‹å¦‚fsæ¨¡å—æ¥è¿›è¡Œæ–‡ä»¶æ“ä½œã€‚ ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦æ¨¡å—åŒ–å‘¢ï¼Ÿåœ¨JavaScriptä¸­ï¼Œå¦‚æœæˆ‘ä»¬æŠŠæ‰€æœ‰ä»£ç éƒ½å†™åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œé‚£ä¹ˆæ–‡ä»¶å°†å˜å¾—éå¸¸å¤§ä¸”éš¾ä»¥ç»´æŠ¤ã€‚åŒæ—¶ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦åœ¨å¤šä¸ªæ–‡ä»¶ä¸­é‡å¤ä½¿ç”¨æŸä¸ªåŠŸèƒ½ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦åœ¨æ¯ä¸ªæ–‡ä»¶ä¸­éƒ½å†™å…¥è¿™ä¸ªåŠŸèƒ½ï¼Œè¿™æ ·ä¼šå¯¼è‡´ä»£ç å†—ä½™å’Œç»´æŠ¤æˆæœ¬çš„å¢åŠ ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§èƒ½å¤Ÿæ‹†åˆ†ä»£ç ã€ç›¸äº’ç‹¬ç«‹ã€å¯¼å…¥å¯¼å‡ºçš„æ–¹å¼æ¥è¿›è¡Œæ¨¡å—åŒ–ç¼–ç¨‹ã€‚ åœ¨JavaScriptä¸­ï¼Œæœ‰å¤šç§æ¨¡å—åŒ–çš„æ¦‚å¿µï¼Œæ¯”å¦‚CommonJSã€AMDã€ES6ç­‰ã€‚Node.jsé‡‡ç”¨äº†CommonJSè§„èŒƒï¼Œå³é€šè¿‡require()æ¥å¼•å…¥æ¨¡å—ï¼Œé€šè¿‡module.exportsæ¥å¯¼å‡ºæ¨¡å—ã€‚åœ¨ES6ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨importå’Œexportæ¥è¿›è¡Œæ¨¡å—åŒ–ç¼–ç¨‹ã€‚è€ŒAMDåˆ™æ˜¯å¦å¤–ä¸€ç§æ¨¡å—åŒ–æ–¹æ¡ˆï¼Œå®ƒé‡‡ç”¨äº†å¼‚æ­¥æ¨¡å—å®šä¹‰ï¼Œé€‚åˆåœ¨æµè§ˆå™¨ç«¯è¿›è¡Œæ¨¡å—åŒ–ç¼–ç¨‹ã€‚ é€šä¿—ä¸€ç‚¹çš„è¯´ï¼Œæ¨¡å—åŒ–ç¼–ç¨‹å…¶å®å°±æ˜¯æ‹†åˆ†ä»£ç ã€ç›¸äº’ç‹¬ç«‹ã€å¯¼å…¥å¯¼å‡ºï¼›å¥½æ¯”é€ è½¦ï¼Œæ±½è½¦è½®èƒç®—ä¸€ä¸ªæ¨¡å—ï¼Œæ±½è½¦å¼•æ“ç®—ä¸€ä¸ªæ¨¡å—ã€æ±½è½¦è½¦ä½“ç®—ä¸€ä¸ªæ¨¡å—ï¼Œé€šè¿‡å„ä¸ªæ¨¡å—çš„ç»„è£…ï¼Œæœ€ç»ˆç”Ÿäº§å‡ºä¸€è¾†æ±½è½¦ã€‚JavaScriptä¸­çš„æ¨¡å—åŒ–çš„æ¦‚å¿µä¹Ÿæ˜¯è¿‘å‡ å¹´æ‰å‡ºç°çš„ï¼Œä¹‹å‰çš„jså¹¶æ²¡æœ‰æ¨¡å—åŒ–çš„æ¦‚å¿µã€‚ npmåŒ…ç®¡ç†å™¨ npmï¼ˆNode Package Managerï¼‰æ˜¯ Node.js çš„åŒ…ç®¡ç†å™¨ï¼Œç”¨äºç®¡ç†å’Œå…±äº« JavaScript ä»£ç ã€‚å®ƒæ˜¯ Node.js å®˜æ–¹æä¾›çš„é»˜è®¤åŒ…ç®¡ç†å·¥å…·ï¼Œç”¨äºå®‰è£…ã€å‘å¸ƒã€æ›´æ–°å’Œç®¡ç† JavaScript åŒ…å’Œä¾èµ–é¡¹ã€‚ ä½œç”¨ åŒ…ç®¡ç†ï¼šnpm å…è®¸å¼€å‘è€…åœ¨é¡¹ç›®ä¸­å®‰è£…ã€æ›´æ–°å’Œå¸è½½ä¾èµ–çš„ç¬¬ä¸‰æ–¹åŒ…æˆ–æ¨¡å—ï¼Œæä¾›äº†ä¸€ä¸ªæ–¹ä¾¿çš„æ–¹å¼æ¥ç®¡ç†é¡¹ç›®çš„ä¾èµ–å…³ç³»ã€‚ ä»£ç å…±äº«ï¼šå¼€å‘è€…å¯ä»¥é€šè¿‡ npm å‘å¸ƒè‡ªå·±ç¼–å†™çš„æ¨¡å—æˆ–åº”ç”¨ï¼Œå¹¶å°†å…¶å…±äº«ç»™å…¶ä»–å¼€å‘è€…ä½¿ç”¨ã€‚ ç‰ˆæœ¬æ§åˆ¶ï¼šnpm æä¾›äº†ä¸°å¯Œçš„ç‰ˆæœ¬ç®¡ç†åŠŸèƒ½ï¼Œå¼€å‘è€…å¯ä»¥æŒ‡å®šå®‰è£…ç‰¹å®šç‰ˆæœ¬çš„åŒ…ï¼Œä»¥ç¡®ä¿é¡¹ç›®çš„ç¨³å®šæ€§å’Œå…¼å®¹æ€§ã€‚ å¸¸ç”¨å‘½ä»¤ npm initï¼šåˆå§‹åŒ–ä¸€ä¸ªæ–°çš„é¡¹ç›®ï¼Œç”Ÿæˆ package.json æ–‡ä»¶ã€‚ npm installï¼šå®‰è£…é¡¹ç›®ä¾èµ–ï¼Œæ ¹æ® package.json ä¸­çš„é…ç½®è‡ªåŠ¨ä¸‹è½½å¹¶å®‰è£…ä¾èµ–ã€‚ npm install &lt;package&gt;ï¼šå®‰è£…æŒ‡å®šçš„åŒ…ã€‚ npm install --save-dev &lt;package&gt;ï¼šå®‰è£…å¼€å‘ç¯å¢ƒä¾èµ–ï¼Œä»…åœ¨å¼€å‘é˜¶æ®µä½¿ç”¨ã€‚ npm updateï¼šæ›´æ–°é¡¹ç›®ä¾èµ–çš„åŒ…åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚ npm uninstall &lt;package&gt;ï¼šå¸è½½æŒ‡å®šçš„åŒ…ã€‚ npm run &lt;script&gt;ï¼šè¿è¡Œé¡¹ç›®ä¸­å®šä¹‰çš„è„šæœ¬å‘½ä»¤ï¼Œå¯ä»¥åœ¨ package.json çš„ scripts éƒ¨åˆ†å®šä¹‰è‡ªå®šä¹‰å‘½ä»¤ã€‚ npm publishï¼šå°†è‡ªå·±ç¼–å†™çš„æ¨¡å—å‘å¸ƒåˆ° npm å…¬å…±æ³¨å†Œè¡¨ï¼Œä¾›å…¶ä»–äººä½¿ç”¨ã€‚ npm search ï¼šåœ¨ npm æ³¨å†Œè¡¨ä¸­æœç´¢æŒ‡å®šçš„åŒ…ã€‚ npm outdatedï¼šæ£€æŸ¥é¡¹ç›®ä¸­å·²å®‰è£…åŒ…çš„æ›´æ–°çŠ¶æ€ã€‚ è¿™åªæ˜¯ä¸€äº›å¸¸ç”¨çš„ npm å‘½ä»¤ï¼Œnpm è¿˜æä¾›äº†å…¶ä»–è®¸å¤šå‘½ä»¤å’ŒåŠŸèƒ½ï¼Œå¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚å‚è€ƒå®˜æ–¹æ–‡æ¡£æˆ–ä½¿ç”¨ npm help å‘½ä»¤è·å–æ›´å¤šä¿¡æ¯ã€‚ ç®¡ç†npmåŒ… æ–°å»ºä¸€ä¸ªtimeæ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹ä¸‹å»ºç«‹index.jsï¼Œä¸‹é¢æˆ‘ä»¬è¾“å‡ºä¸€ä¸ªå½“å‰æ—¥æœŸï¼š let time = Date.now() console.log(time) //1692708681030 å¦‚æœæˆ‘ä»¬æƒ³è¾“å‡ºä¸€ä¸ªå¹´-æœˆ-æ—¥ æ—¶ï¼šåˆ†ï¼šç§’çš„æ ¼å¼ï¼Œåˆ™å¯ä»¥åˆ©ç”¨npmä¸Šçš„åŒ…è¿›è¡Œå¤„ç†ï¼Œæ¯”å¦‚momentã€‚ å®‰è£…ï¼š npm i moment å¼•å…¥&amp;&amp;ä½¿ç”¨ï¼š const moment = require('moment') let time = Date.now() console.log(moment(time).format('YYYY-MM-DD HH:mm:ss')) //2023-08-22 20:51:21 è¿™å°±æ˜¯npmåŒ…æœ€ç®€å•çš„ä¸€ä¸ªä½¿ç”¨ã€‚ ","link":"https://lonjinup.github.io/node-01/"},{"title":"uni-appå¼€å‘å°ç¨‹åºï¼šé¡¹ç›®æ¶æ„ä»¥åŠç»éªŒåˆ†äº«","content":"uni-appå¼€å‘å°ç¨‹åºï¼šé¡¹ç›®æ¶æ„ä»¥åŠç»éªŒåˆ†äº« 2022å¹´çš„æ—¶å€™ï¼Œå…¬å¸ä¸ºäº†å¿«é€Ÿå®Œæˆäº§å“å¹¶ä¸Šçº¿ï¼Œæ‰€ä»¥é€‰ç”¨å¾®ä¿¡å°ç¨‹åºä¸ºè½½ä½“ï¼›ç”±äºåæœŸè¿˜æ˜¯æ‰“ç®—å¼€å‘Appï¼›è™½ç„¶å…¬å¸æœ‰ioså’ŒAndroidï¼Œä½†æ˜¯å¦‚æœèƒ½ä¸€å¥—ä»£ç æ‰“åŒ…å¤šç«¯ï¼Œä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥è§£å†³æˆæœ¬ã€‚å‰ç«¯æŠ€æœ¯æ ˆä¹Ÿæ˜¯vueï¼Œåœ¨è€ƒå¯Ÿé€‰æ‹©äº†uni-appã€‚åæ¥å¤šä¸ªå°ç¨‹åºé¡¹ç›®éƒ½é‡‡ç”¨äº†uni-appå¼€å‘ï¼Œç§¯ç´¯äº†ä¸€å®šçš„ç»éªŒä»¥åŠå°è£…äº†è¾ƒå¤šä¸šåŠ¡ç»„ä»¶ï¼Œè¿™é‡Œå°±åˆ†äº«ä¸€ä¸‹uni-appé¡¹ç›®çš„æ•´ä½“æ¶æ„ã€æ–¹æ³•å°è£…ç»„ä»¶åº“é€‰æ‹©ä»¥åŠæ³¨æ„äº‹é¡¹ã€‚å…¨æ–‡ä»£ç éƒ½ä¼šæ”¾åˆ°githubï¼Œå…ˆèµåçœ‹ï¼Œæœˆå…¥ç™¾ä¸‡ï¼ åˆ›å»ºé¡¹ç›® uni-appæä¾›äº†ä¸¤ç§åˆ›å»ºé¡¹ç›®çš„æ–¹å¼ï¼š 1.é€šè¿‡HBuilderXå¯è§†åŒ–å·¥å…·åˆ›å»º 2.é€šè¿‡vue-cliå‘½ä»¤åˆ›å»º âš ï¸éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸€å®šè¦æ ¹æ®é¡¹ç›®éœ€æ±‚æ¥é€‰æ‹©é¡¹ç›®çš„åˆ›å»ºæ–¹å¼ï¼›å¦‚æœåªæ˜¯å•ç‹¬çš„å¼€å‘å°ç¨‹åºæˆ–Appï¼Œä¸”å¼€å‘ç¯å¢ƒå•ä¸€ï¼Œå¯ä»¥ä½¿ç”¨HBuilderXå¯è§†åŒ–å·¥å…·åˆ›å»ºã€‚å¦‚æœå¤šç«¯å¼€å‘ï¼Œä»¥åŠåŒä¸€å¥—ä»£ç å¯èƒ½ä¼šæ‰“åŒ…ç”Ÿæˆå¤šä¸ªå°ç¨‹åºå»ºè®®ä½¿ç”¨vue-cliè¿›è¡Œåˆ›å»ºï¼Œä¸ç„¶åæœŸæƒ³æè‡ªåŠ¨åŒ–æ„å»ºä»¥åŠæŒ‰æŒ‡å®šæ¡ä»¶è¿›è¡Œç¼–è¯‘æ¯”è¾ƒç—›è‹¦ã€‚å…³äºæŒ‰æ¡ä»¶ç¼–è¯‘ï¼Œæ–‡ç« åé¢ä¼šæœ‰è¯¦ç»†è¯´æ˜ã€‚ ä½¿ç”¨vue-cliå®‰è£…å’Œè¿è¡Œï¼š 1.å…¨å±€å®‰è£… vue-cli npm install -g @vue/cli 2.åˆ›å»ºuni-app vue create -p dcloudio/uni-preset-vue é¡¹ç›®åç§° 3.è¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹ cd é¡¹ç›®åç§° 4.è¿è¡Œé¡¹ç›®ï¼Œå¦‚æœæ˜¯å·²å¾®ä¿¡å°ç¨‹åºä¸ºä¸»ï¼Œå¯ä»¥åœ¨package.jsonä¸­çš„å‘½ä»¤æ”¹ä¸ºï¼š &quot;scripts&quot;: { &quot;serve&quot;: &quot;npm run dev:mp-weixin&quot; } ç„¶åæ‰§è¡Œ npm run serve ä½¿ç”¨cliåˆ›å»ºé¡¹ç›®é»˜è®¤ä¸å¸¦cssé¢„ç¼–è¯‘ï¼Œéœ€è¦æ‰‹åŠ¨å®‰è£…ä¸€ä¸‹ï¼Œè¿™é‡Œå·²sassä¸ºä¾‹ï¼š npm i sass --save-dev npm i sass-loader --save-dev æ•´ä½“é¡¹ç›®æ¶æ„ é€šè¿‡HBuilderXæˆ–è€…vue-cliåˆ›å»ºçš„é¡¹ç›®ï¼Œç›®å½•ç»“æ„æœ‰ç¨è®¸ä¸åŒï¼Œä½†åŸºæœ¬æ²¡ä»€ä¹ˆå·®å¼‚ï¼Œè¿™é‡Œå°±æŒ‰vue-cliåˆ›å»ºçš„é¡¹ç›®ä¸ºä¾‹ï¼Œæ•´ä½“æ¶æ„é…ç½®å¦‚ä¸‹ï¼š â”œâ”€â”€dist ç¼–è¯‘åçš„æ–‡ä»¶è·¯å¾„ â”œâ”€â”€package.json é…ç½®é¡¹ â”œâ”€â”€src æ ¸å¿ƒå†…å®¹ â”œâ”€â”€api é¡¹ç›®æ¥å£ â”œâ”€â”€components å…¨å±€å…¬å…±ç»„ä»¶ â”œâ”€â”€config é¡¹ç›®é…ç½®æ–‡ä»¶ â”œâ”€â”€pages ä¸»åŒ… â”œâ”€â”€static å…¨å±€é™æ€èµ„æº â”œâ”€â”€store vuex â”œâ”€â”€mixins å…¨å±€æ··å…¥ â”œâ”€â”€utils å…¬å…±æ–¹æ³• â”œâ”€â”€App.vue åº”ç”¨é…ç½®ï¼Œé…ç½®Appå…¨å±€æ ·å¼ä»¥åŠç›‘å¬ â”œâ”€â”€main.js Vueåˆå§‹åŒ–å…¥å£æ–‡ä»¶ â”œâ”€â”€manifest.json é…ç½®åº”ç”¨åç§°ã€appidç­‰æ‰“åŒ…ä¿¡æ¯ â”œâ”€â”€pages.json é…ç½®é¡µé¢è·¯ç”±ã€å¯¼èˆªæ¡ã€é€‰é¡¹å¡ç­‰é¡µé¢ç±»ä¿¡æ¯ â””â”€â”€uni.scss å…¨å±€æ ·å¼ å°è£…æ–¹æ³• å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚åœ¨å¼€å‘ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸€äº›å…¨å±€é€šç”¨çš„æ–¹æ³•è¿›è¡Œå°è£…ï¼Œä»¥åŠæŠŠuni-appæä¾›çš„apiè¿›è¡ŒäºŒæ¬¡å°è£…ï¼Œæ–¹ä¾¿ä½¿ç”¨ã€‚å…¨å±€çš„å…¬å…±æ–¹æ³•æˆ‘ä»¬éƒ½ä¼šæ”¾åˆ°/src/utilsæ–‡ä»¶å¤¹ä¸‹ã€‚ å°è£…å¸¸ç”¨æ–¹æ³• ä¸‹é¢è¿™äº›æ–¹æ³•éƒ½æ”¾åœ¨/src/utils/utils.jsä¸­ï¼Œæ–‡ç« æœ«å°¾ä¼šæä¾›githubé“¾æ¥æ–¹ä¾¿æŸ¥çœ‹ã€‚å¦‚æœé¡¹ç›®è¾ƒå¤§ï¼Œå»ºè®®æŠŠæ–¹æ³•æ ¹æ®åŠŸèƒ½å®šä¹‰ä¸åŒçš„jsæ–‡ä»¶ã€‚ å°ç¨‹åºToastæç¤º /** * æç¤ºæ–¹æ³• * @param {String} title æç¤ºæ–‡å­— * @param {String} icon iconå›¾ç‰‡ * @param {Number} duration æç¤ºæ—¶é—´ */ export function toast(title, icon = 'none', duration = 1500) { if(title) { uni.showToast({ title, icon, duration }) } } ç¼“å­˜æ“ä½œï¼ˆè®¾ç½®/è·å–/åˆ é™¤/æ¸…ç©ºï¼‰ /** * ç¼“å­˜æ“ä½œ * @param {String} val */ export function setStorageSync(key, data) { uni.setStorageSync(key, data) } export function getStorageSync(key) { return uni.getStorageSync(key) } export function removeStorageSync(key) { return uni.removeStorageSync(key) } export function clearStorageSync() { return uni.clearStorageSync() } é¡µé¢è·³è½¬ /** * é¡µé¢è·³è½¬ * @param {'navigateTo' | 'redirectTo' | 'reLaunch' | 'switchTab' | 'navigateBack' | number } url è½¬è·³è·¯å¾„ * @param {String} params è·³è½¬æ—¶æºå¸¦çš„å‚æ•° * @param {String} type è½¬è·³æ–¹å¼ **/ export function useRouter(url, params = {}, type = 'navigateTo') { try { if (Object.keys(params).length) url = `${url}?data=${encodeURIComponent(JSON.stringify(params))}` if (type === 'navigateBack') { uni[type]({ delta: url }) } else { uni[type]({ url }) } } catch (error) { console.error(error) } } å›¾ç‰‡é¢„è§ˆ /** * é¢„è§ˆå›¾ç‰‡ * @param {Array} urls å›¾ç‰‡é“¾æ¥ */ export function previewImage(urls, itemList = ['å‘é€ç»™æœ‹å‹', 'ä¿å­˜å›¾ç‰‡', 'æ”¶è—']) { uni.previewImage({ urls, longPressActions: { itemList, fail: function (error) { console.error(error,'===previewImage') } } }) } å›¾ç‰‡ä¸‹è½½ /** * ä¿å­˜å›¾ç‰‡åˆ°æœ¬åœ° * @param {String} filePath å›¾ç‰‡ä¸´æ—¶è·¯å¾„ **/ export function saveImage(filePath) { if (!filePath) return false uni.saveImageToPhotosAlbum({ filePath, success: (res) =&gt; { toast('å›¾ç‰‡ä¿å­˜æˆåŠŸ', 'success') }, fail: (err) =&gt; { if (err.errMsg === 'saveImageToPhotosAlbum:fail:auth denied' || err.errMsg === 'saveImageToPhotosAlbum:fail auth deny') { uni.showModal({ title: 'æç¤º', content: 'éœ€è¦æ‚¨æˆæƒä¿å­˜ç›¸å†Œ', showCancel: false, success: (modalSuccess) =&gt; { uni.openSetting({ success(settingdata) { if (settingdata.authSetting['scope.writePhotosAlbum']) { uni.showModal({ title: 'æç¤º', content: 'è·å–æƒé™æˆåŠŸ,å†æ¬¡ç‚¹å‡»å›¾ç‰‡å³å¯ä¿å­˜', showCancel: false }) } else { uni.showModal({ title: 'æç¤º', content: 'è·å–æƒé™å¤±è´¥ï¼Œå°†æ— æ³•ä¿å­˜åˆ°ç›¸å†Œå“¦~', showCancel: false }) } }, fail(failData) { console.log('failData', failData) } }) } }) } } }) } æ›´å¤šå‡½æ•°å°±ä¸åœ¨æ–‡ç« ä¸­å±•ç¤ºäº†ï¼Œå·²ç»æ”¾åˆ°/src/utils/utils,jsé‡Œé¢ï¼Œå…·ä½“å¯ä»¥åˆ°githubæŸ¥çœ‹ã€‚ è¯·æ±‚å°è£… ä¸ºäº†å‡å°‘åœ¨é¡µé¢ä¸­çš„è¯·æ±‚ä»£ç ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å¯¹uni-appæä¾›çš„è¯·æ±‚æ–¹å¼è¿›è¡ŒäºŒæ¬¡å°è£…ï¼Œåœ¨/src/utilsæ–‡ä»¶å¤¹ä¸‹å»ºç«‹request.jsï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š import {toast, clearStorageSync, getStorageSync, useRouter} from './utils' import {BASE_URL} from '@/config/index' const baseRequest = async (url, method, data, loading = true) =&gt;{ header.token = getStorageSync('token') || '' return new Promise((reslove, reject) =&gt; { loading &amp;&amp; uni.showLoading({title: 'loading'}) uni.request({ url: BASE_URL + url, method: method || 'GET', header: header, timeout: 10000, data: data || {}, success: (successData) =&gt; { const res = successData.data uni.hideLoading() if(successData.statusCode == 200){ // è¿™é‡Œæ ¹æ®è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘å»è°ƒæ•´ if(res.resultCode == 'PA-G998'){ clearStorageSync() useRouter('/pages/login/index', 'reLaunch') }else{ reslove(res.data) } }else{ toast('ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•') reject(res) } }, fail: (msg) =&gt; { uni.hideLoading() toast('ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•') reject(msg) } }) }) } const request = {}; ['options', 'get', 'post', 'put', 'head', 'delete', 'trace', 'connect'].forEach((method) =&gt; { request[method] = (api, data, loading) =&gt; baseRequest(api, method, data, loading) }) export default request è¯·æ±‚å°è£…å¥½ä»¥åï¼Œæˆ‘ä»¬åœ¨/src/apiæ–‡ä»¶å¤¹ä¸‹æŒ‰ä¸šåŠ¡æ¨¡å—å»ºç«‹å¯¹åº”çš„apiæ–‡ä»¶ï¼Œæ‹¿è·å–ç”¨æˆ·ä¿¡æ¯æ¥å£ä¸¾ä¾‹å­ï¼š åœ¨/src/apiæ–‡ä»¶å¤¹ä¸‹å»ºç«‹user.jsï¼Œç„¶åå¼•å…¥request.js import request from '@/utils/request' //ä¸ªäººä¿¡æ¯ export const info = data =&gt; request.post('/v1/api/info', data) åœ¨é¡µé¢ä¸­ç›´æ¥ä½¿ç”¨ï¼š import {info} from '@/api/user.js' export default { methods: { async getUserinfo() { let info = await info() console.log('ç”¨æˆ·ä¿¡æ¯==', info) } } } è‡ªå®šä¹‰tabBar å†™uni-appæˆ–è€…å°ç¨‹åºåŸºæœ¬é¿ä¸å¼€è¿™ä¸ªè¯é¢˜äº†ï¼Œå¾ˆå¤šæƒ…å†µä¸‹ï¼Œå®˜æ–¹æä¾›çš„tabBaræ–¹æ¡ˆå¹¶ä¸èƒ½æ»¡è¶³äº§å“éœ€æ±‚/uiè¦æ±‚ï¼Œå®˜æ–¹ä¹Ÿæä¾›äº†è‡ªå®šä¹‰tabBarçš„æ–¹æ¡ˆï¼Œä½†æ­¤æ–¹æ¡ˆæœ‰å¾ˆå¤šå¼Šç«¯ï¼Œæ¯”å¦‚ï¼šåˆ‡æ¢æ—¶å€™ä¼štabBarä¼šæœ‰æ˜æ˜¾çš„é—ªåŠ¨ã€‚å¯ä»¥å‚è€ƒä¹‹å‰å†™çš„æ–‡ç« å°ç¨‹åºè‡ªå®šä¹‰TabBar å¦‚ä½•å®ç°â€œkeep-aliveâ€ï¼Œæ–‡ç« ä¸­æ˜¯åŸç”Ÿå°ç¨‹åºï¼Œä½†æ€è·¯åœ¨uni-appä¸­åŒæ ·é€‚ç”¨ï¼Œå¦‚æœæ„Ÿå…´è¶£ï¼Œå¯ä»¥è¯„è®ºåŒºæé—®ã€‚ ç‰ˆæœ¬åˆ‡æ¢ å¾ˆå¤šåœºæ™¯ä¸‹ï¼Œéœ€è¦æ ¹æ®ä¸åŒçš„ç¯å¢ƒå»åˆ‡æ¢ä¸åŒçš„è¯·æ±‚åŸŸåã€APPIDç­‰å­—æ®µï¼Œè¿™æ—¶å€™å°±éœ€è¦é€šè¿‡ç¯å¢ƒå˜é‡æ¥è¿›è¡ŒåŒºåˆ†ã€‚ä¸‹é¢æ¡ˆä¾‹æˆ‘ä»¬å°±åˆ†ä¸ºä¸‰ä¸ªç¯å¢ƒï¼šå¼€å‘ç¯å¢ƒ(dev)ã€æµ‹è¯•ç¯å¢ƒ(test)ã€ç”Ÿäº§ç¯å¢ƒ(prod)ã€‚ å»ºç«‹envæ–‡ä»¶ åœ¨é¡¹ç›®æ ¹ç›®å½•å»ºç«‹ä¸‹é¢ä¸‰ä¸ªæ–‡ä»¶å¹¶å†™å…¥å†…å®¹(å¸¸é‡åè¦ä»¥VUEå¼€å¤´å‘½å)ï¼š .env.dev(å¼€å‘ç¯å¢ƒ) VUE_APP_MODE=build VUE_APP_ID=wxbb53ae105735a06b VUE_APP_BASE=https://www.baidu.dev.com .env.test(æµ‹è¯•ç¯å¢ƒ) VUE_APP_MODE=build VUE_APP_ID=wxbb53ae105735a06c VUE_APP_BASE=https://www.baidu.test.com .env.prod(ç”Ÿäº§ç¯å¢ƒ) VUE_APP_MODE=wxbb53ae105735a06d VUE_APP_ID=prod VUE_APP_BASE=https://www.baidu.prod.com ä¿®æ”¹package.jsonæ–‡ä»¶ &quot;scripts&quot;: { &quot;dev:mp-weixin&quot;: &quot;cross-env UNI_PLATFORM=mp-weixin vue-cli-service uni-build --watch --mode dev&quot;, &quot;build:mp-weixin&quot;: &quot;cross-env UNI_PLATFORM=mp-weixin vue-cli-service uni-build --watch --mode prod&quot; }, ç„¶åæ‰§è¡Œ npm run dev:mp-weixin åœ¨/src/pages/index/index.vueä¸‹ï¼Œæ‰“å°ï¼š onLoad() { console.log(process.env.VUE_APP_MODE, '====VUE_APP_BASE') console.log(process.env.VUE_APP_BASE, '====VUE_APP_BASE') }, æ­¤æ—¶è¾“å‡ºç»“æœå°±æ˜¯ dev ====VUE_APP_BASE https://www.baidu.dev.com ====VUE_APP_BASE åŠ¨æ€ä¿®æ”¹appid å¦‚æœåŒä¸€å¥—ä»£ç ï¼Œéœ€è¦æ‰“åŒ…ç”Ÿæˆå¤šä¸ªå°ç¨‹åºï¼Œå°±éœ€è¦åŠ¨æ€ä¿®æ”¹appidäº†ï¼›æ–‡ç« å¼€å¤´è¯´è¿‡appidåœ¨/src/manifest.jsonæ–‡ä»¶ä¸­é…ç½®ï¼Œä½†jsonæ–‡ä»¶åˆä¸èƒ½ç›´æ¥å†™å˜é‡ï¼Œè¿™æ—¶å€™å°±å¯ä»¥å‚è€ƒå®˜æ–¹ æå‡ºçš„è§£å†³æ–¹æ¡ˆï¼šå»ºç«‹vue.config.jsæ–‡ä»¶ï¼Œå…·ä½“æ“ä½œå¦‚ä¸‹ã€‚ åœ¨æ ¹ç›®å½•ä¸‹å»ºç«‹vue.config.jsæ–‡ä»¶å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š // è¯»å– manifest.json ï¼Œä¿®æ”¹åé‡æ–°å†™å…¥ const fs = require('fs') const manifestPath = './src/manifest.json' let Manifest = fs.readFileSync(manifestPath, { encoding: 'utf-8' }) function replaceManifest(path, value) { const arr = path.split('.') const len = arr.length const lastItem = arr[len - 1] let i = 0 let ManifestArr = Manifest.split(/\\n/) for (let index = 0; index &lt; ManifestArr.length; index++) { const item = ManifestArr[index] if (new RegExp(`&quot;${arr[i]}&quot;`).test(item)) ++i if (i === len) { const hasComma = /,/.test(item) ManifestArr[index] = item.replace( new RegExp(`&quot;${lastItem}&quot;[\\\\s\\\\S]*:[\\\\s\\\\S]*`), `&quot;${lastItem}&quot;: ${value}${hasComma ? ',' : ''}` ) break } } Manifest = ManifestArr.join('\\n') } // è¯»å–ç¯å¢ƒå˜é‡å†…å®¹ replaceManifest('mp-weixin.appid', `&quot;${process.env.VUE_APP_ID}&quot;`) fs.writeFileSync(manifestPath, Manifest, { flag: 'w' }) å¦‚æœæ˜¯é€šè¿‡HBuilderXå¯è§†åŒ–å·¥å…·åˆ›å»ºçš„é¡¹ç›®ï¼Œåˆ™æ— æ³•å»è‡ªåŠ¨æ ¹æ®ç¯å¢ƒå»ä¿®æ”¹appidï¼Œåªèƒ½å»æ‰‹åŠ¨ä¿®æ”¹ã€‚ ç»„ä»¶åº“ uni-appæœ€å—æ¬¢è¿çš„å¯èƒ½å°±æ˜¯æ’ä»¶å¸‚åœºäº†ï¼Œæ’ä»¶å¸‚åœºæä¾›äº†å¾ˆå¤šä¼˜ç§€çš„æ’ä»¶/ç»„ä»¶åº“ä¾›æˆ‘ä»¬é€‰æ‹©ï¼Œæ¯”è¾ƒç«çš„å°±æ˜¯è‡ªå®¶çš„uni-uiä»¥åŠuView UIï¼Œå¤§éƒ¨åˆ†ç»„ä»¶è¿˜æ˜¯æ¯”è¾ƒå¥½ç”¨çš„ï¼Œå¦‚æœåšä¸­å¤§å‹é¡¹ç›®ä»¥åŠUIè¦æ±‚è¾ƒé«˜çš„æƒ…å†µä¸‹ï¼Œè¿˜æ˜¯æ¯”è¾ƒæ¨èè‡ªå·±æ­ä¸€å¥—ç»„ä»¶åº“ï¼Œæ–¹ä¾¿æ‰©å±•ä»¥åŠç»´æŠ¤ã€‚ ç»“å°¾ å…³äºuni-appé¡¹ç›®çš„èµ·æ­¥å·¥ä½œå°±åˆ°è¿™é‡Œäº†ï¼Œåé¢æœ‰æœºä¼šå†™ä¸€å¥—å®Œæ•´çš„uniæ­å»ºç”µå•†å°ç¨‹åºé¡¹ç›®ï¼Œè®°å¾—å…³æ³¨ã€‚ä»£ç å·²ç»æäº¤åˆ°githubï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©ï¼Œè®°å¾—ç‚¹ä¸ªstar! ","link":"https://lonjinup.github.io/uni-app-template-01/"},{"title":"ä¼˜ç§€æŠ€æœ¯åšå®¢çš„æŒç»­åˆ›ä½œæŠ€å·§","content":"å¦‚ä½•å†™ä½œï¼Ÿå¦‚ä½•æŒç»­æ€§åˆ›ä½œ æœ€è¿‘çœ‹äº†å¼ é‘«æ—­å¤§ä½¬å†™çš„ã€ŠæŠ€æœ¯å†™ä½œæŒ‡å—ã€‹ï¼›åœ¨è¿™é‡Œæ€»ç»“ä¸€ä¸‹ï¼Œé¡ºä¾¿èŠä¸€èŠå†™åšå®¢è¿™ä¸ªè¯é¢˜ã€‚ ä¸ºä»€ä¹ˆè¦å†™ å…³äºä¸ºä»€ä¹ˆè¦å†™åšå®¢ï¼Œæ¯ä¸ªäººéƒ½æœ‰ä¸åŒçš„ç­”æ¡ˆï¼›æœ‰çš„äººå¯èƒ½æ˜¯ä¸ºäº†è®°å½•ä¸€ä¸‹å­¦ä¹ æ€»ç»“ï¼Œæœ‰çš„äººå¯èƒ½æ˜¯å¸Œæœ›è‡ªå·±çš„æ–‡ç« å¯ä»¥ç»™åˆ«äººå¸¦æ¥ä¸€å®šçš„å¸®åŠ©ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ä¸ºäº†è·å¾—ä¸€å®šçš„çŸ¥ååº¦ï¼Œå‘å±•è‡ªåª’ä½“ã€‚ æˆ‘ä¸ºä»€ä¹ˆè¦å†™åšå®¢å‘¢ï¼Ÿè¿™å¾—ä»åˆšå…¥è¡Œè¯´èµ·äº†ã€‚åˆšå…¥è¡Œçš„å‰ä¸¤å¹´æ„Ÿè§‰éå¸¸è¿·èŒ«ï¼Œå‘†çš„å…¬å¸æŠ€æœ¯è€æ—§ï¼Œåªèƒ½åœ¨ä¸‹ç­æ—¶é—´å»è‡ªå·±å­¦ä¹ ï¼Œé‚£æ—¶å€™åŸºæœ¬éƒ½æ˜¯çœ‹åˆ«äººçš„è§†é¢‘è¯¾ç¨‹ï¼›å­¦ä¹ è¿‡ç¨‹ä¸­è®°å½•ç¬”è®°æ˜¯éå¸¸æœ‰å¿…è¦çš„ã€‚å†åæ¥æ¥è§¦äº†æ˜é‡‘ï¼Œå‘ç°äº†å¾ˆå¤šä¼˜è´¨æ–‡ç« ï¼Œæ‰€ä»¥å†™åšå®¢çš„å¿µå¤´æ„ˆæ¼”æ„ˆçƒˆã€‚æ‰€ä»¥å°±åœ¨ç½‘ä¸Šç®€å•çš„æ­å»ºäº†ä¸€ä¸ªåšå®¢ã€‚ å¦‚ä½•å®šæ ‡é¢˜ è™½ç„¶å¸¸è¯´å†…å®¹ä¸ºç‹ï¼Œä½†æ˜¯å¥½çš„æ ‡é¢˜èƒ½è®©ä½ çš„æ–‡ç« æœ‰æ›´å¤šçš„ç‚¹å‡»ç‡ï¼Œå¦‚æœæ ‡é¢˜ä¸å¸å¼•äººï¼Œé‚£ä¹ˆè¯»è€…å¯èƒ½éƒ½ä¸ä¼šç‚¹è¿›è¯¦æƒ…å»çœ‹ã€‚æˆ‘æƒ³å¾ˆå¤šäººèµ·æ ‡é¢˜æ—¶å€™éƒ½ä¼šå¤´ç–¼ï¼Œè¿™ä¸ªé—®é¢˜ä¹Ÿç»å¸¸å›°æ‰°ç€æˆ‘ï¼Œå¦‚ä½•èƒ½è®©æ ‡é¢˜æ›´æœ‰å¸å¼•åŠ›ã€‚ä¸‹é¢åˆ†äº«ä¸€ä¸‹æˆ‘èµ·æ ‡é¢˜çš„ä¸€äº›ç»éªŒå’Œæ–¹æ³•ã€‚ æ ‡é¢˜ä¸æ–‡ç« å…³è” é¦–å…ˆæˆ‘å¾ˆè®¨åŒæ ‡é¢˜å…šï¼Œæ ‡é¢˜ä¸ºæ·±å…¥äº†è§£xxxxï¼Œç»“æœè¿›å»æŸ¥çœ‹æ–‡ç« æ²¡æœ‰ä¸€ç‚¹æ·±åº¦ï¼Œè¿™æ ·çš„æ–‡ç« å¾ˆè®©äººè®¨åŒï¼Œæ‰€ä»¥æˆ‘å»ºè®®æ–‡ç« æ ‡é¢˜æœ€èµ·ç è¦ç¬¦åˆå†…å®¹ã€‚åŒæ—¶æ ‡é¢˜å†…å°½é‡åŒ…å«æ•´ç¯‡æ–‡ç« çš„å…³é”®å­—ï¼Œè¿™æ ·ä¾¿äºæœç´¢å¼•æ“æŠ“å–ï¼ŒåŒæ—¶ä¹Ÿè€ƒè™‘ç”¨æˆ·æœç´¢ä¹ æƒ¯ã€‚ä¸‹é¢ç”¨æˆ‘ä¹‹å‰å†™çš„ä¸€ç¯‡æ–‡ç« å°ç¨‹åºå®ç°TabBaråˆ›æ„åŠ¨ç”»(æ–‡æœ«é™„å®Œæ•´æºä»£ç )æ¥ä¸¾ä¾‹å­ã€‚ å…ˆè§£æä¸€ä¸‹æ ‡é¢˜å…³é”®è¯ï¼šå°ç¨‹åºã€TabBarã€åˆ›æ„åŠ¨ç”»ã€é™„å®Œæ•´æºä»£ç ï¼Œè¿™ä¸ªæ ‡é¢˜åŸºæœ¬ä¸Šæ¶µç›–äº†æˆ‘ä¸Šé¢è®²çš„è¦é¢†ï¼Œè€Œä¸”å¾ˆç¬¦åˆç”¨æˆ·çš„æœç´¢ä¹ æƒ¯ï¼Œç”¨æˆ·æœç´¢å°ç¨‹åºTabBaråŠ¨ç”»ã€å°ç¨‹åºTabBaræŠ€å·§ç­‰åŸºæœ¬éƒ½å¯ä»¥æ˜¾ç¤ºåœ¨ç¬¬ä¸€ä½ã€‚ é€‚å½“æ€§çš„ä¿®é¥° å¦‚æœå‘å¸ƒåœ¨ç¬¬ä¸‰æ–¹å¹³å°ï¼Œæœ‰æ—¶å€™æ ‡é¢˜èµ·çš„å¤ªè¿‡æ­»æ¿ç‚¹å‡»ç‡å°‘çš„å¯æ€œï¼›åœ¨æ˜é‡‘ä¸Šçœ‹è¿‡ä¸å°‘ä¼˜ç§€çš„æ ‡é¢˜ï¼Œæœ¬äººè¿™æ–¹é¢ç»éªŒä¹Ÿä¸æ˜¯å¾ˆå¤šï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹æ˜é‡‘2022æ¦œå•ï¼š æ€»ç»“ä¸€ä¸‹ï¼šè¿™äº›æ ‡é¢˜è¦ä¹ˆæ˜¯ç–‘é—®å¥ï¼Ÿå¼•èµ·è¯»è€…çš„å¥½å¥‡å¿ƒï¼›è¦ä¹ˆå°±æ˜¯äº‹ä»¶çš„èµ·å› +è§£å†³æ–¹æ¡ˆ+ç»“æœã€‚ ä½¿ç”¨é»‘ç§‘æŠ€ å‰æ®µæ—¶é—´å¤§ç«çš„openaiä¸å°±å¯ä»¥æ´¾ä¸Šç”¨åœºäº†å—ï¼Ÿä¸‹é¢è¯•ä¸€ä¸‹æ•ˆæœï¼š ä¼˜åŒ–è¿‡çš„æ ‡é¢˜ï¼ŒåŸºæœ¬ä¸Šæ¯”æˆ‘ä¹‹å‰èµ·çš„æ ‡é¢˜è¦å¥½ä¸€äº›ï¼Œå†è‡ªå·±ä¿®æ”¹ä¿®æ”¹å°±å¯ä»¥ç›´æ¥ç”¨äº†ã€‚ å†™ä½œæ¡†æ¶ ä¸€ç¯‡å¥½æ–‡ç« ä¸€å®šå…·å¤‡ä»¥ä¸‹ç‰¹å¾ï¼š 1.æ–‡ç« è¿è´¯ï¼Œå‰åå‘¼åº”ï¼Œåœ¨æ•´ç¯‡æ–‡ç« ä¸­ï¼Œæ¯æ®µæ–‡å­—æœ€å¥½æœ‰ä¸€å®šçš„è¿è´¯æ€§ï¼Œä¹Ÿå°±æ˜¯å°æ—¶å€™å†™ä½œæ–‡è€å¸ˆç»å¸¸æåˆ°çš„æ‰¿ä¸Šå¯ä¸‹ã€‚ 2.çªå‡ºé‡ç‚¹ï¼Œåœ¨å†™æ–‡ç« æ—¶å€™ä¸€å®šä¸è¦å¿˜äº†æ ¸å¿ƒä¸»é¢˜ï¼Œåˆ‡è®°ä¸è¦è„±ç¦»æ–‡ç« ä¸»é¢˜ã€‚æ‰€ä»¥åœ¨å†™æ–‡ç« ä¹‹å‰ï¼Œå¯ä»¥ç»™è‡ªå·±åˆ—ä¸€ä¸ªå¤§çº²ï¼Œé¿å…å†™ç€å†™ç€è·‘é¢˜äº†ã€‚ å…·ä½“çš„å†™ä½œå¥—è·¯ ä¸‹é¢ç½—åˆ—äº†ä¸åŒç±»å‹æ–‡ç« çš„å†™ä½œæ¡†æ¶ï¼Œå¤§å®¶å†™æ–‡ç« æ—¶å€™å¯ä»¥å‚è€ƒä¸€ä¸‹ï¼š 1.æŠ€æœ¯ç§‘æ™® 2.åŸç†å‰–æ 3.åŠŸèƒ½å®ç° 4.ä½¿ç”¨æ•™ç¨‹ 5.é—®é¢˜è§£å†³ å¦‚ä½•åšæŒ è¯´å®è¯ï¼ŒåšæŒä¸€ä¸ªäº‹æƒ…æ˜¯éå¸¸éš¾çš„ï¼Œå°¤å…¶æ˜¯å†™ä½œè¿™ç§äº‹æƒ…ã€‚å› ä¸ºå†™ä½œç»™ä½œè€…å¸¦æ¥çš„æ±‡æŠ¥/åé¦ˆçŸ­æœŸå†…è¡¨ç°ä¸å‡ºæ¥ï¼Œä¸€æ—¦æ²¡æœ‰ç»“æœåé¦ˆï¼Œæ…¢æ…¢å°±ä¼šå¤±å»å…´è¶£ã€‚æ¯”å¦‚æ¸¸æˆï¼›åœ¨æˆ‘ä»¬ç©æ¸¸æˆæ—¶å€™ä¸ºä»€ä¹ˆèƒ½å¤Ÿé‚£ä¹ˆä¸Šç˜¾å‘¢ï¼Ÿå› ä¸ºçŸ­æœŸå†…çš„ä»˜å‡ºéƒ½ä¼šå¸¦æ¥ä¸€å®šçš„ç»“æœåé¦ˆã€‚æ—¢ç„¶æˆ‘ä»¬å¯ä»¥ä¹æ­¤ä¸ç–²çš„ç©æ¸¸æˆã€åˆ·è§†é¢‘ã€è¿½å‰§ï¼Œé‚£ä¹ˆæˆ‘ç›¸ä¿¡ä¹Ÿå¯ä»¥è¿›è¡ŒåšæŒå†™ä½œã€‚ å…³äºè¿™æ–¹é¢çš„ç»éªŒï¼Œæœ¬äººä¹Ÿä¸æ˜¯å¾ˆå¤šï¼›ä»Šå¹´ä¹Ÿæ²¡å†™å‡ ç¯‡æ–‡ç« ã€‚ä¸è¿‡è¿˜æ˜¯åœ¨2023å¹´æ‰“ç®—åšæŒä¸€ä¸‹å†™ä½œã€‚è¿™é‡Œæˆ‘æ€»ç»“äº†ä¸€ä¸‹å¼ é‘«æ—­å¤§ä½¬æä¾›çš„æ–¹æ³•ï¼š å¤šå¤šå¥–åŠ±è‡ªå·±ï¼Œæ¯å†™å®Œä¸€ç¯‡æ–‡ç« ï¼Œéƒ½è¦ç»™è‡ªå·±ä¸€äº›å¥–åŠ±ï¼Œæ¯”æ–¹è¯´å¥–åŠ±è‡ªå·±ç©ä¸€ç›˜æ¸¸æˆ å­¦ä¼šä»»åŠ¡åˆ†è§£ï¼Œæ¯”å¦‚æ¯å¤©ååœ°é“ä¸Šç­æ—¶å€™å…ˆç½—åˆ—ä¸€ä¸‹æ–‡ç« é€‰é¢˜/æ¡†æ¶ï¼Œåœ¨å…¬å¸æ‘¸é±¼æ—¶å€™å¯ä»¥æœé›†ä¸€ä¸‹ç›¸å…³èµ„æ–™ï¼Œä¸‹ç­åƒå®Œé¥­å†ä¸€æ°”å‘µæˆã€‚ æ•¢äºæ”¾çºµè‡ªå·±ï¼Œå¦‚æœå¹³æ—¶å·¥ä½œæˆ–è€…åŠ ç­å¤ªå¿™ï¼Œç¡®å®æ²¡æœ‰æ—¶é—´ï¼›ä¹Ÿä¸å¿…å‹‰å¼ºè‡ªå·±ï¼Œè¯¥æ”¾æ¾çš„æ—¶å€™å°±æ”¾æ¾ã€‚ æ€»ç»“ å†™æŠ€æœ¯ç±»åšå®¢ï¼Œå½“æ—¶å¯èƒ½ä¸ä¼šæœ‰ä»€ä¹ˆæŠ€æœ¯åé¦ˆï¼Œä½†æ˜¯åªè¦ä½ èƒ½åšæŒ1å‘¨ä¸€ç¯‡çš„ç¨³å®šæ›´æ–°ï¼Œ2å¹´å†…ç»å¯¹å¯ä»¥è¶…è¿‡ç»å¤§å¤šæ•°äººã€‚è€Œä¸”ä½ çš„åšå®¢æœ‰ä¸€å®šçš„æ›å…‰ï¼Œä¹Ÿå¯èƒ½ä¼šç»™ä½ å¸¦æ¥ä¸€äº›ä¸é”™çš„å·¥ä½œæœºä¼šã€‚ä¸ç®¡å‡ºäºä»€ä¹ˆåŸå› ï¼Œå¸Œæœ›å„ä½å¯ä»¥åšæŒè¾“å‡ºï¼ŒåŠ æ²¹å§ï¼ ","link":"https://lonjinup.github.io/blogstudy/"},{"title":"vuepressè‡ªåŠ¨åŒ–éƒ¨ç½²åˆ°github","content":"vuepressè‡ªåŠ¨åŒ–éƒ¨ç½²github æœ€è¿‘æ‰“ç®—æŠŠä¸€äº›é¡¹ç›®ä¸­å¸¸ç”¨çš„å‡½æ•°æ–¹æ³•ç»Ÿä¸€å°è£…ä¸€ä¸‹ï¼ŒåŒæ—¶å‘å¸ƒåˆ°npmï¼Œä»¥ä¾¿äºé¡¹ç›®ä¸­ä½¿ç”¨ã€‚vuepressä½¿ç”¨ä¸Šç›¸å¯¹ç®€å•ï¼Œå°±ä¸åšè¿‡å¤šçš„æ¼”ç¤ºäº†ï¼Œè¿™é‡Œä¸»è¦è®²è§£ä¸€ä¸‹å¦‚ä½•è‡ªåŠ¨åŒ–éƒ¨ç½²åˆ°github,ç”Ÿæˆé¢„è§ˆåœ°å€ã€‚ ç”ŸæˆTOKEN ç™»å½•githubï¼Œç‚¹å‡»å³ä¾§å¤´åƒ,ç‚¹å‡»Settings å·¦ä¾§èœå•ä¸‹æ‰¾åˆ° Developer settingsï¼Œç‚¹å‡»è¿›å…¥ åœ¨ Personal access tokens åˆ†ç±»ä¸‹æ‰¾åˆ° Tokens (classic)ï¼Œç‚¹å‡»è¿›å…¥ ç‚¹å‡» Generate new token æŒ‰é’®ï¼Œç‚¹å‡» Generate new token (classic) è®¾ç½® tokenåç§°ä¸º ACCESS_TOKENï¼ŒæŠŠç”Ÿæˆçš„tokenå¤åˆ¶ä¸€ä¸‹ è®¾ç½®TOKEN è¿›è¯¥é¡¹ç›®çš„ä»“åº“ä¸­ï¼Œç‚¹å‡»settings ç‚¹å‡»å·¦ä¾§ Secrets ç‚¹å‡»å³ä¾§æŒ‰é’® new repository secret åˆ›å»ºçš„åå­—å’Œ .yml ä¸­çš„ secret.xxx è¦å¯¹åº”ï¼Œå€¼å°±å†™åˆšåˆšç”Ÿæˆçš„ Github å¯†é’¥ åˆ›å»ºé…ç½®æ–‡ä»¶ åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶ .github/workflows/jekyll-gh-pages.yml æ·»åŠ é…ç½® # action çš„åç§° name: Deploy GitHub Pages # è§¦å‘æ¡ä»¶ï¼šåœ¨ push åˆ° master åˆ†æ”¯å on: push: branches: - master # ä»»åŠ¡ jobs: build-and-deploy: # æœåŠ¡å™¨ç¯å¢ƒï¼šæœ€æ–°ç‰ˆ Ubuntu runs-on: ubuntu-latest steps: # æ‹‰å–ä»£ç  - name: Checkout uses: actions/checkout@v2 with: persist-credentials: false # ç”Ÿæˆé™æ€æ–‡ä»¶ - name: Build run: npm install &amp;&amp; npm run docs:build # éƒ¨ç½²åˆ° GitHub Pages - name: Deploy # ä½¿ç”¨åˆ«äººå†™å¥½çš„ä¸€ä¸ª action uses: JamesIves/github-pages-deploy-action@releases/v3 with: # è¿™é‡Œçš„ ACCESS_TOKEN åå­—éœ€è¦å’Œä¸‹æ–‡ä¸­çš„ç›¸å¯¹åº” ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }} # æ‰“åŒ…åçš„æ–‡ä»¶éƒ¨ç½²åˆ°å“ªä¸ªåˆ†æ”¯ä¸Š BRANCH: gh-pages # æ‰“åŒ…åçš„æ–‡ä»¶åœ¨å“ªé‡Œ FOLDER: docs/.vuepress/dist è®¾ç½®GitHub Pages è¿›è¯¥é¡¹ç›®çš„ä»“åº“ä¸­ï¼Œç‚¹å‡»settings ç‚¹å‡»é¡¹ç›®å·¦ä¾§çš„Pages æ‰¾åˆ°Build and deploymentè¿™ä¸€é¡¹ï¼ŒSourceé€‰æ‹©Deploy from a branch Branché€‰æ‹©gh-pages /(root)ç„¶åä¿å­˜å³å¯ ç»“å°¾ åˆ°è¿™é‡Œå°±å·²ç»é…ç½®ç»“æŸäº†ï¼Œåªè¦masteråˆ†æ”¯æœ‰å˜åŒ–ï¼Œå°±ä¼šè‡ªåŠ¨åŒ–æ‰§è¡Œä¸€æ¬¡ï¼Œç”Ÿæˆæ–°çš„æ–‡æ¡£ã€‚ ","link":"https://lonjinup.github.io/vuepress-setting/"},{"title":"vueRouterå®ç°åŸç†","content":"vueRouter å®ç°åŸç† å‰ç½®çŸ¥è¯† æƒ³äº†è§£vueRouterï¼Œéœ€è¦å…ˆäº†è§£vueä¸­çš„æ’ä»¶ã€æ··å…¥ã€Vue.observableã€æ’æ§½ã€renderå‡½æ•°ã€è¿è¡Œæ—¶å’Œå®Œæ•´ç‰ˆVueçš„æ¦‚å¿µï¼Œå¦‚æœæ²¡æœ‰äº†è§£ï¼Œå¯ä»¥å…ˆåœ¨å®˜ç½‘å¤ä¹ ä¸€æ³¢ã€‚ vueRouterä¸¤ç§æ¨¡å¼ æ€»æ‰€å‘¨çŸ¥ï¼ŒvueRouteråˆ†ä¸ºhashæ¨¡å¼å’Œhistoryæ¨¡å¼ï¼›ä¸¤ç§åŒºåˆ«å¦‚ä¸‹ï¼š æ¨¡å¼åç§° å®ç°åŸç† Hashæ¨¡å¼ hashæ¨¡å¼ä»¥urlä¸­#å·åé¢çš„å†…å®¹ä½œä¸ºè·¯å¾„ï¼Œé€šè¿‡ç›‘å¬hashchangeäº‹ä»¶è·å–åˆ°å½“å‰è·¯ç”±åœ°å€ç„¶åæ‰¾åˆ°å¯¹åº”çš„ç»„ä»¶è¿›è¡Œæ¸²æŸ“ historyæ¨¡å¼ é€šè¿‡popstateäº‹ä»¶ï¼Œæ ¹æ®å½“å‰è·¯ç”±åœ°å€æ‰¾åˆ°ç›¸åº”çš„ç»„ä»¶è¿›è¡Œæ¸²æŸ“(éœ€è¦æœåŠ¡ç«¯æ”¯æŒ) å®ç°æ€è·¯ å…ˆçœ‹ä¸€ä¸‹æˆ‘ä»¬å¹³æ—¶ä½¿ç”¨vueRouterçš„å…³é”®ä»£ç ï¼š // router/index.js // 1.å¼•å…¥VueRouter import VueRouter from 'vue-router' // 2.å¼•å…¥vue import Vue from 'vue' // 3. æ³¨å†Œè·¯ç”±æ’ä»¶ Vue.use(VueRouter) // 4.æ·»åŠ è·¯ç”±è§„åˆ™ const routes = [ { path: '/', name: 'index', component: Layout }, ] // 5.åˆ›å»ºè·¯ç”±å¯¹è±¡ï¼Œä¼ å…¥è·¯ç”±è§„åˆ™ const router = new VueRouter({routes}) // 6.å¯¼å‡ºrouter export default router // main.js import Vue from 'vue' import router from './router' new Vue({ // 7. æ³¨å†Œ router å¯¹è±¡ router, render: h =&gt; h(App) }).$mount('#app') è¿™é‡Œæˆ‘ä»¬éœ€è¦è§£ä¸€ä¸‹Vue.use()æ–¹æ³•ï¼šè¯¥æ–¹æ³•è‡³å°‘ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°ç±»å‹å¿…é¡»æ˜¯ Object æˆ– Functionï¼Œå¦‚æœæ˜¯ Object é‚£ä¹ˆè¿™ä¸ª Object éœ€è¦å®šä¹‰ä¸€ä¸ª install æ–¹æ³•ï¼Œå¦‚æœæ˜¯ Function é‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°±è¢«å½“åš install æ–¹æ³•ã€‚åœ¨Vue.use()æ‰§è¡Œæ—¶ install ä¼šé»˜è®¤æ‰§è¡Œï¼Œå½“ install æ‰§è¡Œæ—¶ç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯ Vueï¼Œå…¶ä»–å‚æ•°æ˜¯ Vue.use()æ‰§è¡Œæ—¶ä¼ å…¥çš„å…¶ä»–å‚æ•°ï¼›åŒæ—¶Vue.use()ä¼šè‡ªåŠ¨é˜»æ­¢å¤šæ¬¡æ³¨å†Œç›¸åŒæ’ä»¶ã€‚ äº†è§£å®Œä½¿ç”¨æµç¨‹ï¼Œæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹å®ƒçš„å®ç°æ€è·¯ï¼š åˆ›å»ºVueRouteræ’ä»¶ï¼Œé™æ€æ–¹æ³•installï¼Œåœ¨installæ–¹æ³•ä¸­ï¼Œåˆ¤æ–­æ’ä»¶æ˜¯å¦å·²ç»è¢«åŠ è½½ï¼ŒåŒæ—¶åœ¨vueåŠ è½½çš„æ—¶å€™æŠŠä¼ å…¥çš„routerå¯¹è±¡æŒ‚è½½åˆ°vueå®ä¾‹ä¸Šã€‚ åˆ›å»ºVueRouterç±»: åˆå§‹åŒ–options(è®°å½•æ„é€ å‡½æ•°ä¸­ä¼ å…¥çš„å¯¹è±¡)ã€routeMap(è®°å½•è·¯ç”±åœ°å€å’Œç»„ä»¶çš„å¯¹åº”å…³ç³»)ã€data(ç›¸åº”å¼çš„å¯¹è±¡ï¼Œå¯ä»¥è®°å½•å½“å‰è·¯ç”±åœ°å€ï¼Œå½“è·¯ç”±åœ°å€å˜åŒ–æ—¶å€™ï¼Œå¯¹åº”çš„ç»„ä»¶åšç›¸åº”çš„æ›´æ–°) åˆ›å»ºinitRouteMap()æ–¹æ³•ï¼Œéå†æ‰€æœ‰è·¯ç”±ä¿¡æ¯ï¼ŒæŠŠç»„ä»¶å’Œè·¯ç”±çš„æ˜ å°„è®°å½•åˆ°routeMapå¯¹è±¡ä¸­ æ³¨å†Œpopstateäº‹ä»¶ï¼Œå½“è·¯ç”±åœ°å€å‘ç”Ÿå˜åŒ–ï¼Œé‡æ–°è®°å½•å½“å‰çš„è·¯å¾„ åˆ›å»ºrouter-linkå’Œrouter-viewç»„ä»¶ å½“è·¯å¾„æ”¹å˜çš„æ—¶å€™é€šè¿‡å½“å‰è·¯å¾„åœ¨routerMapå¯¹è±¡ä¸­æ‰¾åˆ°å¯¹åº”çš„ç»„ä»¶ï¼Œæ¸²æŸ“router-view åˆ†æå®Œå¤§æ¦‚æ€è·¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ›å»ºæ–‡ä»¶å¼€å§‹ç¼–å†™ã€‚ å®ç° install æ–¹æ³• é¦–å…ˆæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªvueRouteræ–‡ä»¶å¤¹ï¼Œé‡Œé¢åˆ›å»ºä¸€ä¸ªindex.js æ–‡ä»¶ï¼Œæˆ‘ä»¬åœ¨ä¸Šé¢åˆ†æäº†ä¸€ä¸‹VueRouteråœ¨ä½¿ç”¨æ—¶å€™æœ‰newçš„æ“ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨ES6ä¸­classæ¥å®ç°ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š // è®¾ç½®å…¨å±€å˜é‡ let _Vue = null class VueRouter { static install(Vue) { // 1.åˆ¤æ–­å½“å‰æ’ä»¶æ˜¯å¦å®‰è£… if(VueRouter.install.isInstalled) return; VueRouter.install.isInstalled = true // 2.æŠŠvueæ„é€ å‡½æ•°è®°å½•åˆ°å…¨å±€å˜é‡ _Vue = Vue // 3.æŠŠåˆ›å»ºvueå®ä¾‹çš„æ—¶å€™ä¼ å…¥çš„routerå¯¹è±¡æŒ‚è½½åˆ°vueå…¨å±€å¯¹è±¡ä¸Š _Vue.mixin[{ beforeCreate() { // åˆ¤æ–­å½“å‰å®ä¾‹ä¸Šæ˜¯å¦æœ‰router if(this.$options.router) { _Vue.prototype.$router = this.$options.router } } }] } constructor(options) { this.options = options; this.routerMap = {} } } constructor æ„é€ å‡½æ•° åœ¨constructoræ„é€ å‡½æ•°ä¸­ï¼Œé¦–å…ˆæˆ‘ä»¬å…ˆæŠŠä¼ å…¥çš„optionsä¿å­˜ï¼Œç„¶ååˆå§‹åŒ–routerMapï¼Œåˆ°æ—¶å€™éœ€è¦ä¾¿åˆ©ä¼ å…¥è¿›æ¥çš„è·¯ç”±è§„åˆ™ï¼Œç„¶åä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å…¥åˆ°routerMapä¸­ï¼Œæœ€åï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªå“åº”å¼çš„dataå¯¹è±¡ï¼ŒVueä¸­æä¾›äº† observable æ–¹æ³•æ¥å¸®åŠ©æˆ‘ä»¬åˆ›å»ºå“åº”å¼çš„å¯¹è±¡ï¼Œä½¿ç”¨æ–¹æ³•ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œåœ¨dataä¸­æˆ‘ä»¬è®¾ç½®ä¸€ä¸ªå˜é‡currentæ¥è®°å½•å½“å‰è·¯ç”±ã€‚ constructor(options) { // è®°å½•æ„é€ å‡½æ•°ä¸­ä¼ å…¥çš„optionså±æ€§ this.options = options // åˆå§‹åŒ–routerMapï¼Œç”¨äºè®°å½•è·¯ç”±è¡¨ this.routerMap = {} // åˆ›å»ºå“åº”å¼çš„dataå¯¹è±¡ this.data = _Vue.observable({ // å½“å‰è·¯ç”±å¯¹è±¡,ç”¨äºè®°å½•å½“å‰è·¯ç”± current: '/' }) } createRouterMap ä¾¿åˆ©è·¯ç”±è§„åˆ™ åœ¨ä¸Šä¸€æ­¥æˆ‘ä»¬å·²ç»åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–äº†routerMapå¯¹è±¡ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦å†™ä¸ªæ–¹æ³•å»ä¾¿åˆ©è·¯ç”±è§„åˆ™ï¼Œç„¶åå­˜å‚¨åˆ°routerMapä¸­ã€‚ä»£ç å¦‚ä¸‹ï¼š createRouterMap() { // ä¾¿åˆ©è·¯ç”±è§„åˆ™ï¼Œå§è·¯ç”±è§„åˆ™æŒ‚è½½åˆ°routerMapä¸Š this.$options.router.forEach(item =&gt; { this.routerMap[item.path] = item.component }) } åˆ›å»ºç»„ä»¶ åœ¨ä½¿ç”¨vueRouteræ—¶ï¼Œæˆ‘ä»¬ä¼šç”¨åˆ°router-linkç»„ä»¶å’Œrouter-viewç»„ä»¶ï¼Œè¿™ä¿©åŠŸèƒ½å°±ä¸ç»†è¯´äº†ï¼Œåˆ›å»ºç»„ä»¶ä¹Ÿæ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œvueæä¾›äº† Vue.componentæ–¹æ³•ï¼Œä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š initComponents(Vue) { Vue.component('router-link',{ props: { to: String }, render(h) { return h('a',{ attrs: { href: this.to }, },this.$slots.default) }, }) Vue.component('router-view',{ render(h) { // è·å–å½“å‰è·¯ç”±åŒ¹é…åˆ°çš„ç»„ä»¶ const component = self.routerMap[self.data.current] return h(component) } }) } åˆ›å»ºå®Œæˆåï¼Œæˆ‘ä»¬è¿˜éœ€è¦è°ƒç”¨ä¸€ä¸‹ï¼Œç›®å‰åˆå§‹åŒ–å‡½æ•°æœ‰ä¸¤ä¸ªï¼šä¾¿åˆ©è·¯ç”±è§„åˆ™æ–¹æ³•ã€åˆ›å»ºç»„ä»¶æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å†å†™ä¸€ä¸ªinitæ–¹æ³•ï¼Œæ¥è°ƒç”¨åˆå§‹åŒ–çš„å‡½æ•°ï¼š // åˆå§‹åŒ–æ–¹æ³• init() { this.createRouterMap() this.initComponents(_Vue) } åŒæ—¶æˆ‘ä»¬éœ€è¦åœ¨constructoræ„é€ å‡½æ•°ä¸­è°ƒç”¨ä¸€ä¸‹ï¼š constructor(options) { this.options = options this.routerMap = {} this.data = _Vue.observable({ current: '/' }) // åˆå§‹åŒ–æ–¹æ³• this.init() } æ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥è¯•ç€åœ¨routeræ–‡ä»¶å¤¹ä¸­æŠŠå¼•å…¥çš„VueRouteræ’ä»¶æ”¹æˆæˆ‘ä»¬å†™çš„æ’ä»¶ï¼š // router/index.js import VueRouter from '../vueRouter' ç„¶åè¿è¡Œé¡¹ç›®çœ‹æ˜¯å¦æ˜¾ç¤ºæˆåŠŸã€‚ å®ç°ç‚¹å‡»äº‹ä»¶ å‰é¢æˆ‘ä»¬å·²ç»æ·»åŠ äº†router-linkç»„ä»¶ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦ç‚¹å‡»çš„æ—¶å€™å»æ›´æ”¹dataä¸­çš„currentæ¥è®°å½•å½“å‰çš„è·¯å¾„ï¼š Vue.component('router-link',{ props: { to: String }, render(h) { return h('router-link',{ attrs: { href: this.to }, on: { click: this.clickHandler } },this.$slots.default) }, methods: { clickHandler(e) { // æ”¹å˜urlä¸­çš„è·¯å¾„ history.pushState({}, '', this.to) // ä¿®æ”¹å“åº”å¼dataä¸­çš„current self.data.current = this.to // é˜»æ­¢aæ ‡ç­¾é»˜è®¤äº‹ä»¶ e.preventDefault() } } }) æˆ‘ä»¬è¿˜éœ€è¦æ·»åŠ ä¸€ä¸ªç›‘å¬äº‹ä»¶ï¼Œå¦‚æœç‚¹å‡»æµè§ˆå™¨å·¦ä¾§çš„å‰è¿›å’Œåé€€æŒ‰é’®ï¼Œæˆ‘ä»¬çš„é¡µé¢ä¹Ÿåº”è¯¥åšå‡ºç›¸åº”çš„å˜åŒ–ï¼š initEvent() { window.addEventListener('popstate', () =&gt; { this.data.current = window.location.pathname }) } æœ€ååœ¨initæ–¹æ³•ä¸­è°ƒç”¨ä¸€ä¸‹å³å¯ init() { this.createRouterMap() this.initComponents(_Vue) this.initEvent() } è¿™æ ·ä¸€ä¸ªå°å‹çš„vueRouteråŸºæœ¬å°±å®Œæˆäº†ï¼Œhashæ¨¡å¼ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠç‚¹å‡»äº‹ä»¶æ–¹æ³•æ”¹å˜ä¸€ä¸‹å³å¯ï¼š Vue.component('router-link',{ props: { to: String }, render(h) { return h('router-link',{ attrs: { href: this.to }, on: { click: this.clickHandler } },this.$slots.default) }, methods: { clickHandler(e) { // åˆ¤æ–­æ¨¡å¼ self.options.mode == 'history' &amp;&amp; history.pushState({}, '', this.to) self.options.mode == 'hash' &amp;&amp; (window.location.hash = `#${this.to}`) self.data.current = this.to e.preventDefault() } } }) åŒæ—¶ä¿®æ”¹ä¸€ä¸‹ç›‘å¬äº‹ä»¶ initEvent() { if(this.options == 'history') { window.addEventListener('popstate', () =&gt; { this.data.current = window.location.pathname }) }else{ window.addEventListener('hashchange', () =&gt; { this.data.current = window.location.hash.substr(1) ? window.location.hash.substr(1) : '/' }) } } ç»“å°¾ è¿™æ ·æˆ‘ä»¬çš„hashæ¨¡å¼å’Œhistoryæ¨¡å¼å°±å®ç°å®Œæˆäº†ï¼Œå…³äºä¸€äº›ç»†èŠ‚æ–¹é¢çš„ä¸œè¥¿å°±ä¸è¿›è¡Œæ¨¡æ‹Ÿäº†ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥å°è¯•å®ç°ä¸€ä¸‹ã€‚ ","link":"https://lonjinup.github.io/vuerouter/"},{"title":"TypeScriptåŸºç¡€é€Ÿè§ˆ","content":"TypeScript TypeScriptè§£å†³JavaScriptç±»å‹ç³»ç»Ÿçš„é—®é¢˜TSå¤§å¤§æé«˜ä»£ç çš„å¯é ç¨‹åº¦ã€‚JavaScriptè‡ªæœ‰ç±»å‹ç³»ç»Ÿçš„é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨TypeScriptæ¥å¥å£®æˆ‘ä»¬çš„ä»£ç ã€‚é¦–å…ˆæˆ‘ä»¬éœ€è¦äº†è§£å¼ºç±»å‹å’Œå¼±ç±»å‹è¯­è¨€çš„åŒºåˆ«ã€‚ å¼ºç±»å‹ï¼šè¯­è¨€å±‚é¢é™åˆ¶å‡½æ•°çš„å®å‚ç±»å‹å’Œå½¢å‚ç±»å‹ç±»å‹å¿…é¡»ä¸€è‡´ï¼Œå¯ä»¥è¯´å¼ºç±»å‹ä¸å…è®¸éšæ„çš„éšå¼è½¬æ¢ã€‚ å¼±ç±»å‹ï¼šè‹¥ç±»å‹è¯­è¨€ä¸ä¼šé™åˆ¶å®å‚çš„ç±»å‹ï¼Œå…è®¸éšå¼ç±»å‹çš„è½¬æ¢ å‰ç½®çŸ¥è¯† é™æ€ç±»å‹ä¸åŠ¨æ€ç±»å‹ é™æ€ç±»å‹ï¼šä¸€ä¸ªå˜é‡å£°æ˜æ—¶å®ƒçš„ç±»å‹å°±æ˜¯æ˜ç¡®çš„ï¼Œå£°æ˜è¿‡åï¼Œä»–çš„ç±»å‹å°±ä¸å…è®¸å†ä¿®æ”¹ã€‚ åŠ¨æ€ç±»å‹ï¼šåœ¨è¿è¡Œé˜¶æ®µæ‰èƒ½æ˜ç¡®å˜é‡ç±»å‹ï¼Œå˜é‡çš„ç±»å‹éšæ—¶å¯ä»¥æ”¹å˜ã€‚ä¹Ÿå¯ä»¥è¯´å˜é‡æ˜¯æ²¡æœ‰ç±»å‹çš„ï¼Œå˜é‡ä¸­å­˜æ”¾çš„å€¼æ˜¯æœ‰ç±»å‹çš„ã€‚ JavaScriptç±»å‹ç³»ç»Ÿç‰¹å¾ JavaScriptæ˜¯å¼±ç±»å‹ä¸”åŠ¨æ€è¯­è¨€ï¼ŒJavaScriptæ—©æœŸéœ€æ±‚å¾ˆç®€ç­”ï¼›è„šæœ¬è¯­è¨€, æ²¡æœ‰ç¼–è¯‘ç¯èŠ‚ã€‚ è€Œå¼ºç±»å‹çš„ä¼˜åŠ¿åœ¨äºï¼š 1ã€é”™è¯¯æ›´æ—©æš´éœ² 2ã€ä»£ç æ›´æ™ºèƒ½ï¼Œç¼–ç æ›´å‡†ç¡® 3ã€é‡æ„æ›´ç‰¢é  4ã€å‡å°‘ä¸å¿…è¦çš„ç±»å‹åˆ¤æ–­ TypeScriptæ¦‚è¿° TypeScriptæ˜¯JavaScriptçš„è¶…é›†ï¼ŒåŒæ—¶TypeScriptåŠŸèƒ½æ›´å¼ºå¤§ï¼Œç”Ÿæ€ä¹Ÿå¥å…¨æ›´å®Œå–„ã€‚è¯´äº†é‚£ä¹ˆå¤šä¼˜ç‚¹ï¼Œå®ƒçš„ç¼ºç‚¹æ˜¯è¯­è¨€æœ¬èº«å¤šäº†è®¸å¤šæ¦‚å¿µï¼ˆæ¥å£ã€æ³›å‹ç­‰ï¼‰ï¼Œåœ¨é¡¹ç›®åˆæœŸï¼ŒTSä¼šå¢åŠ ä¸€äº›æˆæœ¬ã€‚ å‡†å¤‡å·¥ä½œ(å®‰è£…ä¸ç¼–è¯‘) å…¨å±€å®‰è£… npm install -g typescript //macä¸‹å®‰è£…å‰é¢éœ€è¦åŠ sudoã€‚ä¹Ÿå¯ä»¥åœ¨é¡¹ç›®ä¸­å±€éƒ¨å®‰è£… ç¼–è¯‘ å¯ä»¥æ‰§è¡Œä¸‹é¢å‘½ä»¤è¿›è¡Œç¼–è¯‘ï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹äº§ç”Ÿä¸€ä¸ªtest.jsæ–‡ä»¶ tsc test.ts è¿™æ ·å¯èƒ½è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©æ’ä»¶æ–¹ä¾¿æˆ‘ä»¬æé«˜æ•ˆç‡ï¼š npm install -g ts-node å®‰è£…å®Œååªéœ€æ‰§è¡Œts-node test.tså°±å¯ä»¥åœ¨æ§åˆ¶å°æŸ¥çœ‹è¾“å‡ºç»“æœã€‚ tsconfig.jsoné…ç½® ç”Ÿæˆé…ç½®æ–‡ä»¶ æˆ‘ä»¬å¯ä»¥é€šè¿‡tsc --initå»ç”Ÿæˆtsé…ç½®æ–‡ä»¶: tsc --init ç¼–è¯‘æ–‡ä»¶ ä¼šç”Ÿæˆä¸€ä¸ªtsconfig.jsonæ–‡ä»¶ï¼Œæˆ‘ä»¬åœ¨tsæ–‡ä»¶ä¸­å¯ä»¥éšä¾¿å†™ç‚¹ä»€ä¹ˆï¼š //æµ‹è¯•tsconfig.json const test:string='tsconfig.json'; ç„¶åæ‰“å¼€tsconfig.jsonæ–‡ä»¶ï¼Œæ‰¾åˆ°complilerOptionså±æ€§ä¸‹çš„removeComments:trueï¼ˆè¿™ä¸ªé…ç½®æ˜¯ç¼–è¯‘åä¸è¾“å‡ºæ³¨é‡Šï¼‰ï¼Œå–æ¶ˆæ‰æ³¨é‡Šï¼Œç„¶åæ‰§è¡Œå‘½ä»¤ï¼š tsc è¿™æ—¶å€™æ‰“å¼€ç”Ÿæˆçš„jsæ–‡ä»¶ï¼Œå‘ç°æ²¡æœ‰æ³¨é‡Šï¼Œè¯´æ˜æˆåŠŸã€‚ tsconfig.jsoné…ç½®é¡¹ ä¸‹é¢ç»™åˆ—ä¸€ä¸‹å¸¸ç”¨çš„é…ç½®é¡¹ï¼Œæ›´å¤šå¯ä»¥æŸ¥çœ‹ é…ç½®æŸ¥è¯¢ç½‘ç«™ include ã€exclude å’Œ files å¦‚æœæœ‰å¤šä¸ªtsæ–‡ä»¶ï¼Œåªæƒ³ç¼–è¯‘ä¸€ä¸ªå¯ä»¥åœ¨tsé…ç½®é¡¹ä¸­åŠ å…¥includeï¼š &quot;include&quot;:[&quot;text.ts&quot;], å¦‚æœæƒ³é™¤äº†æŸä¸ªæ–‡ä»¶ä¸ç¼–è¯‘ï¼Œå‰©ä¸‹çš„éƒ½ç¼–è¯‘ï¼Œå¯ä»¥ä½¿ç”¨excludeï¼š &quot;exclude&quot;:[&quot;text.ts&quot;], fileså’Œincludeæ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼š &quot;files&quot;:[&quot;text.ts&quot;], removeComments è¿™ä¸ªé…ç½®æ„æ€å°±æ˜¯ç¼–è¯‘åä¸è¾“å‡ºæ³¨é‡Š strict è¿™ä¸ªè®¾ç½®ä¸ºtrue,å°±ä»£è¡¨ä¸¥æ ¼æ‰§è¡Œtsè¯­æ³•ï¼Œè¦ä¸¥æ ¼æŒ‰ç…§tsè¯­æ³•æ¥ç¼–å†™ã€‚ noImplicitAny å…è®¸ä½ çš„æ³¨è§£ç±»å‹ any ä¸ç”¨ç‰¹æ„è¡¨æ˜ï¼Œå¦‚æœæ­¤æ—¶è®¾ç½®äº†true,çœ‹ä¾‹å­ï¼š //è¿™æ—¶å€™ç¼–è¯‘ä¼šæŠ¥é”™ function test(name) { return name; } //æ­£ç¡® function test(name:any) { return name; } strictNullChecks æ„æ€å°±æ˜¯ï¼Œä¸å¼ºåˆ¶æ£€æŸ¥nullç±»å‹,æ­¤æ—¶å¦‚æœé…ç½®ä¸ºtrueçœ‹ä¾‹å­: //æ­¤æ—¶å°±ä¸ä¼šæŠ¥é”™ const test: string = null; outDirå’ŒrootDir æ­¤é¡¹é…ç½®æ˜¯æ¥æŒ‡å®šæ–‡ä»¶ç›®å½•å’Œæ‰“åŒ…åå­˜æ”¾ç›®å½•ï¼ŒrootDirä¸ºæ–‡ä»¶ç›®å½•ï¼ŒoutDirä¸ºæ‰“åŒ…åä¿å­˜çš„ç›®å½• { &quot;outDir&quot;: &quot;./build&quot; , &quot;rootDir&quot;: &quot;./src&quot; , } ç¼–è¯‘ES6è¯­æ³• å¯ä»¥ä½¿ç”¨targetå’ŒallowJsï¼Œtargeté»˜è®¤ä¸ºtrue &quot;target&quot;:'es5' , // å¯ä»¥è½¬åŒ–ä¸ºç›®æ ‡æ ‡å‡† &quot;allowJs&quot;:true, // è¿™ä¸ªé…ç½®é¡¹çš„æ„æ€æ˜¯è”é€š sourceMap sourceMapç®€å•è¯´ï¼ŒSource map å°±æ˜¯ä¸€ä¸ªä¿¡æ¯æ–‡ä»¶ï¼Œé‡Œé¢å‚¨å­˜ç€ä½ç½®ä¿¡æ¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè½¬æ¢åçš„ä»£ç çš„æ¯ä¸€ä¸ªä½ç½®ï¼Œæ‰€å¯¹åº”çš„è½¬æ¢å‰çš„ä½ç½®ã€‚è°ƒè¯•çš„æ—¶å€™å°±å¯ä»¥ä½¿ç”¨sourceMapæ–‡ä»¶æ¥è°ƒè¯•tsæºä»£ç ã€‚ noUnusedLocals è®¾ç½®noUnusedLocalsä¸ºtrueï¼Œç¼–è¯‘ä»£ç ï¼š const name:tring='111'; export const age = &quot;text&quot;; è¿™æ—¶å€™å°±ä¼šæŠ¥é”™ï¼Œå› ä¸ºæœ‰nameå˜é‡æ²¡æœ‰ä½¿ç”¨ã€‚ åŸå§‹æ•°æ®ç±»å‹ let a:string='lonjin'; let b:number=100; //NaN Infinity let c:boolean=true; let g:void=undefined; //ç©ºå€¼,å¸¸ç”¨äºè¡¨è¿°æ²¡æœ‰ä»»ä½•è¿”å›å€¼çš„å‡½æ•° let h:null=null; let i:undefined=undefined; åœ¨éä¸¥æ ¼æ¨¡å¼ï¼ˆstrictNullChecksï¼‰ä¸‹ï¼Œstring, number, boolean éƒ½å¯ä»¥ä¸ºnull let d:string=null; let e:number=null; let f:boolean=null; å¦‚æœæƒ³ä½¿ç”¨Symbol,å¿…é¡»åœ¨tsconfig.jsonä¸­ä¿®æ”¹libåŒ…å«ES2015: let j:symbol=Symbol(); å¦‚æœæƒ³ä½¿ç”¨console.log,ä¹Ÿéœ€è¦åœ¨tsconfig.jsonä¸­libä¸­æ·»åŠ domé€‰é¡¹ //tsconfig.json &quot;lib&quot;: [&quot;es2015&quot;,&quot;dom&quot;], //index.ts console.log(111) TypeScriptä½œç”¨åŸŸé—®é¢˜ åœ¨tsä¸­ï¼Œé»˜è®¤æ–‡ä»¶ä¸­çš„æˆå‘˜ä¼šä½œä¸ºå…¨å±€æˆå‘˜ï¼Œæ‰€ä»¥å¤šä¸ªæ–‡ä»¶ä¸­æœ‰ç›¸åŒæˆå‘˜å°±ä¼šå‡ºç°å†²çª(å°¤å…¶åœ¨å°ç¨‹åºé¡¹ç›®ä¸­ä½¿ç”¨tsæ—¶)ï¼Œè§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š æ–¹æ³•1:åˆ›å»ºä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œéš”ç¦»ä½œç”¨åŸŸ (function () { const a = 123 })() æ–¹æ³•2:åœ¨å½“å‰æ–‡ä»¶ä½¿ç”¨ exportï¼Œä¹Ÿå°±æ˜¯æŠŠå½“å‰æ–‡ä»¶å˜æˆä¸€ä¸ªæ¨¡å—ã€‚åœ¨å°ç¨‹åºä¸­ï¼Œæ¯ä¸ªpageä¸‹çš„index.tsä¸­å¦‚æœä¸å†™exportå°±ä¼šæŠ¥ä½œç”¨åŸŸé”™è¯¯ã€‚ const a = 123 export {} TypeScriptä¸­Objectç±»å‹ tsä¸­çš„Objectç±»å‹å¹¶ä¸å•æŒ‡å¯¹è±¡ç±»å‹ï¼Œè€Œæ˜¯æ³›æŒ‡éåŸå§‹ç±»å‹ï¼Œä¹Ÿå°±æ˜¯å¯¹è±¡ã€æ•°ç»„ã€è¿˜æœ‰å‡½æ•°ã€‚ // object ç±»å‹æ˜¯æŒ‡é™¤äº†åŸå§‹ç±»å‹ä»¥å¤–çš„å…¶å®ƒç±»å‹,æ‰€ä»¥å¯ä»¥ä¸ºå‡½æ•°ï¼Œæ•°ç»„è¿™ç§å€¼ let obj:object=function(){}; let obj2:object=[1,2,3]; å¦‚æœéœ€è¦æ˜ç¡®é™åˆ¶å¯¹è±¡ç±»å‹ï¼Œåˆ™åº”è¯¥ä½¿ç”¨è¿™ç§ç±»å‹å¯¹è±¡å­—é¢é‡çš„è¯­æ³•ï¼Œæˆ–è€…æ˜¯ã€Œæ¥å£ã€ let obj3:{name:string,age:number}={name:'lonjin',age:18} TypeScriptä¸­æ•°ç»„ç±»å‹ æ•°ç»„ç±»å‹çš„ä¸¤ç§è¡¨ç¤ºæ–¹å¼: //æ–¹å¼1 let arr:Array&lt;number&gt;=[1,2,3,4,5]; //æ–¹å¼2 let arr2:number[]=[1,2,3,4,5]; å¦‚æœæ•°ç»„ä¸­åˆæœ‰numberç±»å‹åˆæœ‰stringç±»å‹ï¼Œåˆ™å¯ä»¥ç”¨ï½œç¬¦å·æ¥åŒºåˆ«å®šä¹‰ let arr:(number|string)[]=['tom',1]; é¡¹ç›®ä¸­ç»å¸¸é‡åˆ°æ•°ç»„ä¸­æœ‰å¯¹è±¡çš„å­˜åœ¨ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢æ–¹æ³•å»å®šä¹‰ï¼š let arr:{name:string,age:number}[]=[ {name:'tom',age:18} ] è¿™æ ·å†™èµ·æ¥ä¼šå¾ˆéº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨tsä¸­çš„ç±»å‹åˆ«åæ¥è§£å†³è¿™ä¸ªé—®é¢˜(åé¢ä¼šè¯¦ç»†è®²è§£) type PeopleType={name:String,age:Number}; let arr:PeopleType[]=[ {name:'lonjin',age:18} ] å…ƒç»„ç±»å‹ åœ¨æ•°ç»„ä¸­å¦‚æœé‡Œé¢åˆæœ‰stringå’Œnumber,å¯ä»¥ä½¿ç”¨ï½œæ¥è¿›è¡Œå®šä¹‰ï¼Œä½†ä¸€å®šç¨‹åº¦ä¸Šå¹¶ä¸ä¸¥æ ¼ã€‚æ¯”å¦‚æ”¹æˆä¸‹é¢è¿™ç§æ ¼å¼ï¼š let arr:(number|string)[]=[111,'222',111]; tså¹¶æ²¡æœ‰æŠ¥é”™ï¼Œå¦‚æœæƒ³è¦ä¸¥æ ¼é™åˆ¶ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å…ƒç»„æ¥è¿›è¡Œçº¦æŸï¼Œå…ƒç»„å°±æ˜¯æ˜ç¡®å…ƒç´ æ•°é‡å’Œç±»å‹çš„ä¸€ä¸ªæ•°ç»„ let arr:[number,string,number]=[111,'222',111]; Enumæšä¸¾ å¹³æ—¶æˆ‘ä»¬å¯èƒ½éœ€è¦å®šä¹‰å¤šç§çŠ¶æ€æ¥è¡¨ç¤ºå¯¹åº”çš„å«ä¹‰ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹æˆ‘ä»¬ä¼šè¿™ä¹ˆå†™ï¼š const Status={ ONE:0, TWO:1, THREE:2 } function getName(status:any){ if(status===Status.ONE){ return 'one' }else if(status===Status.TWO){ return 'two' }else{ return 'three' } } è¿™æ—¶å€™æšä¸¾å°±æ´¾ä¸Šç”¨åœºäº†ï¼š //é»˜è®¤ä¸ºæ•°å­—ï¼Œä»0å¼€å§‹ enum Status{ one, two, three, } console.log(Status.one,Status.two,Status.three) //0 1 2 //ä¹Ÿå¯ä»¥ä¸ºå­—ç¬¦ä¸² const enum PropStatus{ one='a', two='b', three='c' } console.log(PropStatus.one,PropStatus.two,PropStatus.three) //a b c ç»†å¿ƒçš„ç«¥é‹å¯ä»¥çœ‹åˆ°æˆ‘åœ¨åé¢çš„æšä¸¾å‰é¢åŠ äº†constï¼Œæˆ‘ä»¬ç¼–è¯‘ä¸€ä¸‹çœ‹çœ‹æœ‰ä»€ä¹ˆä¸åŒï¼š var Status; (function (Status) { Status[Status[&quot;one&quot;] = 0] = &quot;one&quot;; Status[Status[&quot;two&quot;] = 1] = &quot;two&quot;; Status[Status[&quot;three&quot;] = 2] = &quot;three&quot;; })(Status || (Status = {})); console.log(Status.one, Status.two, Status.three); console.log(&quot;a&quot; /* one */, &quot;b&quot; /* two */, &quot;c&quot; /* three */); å¯ä»¥çœ‹åˆ°ï¼Œç¬¬ä¸€ä¸ªæ²¡åŠ constï¼Œå®ƒç¼–è¯‘åä¼šå…¥ä¾µç¼–è¯‘ç»“æœï¼Œè€Œå¦‚æœä½¿ç”¨å¸¸é‡æšä¸¾ï¼Œå°±ä¸ä¼šå…¥ä¾µç¼–è¯‘ç»“æœã€‚ TypeScriptå‡½æ•°ç±»å‹ å‡½æ•°ç±»å‹æ¯”è¾ƒç®€å•ï¼Œä¸»è¦å°±æ˜¯å‚æ•°çš„çº¦å®šä»¥åŠè¿”å›å€¼çº¦å®šï¼š function fn(num:number,num2:number,...args:number[]):string{ return 'fn' }; fn(1,2) fn(1,2,3) fn(1,2,3,4) ç®­å¤´å‡½æ•°ï¼š const fn4=(a:number,b:number):string=&gt;{ return 'lonjin' } å¯é€‰å‚æ•°å’Œé»˜è®¤å‚æ•°ï¼š function fn2(a:number,b?:number,c:number=4,...agrs:number[]){ console.log(a,b,c,agrs) } fn2(1,2)//1 2 4 [] fn2(1,2,3)//1 2 3 [] fn2(1,2,3,4,5)//1 2 3 [ 4, 5 ] TypeScriptä»»æ„ç±»å‹ å¾ˆå¤šåœºæ™¯ä¸‹æˆ‘ä»¬å¹¶ä¸éœ€è¦å¯¹ç±»å‹æœ‰æ˜ç¡®çš„çº¦æŸï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨anyï¼Œanyè™½å¥½ï¼Œå¯ä¸è¦è¿‡åº¦ä½¿ç”¨å“¦ï¼ function fn(val:any){ console.log(val) } //å¯ä»¥ä¼ ä»»æ„ç±»å‹ fn(1) fn('lonjin') fn(true) TypeScriptéšå¼ç±»å‹æ¨æ–­ éšå¼ç±»å‹æ¨æ–­å¾ˆå¥½ç†è§£ï¼Œå¦‚æœæˆ‘ä»¬åœ¨å£°æ˜ä¸€ä¸ªå˜é‡æ—¶å€™æ²¡æœ‰å®šä¹‰å®ƒçš„ç±»å‹ï¼Œtsæ ¹æ®å˜é‡åçš„å€¼è¿›è¡Œç±»å‹æ¨æ–­ï¼š let n=100; //ç›¸å½“äº let n:number=100; å¦‚æœæˆ‘ä»¬åœ¨å£°æ˜æ—¶å€™æ²¡æœ‰èµ‹å€¼ï¼Œåˆ™ä¼šè¢«æ¨æ–­ä¸ºanyï¼š let n; // ç›¸å½“äº let n:any;å¯ä»¥èµ‹å€¼ä»»æ„ç±»å‹æ•°æ® n=100; n='lonjin'; n=true; TypeScriptç±»å‹æ–­è¨€ åœ¨å®é™…åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ°ä»¥ä¸‹æƒ…å†µï¼šä»æ¥å£ä¸­è·å–åˆ°ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­å­˜æ”¾çš„éƒ½æ˜¯éƒ½æ˜¯æ•°å­—ï¼Œæˆ‘ä»¬éœ€è¦å–åˆ°æŸä¸ªå€¼ç„¶åå†è¿›è¡Œä¸€ç³»åˆ—çš„è®¡ç®—ï¼š //æ¥å£ä¸­è¿”å›çš„æ•°ç»„ let arr=[1,2,3,4,5]; let num=arr.find(n=&gt;n&gt;4); //æŠ¥é”™ï¼štså¹¶ä¸ç¡®å®šnumæ˜¯ä¸æ˜¯ä¸€ä¸ªnumber let num: number | undefined let num2=num+1 è¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ç±»å‹æ–­è¨€è¿›è¡Œå¤„ç†ï¼Œå‘Šè¯‰tsè¿™ç¡®å®šæ˜¯ä¸€ä¸ªæ•°å­— let arr=[1,2,3,4,5]; let num =arr.find(n=&gt;n&gt;4); let num2=num as number let num3=num2+1 æ–­è¨€é™¤äº†asï¼Œè¿˜æœ‰å¦å¤–ä¸€ç§ä¹¦å†™æ–¹æ³•ï¼š let arr=[1,2,3,4,5]; let num =arr.find(n=&gt;n&gt;4); let num3=&lt;number&gt;num+1 TypeScriptæ¥å£ æ¥å£ä¸»è¦çº¦æŸå¯¹è±¡ä¸­çš„æ•°æ®ç±»å‹ï¼ŒåŸºæœ¬ä½¿ç”¨å¦‚ä¸‹ï¼š interface People{ name:string, age:number, } const people:People={ name:'lonjin', age:18 } å¾ˆå¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½ç¡®å®šä¸äº†æ˜¯å¦ä¼šæœ‰æŸä¸ªå€¼ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨å¯é€‰å‚æ•°äº†ï¼š interface People{ name:string, age:number, sex?:boolean, } const people:People={ name:'lonjin', age:18, } æœ‰æ—¶å€™æˆ‘ä»¬æ ¹æœ¬ä¸çŸ¥é“è¿™ä¸ªå¯¹è±¡ä¸­è¦æ”¾ä»€ä¹ˆï¼Œå¯ä»¥ç†è§£ä¸ºåŠ¨æ€åœºæ™¯ï¼Œå¯ä»¥ç»™å¯¹è±¡ä»»æ„æ·»åŠ ä¸€äº›æ•°å€¼ï¼š interface People{ name:string, [prop:string]:any }; const people:People={ name:'lonjin', }; people.say=function(){ console.log('hello') }; people.home='beijing' å¦‚æœæˆ‘ä»¬å¸Œæœ›æŸäº›å€¼è®¾ç½®ä¸ºåªè¯»ï¼Œå¯ä»¥åœ¨æ¥å£ä¸­åŠ å…¥ä¿®é¥°ç¬¦readonly: interface People{ name:string, age:number, readonly hasCar:boolean, } const people:People={ name:'lonjin', age:18, hasCar:false } //æŠ¥é”™ï¼šæ— æ³•åˆ†é…åˆ° &quot;hasCar&quot; ï¼Œå› ä¸ºå®ƒæ˜¯åªè¯»å±æ€§ã€‚ people.hasCar=true; TypeScriptç±»çš„åŸºæœ¬ä½¿ç”¨ åŸºæœ¬ä½¿ç”¨æ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬ç›´æ¥çœ‹ä»£ç ï¼š class People{ class People{ name:string; age:number; constructor(name:string,age:number){ this.name=name; this.age=age; } say(message:string):void{ console.log(`my name is ${this.name},${message}`) } } let tom=new People('tom',18) ç±»çš„ä¿®é¥°ç¬¦ åœ¨ç±»ä¸­ï¼Œä¸€å…±æœ‰ä¸‰ä¸ªä¿®é¥°ç¬¦ï¼š pubilc:å…¬æœ‰æˆå‘˜,å¦‚æœæ²¡æœ‰åŠ ä¿®é¥°ç¬¦ï¼Œåˆ™é»˜è®¤ä¸ºpubilcã€‚ private:åªèƒ½åœ¨æˆå‘˜æ–¹æ³•å†…éƒ¨è®¿é—® protected:ä¹Ÿä¸èƒ½åœ¨å¤–éƒ¨è®¿é—®ï¼Œå’Œprivateçš„åŒºåˆ«å°±æ˜¯ï¼Œprotectedæ˜¯åªå…è®¸åœ¨å­ç±»ä¸­è®¿é—®æˆå‘˜ class People{ public name:string; private age:number; protected sex:boolean; constructor(name:string,age:number){ this.name=name; this.age=age; this.sex=true; } say(message:string):void{ console.log(`my name is ${this.name},${message}`) } } class Son extends People{ constructor(name:string,age:number){ super(name,age); console.log(this.sex)//true } } é™¤äº†ä¸Šé¢æåˆ°çš„ï¼Œè¿˜å¯ä»¥è®¾ç½®åªè¯»å±æ€§readonlyã€‚é¡¾åæ€ä¹‰ï¼Œåªå…è®¸è¯»å–ï¼Œä¸å…è®¸ä¿®æ”¹ã€‚å¦‚æœå‰é¢æœ‰ä¿®é¥°ç¬¦ï¼Œå°±è·Ÿåœ¨ä¿®é¥°ç¬¦åé¢ï¼š public name:string; private age:number; protected readonly sex:boolean;//åªè¯»å±æ€§ constructor(name:string,age:number){ this.name=name; this.age=age; this.sex=true; } say(message:string):void{ console.log(`my name is ${this.name},${message}`) } } ç±»ä¸æ¥å£ å¦‚æœç±»ä¸ç±»ä¹‹é—´æœ‰å…±åŒç‰¹æ€§ï¼Œå¯ä»¥ä½¿ç”¨ç±»æ¥è¿›è¡ŒæŠ½ç¦»ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œäººä¼šåƒä¸œè¥¿ï¼Œä¹Ÿä¼šè·‘ï¼Œè½¦åªä¼šè·‘ï¼Œä½†ä¸ä¼šåƒä¸œè¥¿ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠè¿™äº›æŠ½ç¦»å‡ºæ¥ï¼š interface Eat{ eat(food:string):void; } interface Run{ run(type:string):void; } class People implements Eat,Run{ eat(food:string):void{ console.log(`eat ${food}`) }; run(type:string){ console.log(`people ${type}`) } } class Car implements Run{ run(type:string):void{ console.log(`car is ${type}`) } } æŠ½è±¡ç±» æŠ½è±¡ç±»ä¹Ÿç”¨æ¥çº¦æŸå­ç±»å½“ä¸­æŸäº›æˆå‘˜ï¼Œä¸æ¥å£ä¸åŒçš„æ˜¯ï¼ŒæŠ½è±¡ç±»å¯ä»¥åŒ…å«å…·ä½“çš„å®ç°,ä¹Ÿå¯ä»¥åªçº¦æŸæ–¹æ³•ï¼Œå…·ä½“ä¾‹å­å¦‚ä¸‹ï¼š //æŠ½è±¡ç±» abstract class Eat{ eat(food:string):void{ console.log(`eat ${food}`) } //çº¦æŸPeopleä¸­å¿…é¡»æœ‰runæ–¹æ³• abstract run(type:number):void; } class People extends Eat{ run(type: number): void { console.log(`run ${type}`) } } let tom=new People(); tom.eat('foods'); tom.run(100) æ³›å‹ æ³›å‹å°±æ˜¯åœ¨å®šä¹‰å‡½æ•°ã€æ¥å£ã€æˆ–è€…ç±»çš„æ—¶å€™æ²¡æœ‰å…·ä½“å®šä¹‰ç±»å‹ï¼Œåœ¨ä½¿ç”¨æ—¶å€™æ‰è¿›è¡Œå®šä¹‰ï¼š //æ¯”å¦‚æˆ‘ä»¬å†™ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°ä¸­æ¥æ”¶ä¸¤ä¸ªå€¼ï¼Œæœ€ç»ˆreturnä¸€ä¸ªæ•°ç»„å›å»ï¼Œæˆ‘ä»¬æ¥æ”¶çš„å‚æ•°å¯èƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯èƒ½æ˜¯æ•°å­— function add&lt;T&gt;(n:T,m:T):T[]{ let a=[n,m]; return a; } let str=add&lt;number&gt;(1,2) let num=add&lt;string&gt;('one','two') ","link":"https://lonjinup.github.io/typescript-ji-chu-su-lan/"},{"title":"ES6æ–°ç‰¹æ€§é€Ÿè§ˆ","content":"ES6æ–°ç‰¹æ€§é€Ÿè§ˆ è™½ç„¶ES6ç°åœ¨åŸºæœ¬éƒ½æ˜¯å‰ç«¯å¿…ä¼šå†…å®¹äº†ï¼Œç½‘ä¸Šä¹Ÿä¸€å †æ–‡ç« äº†ï¼Œä½†æœ‰äº›åˆå­¦è€…å¯èƒ½çœ‹å®Œè¿˜æ˜¯è®°ä¸ä½ï¼Œæ‰€ä»¥ä¾¿å†™ä¸€ç¯‡æ–‡ç« å¿«é€Ÿè¿‡ä¸€ä¸‹ES6çš„ä¸€äº›æ–°ç‰¹æ€§ï¼ŒåŠ æ·±å°è±¡ã€‚å¦‚æœä½ è¿˜æ²¡æœ‰å­¦ES6ï¼Œè¿˜æ˜¯æ¨èä½ é˜…è¯»ä¸€ä¸‹é˜®ä¸€å³°çš„ES6å…¥é—¨æŒ‡å—ã€‚ â˜€ï¸å¦‚æœè§‰å¾—æ–‡ç« ä¸é”™ï¼Œæ¬¢è¿ç‚¹èµâ¤ï¸ã€å…³æ³¨ğŸŒŸã€æ”¶è—ğŸ“„ï¼ ğŸš€ES6çš„æ–°ç‰¹æ€§ï¼Œå¤§è‡´å¯ä»¥å½’ä¸º4å¤§ç±»ï¼š è§£å†³åŸæœ‰è¯­æ³•ä¸Šçš„ä¸€äº›é—®é¢˜æˆ–è€…ä¸è¶³ å¯¹åŸæœ‰è¯­æ³•è¿›è¡Œå¢å¼º å…¨æ–°çš„å¯¹è±¡ã€å…¨æ–°çš„æ–¹æ³•ã€å…¨æ–°çš„åŠŸèƒ½ å…¨æ–°çš„æ•°æ®ç±»å‹å’Œæ•°æ®ç»“æ„ï¼ˆsymbolã€setã€mapã€etc.ï¼‰ å—çº§ä½œç”¨åŸŸ ä½œç”¨åŸŸâ€”â€”æŸä¸ªæˆå‘˜èƒ½å¤Ÿèµ·ä½œç”¨çš„èŒƒå›´,åœ¨ES2015ä¹‹å‰ï¼Œåªæœ‰ä¸¤ç§ä½œç”¨åŸŸï¼šå…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸã€‚åœ¨ES2015ä¸­æ–°å¢ï¼šå—çº§ä½œç”¨åŸŸ. //var ä¼šå˜é‡æå‡ï¼Œæ‰€ä»¥å€¼ä¼šæ˜¯undefined console.log(a);//undefined var a=1; //let ä¸ä¼šè¿›è¡Œå˜é‡æå‡ console.log(b)//Cannot access 'b' before initialization let b=2; //å—çº§ä½œç”¨åŸŸ { let c=20; } console.log(c) //c is not defined //const ç”³æ˜æ—¶å€™å¿…é¡»èµ‹å€¼ï¼Œä¸”å£°æ˜ä¹‹åä¸å¯ä¿®æ”¹å€¼ï¼Œä½†å¯ä»¥ä¿®æ”¹å¯¹è±¡ä¸­çš„æŸä¸ªå€¼, //const å’Œletä¸€æ ·ï¼Œä¹Ÿå­˜åœ¨å—çº§ä½œç”¨åŸŸ const a={name:'lonjin'}; a.name='tom'; console.log(a)//{ name: 'tom' } ç»å…¸é¢è¯•é¢˜ï¼š for(var i=1;i&lt;6;i++){ setTimeout(() =&gt; { console.log(i) }, 0); } // 6 6 6 6 6 for(let i=1;i&lt;6;i++){ setTimeout(() =&gt; { console.log(i) }, 0); } // 1 2 3 4 5 æ•°ç»„çš„è§£æ„ åŸºæœ¬ä½¿ç”¨ const arr=[1,2,3,4,5]; const [a, b, c] = arr; console.log(a,b,c) //1 2 3 åªè·å–æ•°ç»„ä¸­ç¬¬ä¸‰ä¸ªæˆå‘˜ï¼Œæ–¹æ³•ï¼Œå‰é¢ä¸¤ä¸ªç”¨é€—å·éš”å¼€ï¼Œåªå£°æ˜ç¬¬ä¸‰ä¸ª const arr=[1,2,3]; const [,,c]=arr; console.log(c) //3 æå–æ•°ç»„å½“å‰ä½ç½®å¼€å§‹çš„æ‰€æœ‰æˆå‘˜(æ³¨æ„ï¼šä¸‰ä¸ªç‚¹çš„ç”¨æ³•åªèƒ½åœ¨è§£æ„æˆå‘˜çš„æœ€åä½¿ç”¨) const arr=[1,2,3,4,5]; const [a,...arr2]=arr; console.log(arr2) //[ 2, 3, 4, 5 ] å¯ä»¥ç»™æå–åˆ°çš„æˆå‘˜è®¾ç½®é»˜è®¤å€¼ï¼Œå¦‚æœæ²¡æœ‰æå–åˆ°å€¼ï¼Œå°±ä¼šèµ‹ä¸ºé»˜è®¤å€¼ const arr=[1,2,3,4,5]; const [a,b,c,d,e,f=6]=arr; console.log(f) //6 å¯¹è±¡çš„è§£æ„ åŸºæœ¬ä½¿ç”¨(å’Œæ•°ç»„è§£æ„åŸºæœ¬ç›¸åŒ) const data={name:&quot;lonjin&quot;,age:18}; const {name}=data; console.log(name) //lonjin å¦‚æœè§£æ„è¿‡ç¨‹ä¸­é‡åˆ°å‘½åé‡å¤ï¼Œå¯ä½¿ç”¨é‡å‘½åçš„æ–¹å¼è§£å†³ï¼›è®¾ç½®é»˜è®¤å€¼æ–¹æ³•å¦‚ä¸‹ï¼š const data={name:&quot;lonjin&quot;,age:18}; const name='tom'; const {name:newName}=data; console.log(newName) //lonjin åŒæ ·ä¹Ÿå¯ä»¥è®¾ç½®é»˜è®¤å€¼ const data={name:&quot;lonjin&quot;,age:18}; const name='tom'; const {name:newName,say='hello'}=data; console.log(newName+','+say) //lonjin,hello è§£æ„å¸¸ç”¨æ–¹æ³•ï¼Œå¦‚console.log const {log}=console; log(1)//1 æ¨¡ç‰ˆå­—ç¬¦ä¸² åå¼•å·å®šä¹‰å­—ç¬¦ä¸²ï¼Œè‹¥å­—ç¬¦ä¸²ä¸­éœ€è¦æœ‰åå¼•å·ï¼Œå¯ä»¥ç”¨\\åæ–œæ è½¬ä¹‰ æ”¯æŒå­—ç¬¦ä¸²ä¸­ç›´æ¥æ¢è¡Œ æ”¯æŒæ’å€¼è¡¨è¾¾å¼å†™æ³• `hello, ${name} const name='lonjin'; const text=`hello ${name} \\nuser age ${17+1}`; console.log(text) /* hello lonjin user age 18 */ å¸¦æ ‡ç­¾çš„æ¨¡æ¿å­—ç¬¦ä¸² æ ‡ç­¾æ¨¡æ¿å­—ç¬¦ä¸²çš„ä½œç”¨ï¼šæ˜¯å¯¹æˆ‘ä»¬çš„æ¨¡æ¿å­—ç¬¦ä¸²è¿›è¡ŒåŠ å·¥å¤„ç†ï¼Œç„¶åè¿”å›æ–°å†…å®¹ const name='lonjin', sex=true, age=18; function fn(strings,...args){ //stringä¸ºtextä¸­æ™®é€šstringæ•°ç»„ console.log(strings) //[ 'my name is ', ',my age', ',my sex', '' ] //argsä¸ºæ’å€¼è¡¨è¾¾å¼ä¸­çš„å€¼ console.log(args) // [ 'lonjin', 18, true ] //å¯ä»¥å¤„ç†å®Œæ•°æ®returnå‡ºå» let sex=args[2]?'man':woman; return strings[0]+args[0]+strings[1]+args[1]+strings[2]+sex } const text=fn`my name is ${name}my age${age}my sex ${sex}`; console.log(text) //my name is lonjinmy age18my sex man å­—ç¬¦ä¸²çš„æ‰©å±•æ–¹æ³• includes():åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­,è¿”å›trueæˆ–è€…false const str='erro type end.'; let f1=str.includes('erro'); console.log(f1)//true startsWith():åˆ¤æ–­å½“å‰å­—ç¬¦ä¸²æ˜¯å¦ä»¥å¦å¤–ä¸€ä¸ªç»™å®šçš„å­å­—ç¬¦ä¸²å¼€å¤´ï¼Œè¿”å›trueæˆ–è€…false const str='erro type end.'; let f2=str.startsWith('erro'); console.log(f2) //true endsWith:åˆ¤æ–­å½“å‰å­—ç¬¦ä¸²æ˜¯å¦ä»¥å¦å¤–ä¸€ä¸ªç»™å®šçš„å­å­—ç¬¦ä¸²ç»“å°¾ï¼Œè¿”å›trueæˆ–è€…false const str='erro type end.'; let f3=str.endsWith('.'); console.log(f3) //true å‚æ•°é»˜è®¤å€¼ å‡½æ•°å‚æ•°é»˜è®¤å€¼ function fn(status=false){ console.log(status) } fn(true) fn() /* true false */ å‰©ä½™å‚æ•° åªèƒ½å‡ºç°åœ¨æœ€åï¼Œä¸”åªèƒ½ä½¿ç”¨ä¸€æ¬¡ function fn(...args){ console.log(args) }; fn(1,2,3,4,5) //[ 1, 2, 3, 4, 5 ] å±•å¼€æ•°ç»„ æƒ³ä¾æ¬¡æ‰“å°æ•°ç»„çš„å€¼ let arr=['a','b','c']; console.log(...arr); //a b c ç®­å¤´å‡½æ•° åŸºæœ¬ä½¿ç”¨ //æ™®é€šå‡½æ•° function fn(num){ return num+1 }; console.log(fn(2)) //3 //ç®­å¤´å‡½æ•° const fn2=n=&gt;n+1; console.log(fn2(2))//3 ç®­å¤´å‡½æ•°çš„this ç®­å¤´å‡½æ•°ä¸ä¼šæ”¹å˜thisæŒ‡å‘ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ç®­å¤´å‡½æ•°çš„å¤–é¢æ‹¿åˆ°çš„thisæ˜¯ä»€ä¹ˆï¼Œåœ¨ç®­å¤´å‡½æ•°å†…éƒ¨æ‹¿åˆ°çš„thisä¹Ÿå°±æ˜¯ä»€ä¹ˆã€‚ const name='tom' const people={ name:'lonjin', say(){ console.log(`this name is ${this.name}`) }, say2:()=&gt;{ console.log(`this name is ${this.name}`) } } people.say();//this name is lonjin people.say2()//this name is undefined å¯¹è±¡çš„æ‰©å±• å¯¹è±¡å­—é¢é‡çš„å¢å¼º å¯¹è±¡ä¸­å±æ€§åå’Œå±æ€§å€¼ç›¸åŒå°±å¯ä»¥ç¼©å†™ å‡½æ•°è¡¨è¾¾å¼ä¹Ÿå¯ä»¥ç¼©å†™ åŠ¨æ€å±æ€§åï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨è®¡ç®—å±æ€§åï¼Œä½¿ç”¨æ–¹æ‹¬å·çš„å½¢å¼ä½¿ç”¨ const username='lonjin'; const people={ age:18, username, [Math.random()]:123, } console.log(people) //{ age: 18, username: 'lonjin', '0.3692996732470484': 123 } Object.assign å°†å¤šä¸ªæºå¯¹è±¡ä¸­çš„å±æ€§å¤åˆ¶åˆ°ä¸€ä¸ªç›®æ ‡å¯¹è±¡ä¸­ï¼›ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºç›®æ ‡å¯¹è±¡ï¼Œå¦‚æœæœ‰ç›¸åŒçš„ï¼Œåé¢çš„ä¼šè¦†ç›–ä¹‹å‰çš„å€¼ã€‚ let obj={ a:123, b:456, } let obj2={ a:789, c:234 } let obj3={ d:123, c:678 } // const n=Object.assign(obj,obj2) //console.log(n)//{ a: 789, b: 456, c: 234 } const m=Object.assign(obj,obj2,obj3); console.log(m) //{ a: 789, b: 456, c: 678, d: 123 } Object.is åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œå’Œä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦(===)ç±»ä¼¼,ä½†æœ‰ä¸¤ä¸ªå€¼ä»–ä»¬åˆ¤æ–­èµ·æ¥ä¸å¤ªä¸€æ ·:+0ä¸-0ã€NaN console.log( //0==false //true //+0 === -0 // true // NaN === NaN //false //Object.is(NaN,NaN) //true Object.is(+0,-0) //false ) Proxy ä»£ç†å¯¹è±¡:ä¸ºå¯¹è±¡è®¾ç½®è®¿é—®ä»£ç†å™¨ const people={ name:&quot;lonjin&quot;, age:18, } let peopleProxy=new Proxy(people,{ //ç›‘å¬è¯»å– get(target,property){ // targetä¸ºå¯¹è±¡ // propertyä¸ºè¦è¯»å–çš„é”® console.log(target,property) //{ name: 'lonjin', age: 18 } name //è¿”å›è¯»å–çš„å†…å®¹ return property in target?target[property]:'none' }, //ç›‘å¬å±æ€§è®¾ç½® set(target,property,value){ /*target---ç›®æ ‡å¯¹è±¡ property---è¦è®¾ç½®çš„é”®å value---è¦è®¾ç½®çš„æ–°å€¼ */ if(property=='age'){ if(!Number.isInteger(value)){ throw new TypeError('Value must be a number') } } target[property]=value } }) console.log(peopleProxy.name)//lonjin console.log(peopleProxy.say)//none // peopleProxy.age='28';//throw new TypeError('Value must be a number') peopleProxy.age=20; definePropertyå’ŒProxyçš„åŒºåˆ« definePropertyåªèƒ½ç›‘è§†å±æ€§çš„è¯»å†™ï¼ŒProxyèƒ½å¤Ÿè§è¯†åˆ°æ›´å¤šå¯¹è±¡æ“ä½œã€‚æ¯”å¦‚å±æ€§çš„åˆ é™¤ï¼š const people={ name:&quot;lonjin&quot;, age:18, }; let peopleProxy=new Proxy(people,{ deleteProperty(target,property){ //target ä¸ºä»£ç†å¯¹è±¡ //property ä¸ºè¦åˆ é™¤çš„é”®å delete target[property] } }); delete peopleProxy.age; console.log(peopleProxy) //{ name: 'lonjin' } Proxyæ›´å¥½çš„æ”¯æŒæ•°ç»„å¯¹è±¡çš„ç›‘è§†,vue3ä¸­å°±é‡‡ç”¨äº†Proxyæ¥å®ç°æ•°æ®ç›‘å¬ //ç›‘å¬æ•°ç»„pushæ“ä½œ let arr=[]; let newArray=new Proxy(arr,{ set(target,property,value){ target[property]=value; return true } }); newArray.push(1); newArray.push(2); console.log(newArray) //[1,2] æ›´å¤šæ“ä½œå°±ä¸åœ¨è¿™é‡Œå†™äº†ï¼Œæ¨èå¤§å®¶ä¸€ç¯‡æ–‡ç« ä½ ä¸çŸ¥é“çš„ Proxyå¯ä»¥çœ‹ä¸€ä¸‹ã€‚ Reflect Reflectæˆå‘˜æ–¹æ³•å°±æ˜¯Proxyå¤„ç†å¯¹è±¡çš„é»˜è®¤å®ç°ï¼ŒReflectå¹¶éä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œæ‰€ä»¥ä¸èƒ½é€šè¿‡new()æ¥è°ƒç”¨ã€‚ let people={ name:'lonjin', say:'hello', } let peopleProxy=new Proxy(people,{ //å¦‚æœæˆ‘ä»¬æ²¡æœ‰å®šä¹‰getæ–¹æ³•ï¼Œé‚£ä¹ˆProxyä¼šé»˜è®¤ä¸€ä¸ªgetæ–¹æ³•å¦‚ä¸‹ï¼Œè¿”å›Reflect get(target,property){ return Reflect.get(target,property) } }) Reflectæœ€å¤§ä½œç”¨æ˜¯æä¾›äº†ä¸€å¥—å®Œæ•´çš„å¯¹è±¡è°ƒç”¨æ–¹æ³• let people={ name:'lonjin', say:'hello', } console.log('name' in people) console.log(Reflect.has(people,'name')) console.log(delete people['say']); console.log(Reflect.deleteProperty(people,'say')); console.log(Object.keys(people)); console.log(Reflect.ownKeys(people)); Reflectä¸€å…±æœ‰13ä¸ªé™æ€æ–¹æ³•ï¼Œæ›´å¤šæŸ¥çœ‹MDN-Reflect Class åŸºæœ¬ä½¿ç”¨ class People{ constructor(name){ this.name=name } say(){ console.log(`this name ${this.name}`) } }; let user=new People('lonjin'); user.say() //this name lonjin é™æ€æ–¹æ³• é™æ€æ–¹æ³•å¯ä»¥ç›´æ¥é€šè¿‡ç±»å‹æœ¬èº«å»è°ƒç”¨ï¼Œè€Œå®ä¾‹æ–¹æ³•éœ€è¦é€šè¿‡è¿™ä¸ªç±»å‹æ„é€ çš„å®ä¾‹å¯¹è±¡å»è°ƒç”¨ï¼Œåªéœ€è¦åœ¨æ–¹æ³•å‰é¢åŠ static constructor(name){ this.name=name } say(){ console.log(`this name ${this.name}`) } static created(name){ return new People(name) } }; let user=People.created('lonjin'); user.say() //this name lonjin classçš„ç»§æ‰¿ classç»§æ‰¿åªéœ€è¦ç”¨å…³é”®è¯extendså®ç°ï¼Œsuperä¸ºçˆ¶ç±»æ„é€ å‡½æ•° class People{ constructor(name){ this.name=name } say(){ console.log(`this name ${this.name}`) } }; class Child extends People{ constructor(name,age){ super(name); this.age=age; } message(){ console.log(`my name is${this.name},my age is ${this.age}`) } }; let tom=new Child('tom',18); tom.message(); //static Setæ•°æ®ç»“æ„ setçš„å†…éƒ¨æˆå‘˜æ˜¯ä¸å…è®¸é‡å¤çš„ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸€ä¸ªå€¼åœ¨setä¸­éƒ½æ˜¯å”¯ä¸€çš„ã€‚æˆ‘ä»¬å¹³æ—¶å¯ä»¥åˆ©ç”¨Setæ¥å®ç°æ•°ç»„å»é‡ //åŸºæœ¬ä½¿ç”¨ let setArray=new Set(); setArray.add(1); setArray.add(2); setArray.add(3); setArray.add(4); setArray.add(4); console.log(setArray) //Set(4) { 1, 2, 3, 4 } //éå† setArray.forEach(i=&gt;{console.log(i)}); //1 2 3 4 //è·å–æ•°é‡ console.log(setArray.size) //4 //åˆ é™¤(è¿”å›trueæˆ–è€…false) console.log(setArray.delete(1))//true //åˆ¤æ–­æ˜¯å¦æœ‰æŸä¸ªå€¼(è¿”å›trueæˆ–è€…false) console.log(setArray.has(3))//true //æ¸…ç©º setArray.clear(); æ•°ç»„å»é‡ Array.from+set //æ–¹æ³•1 let arr=[1,2,3,4,5,5,6]; let newArr=Array.from(new Set(arr)); console.log(newArr) //[ 1, 2, 3, 4, 5, 6 ] å±•å¼€è¿ç®—ç¬¦ let arr=[1,2,3,4,5,5,6]; console.log([...new Set(arr)]); //[ 1, 2, 3, 4, 5, 6 ] Map jsçš„å¯¹è±¡æœ¬è´¨ä¸Šæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†æ˜¯ä¼ ç»Ÿä¸Šåªèƒ½ç”¨å­—ç¬¦ä¸²å½“ä½œé”®ã€‚æ‰€ä»¥ES6æä¾›äº†Mapæ•°æ®ç»“æ„ã€‚å®ƒç±»ä¼¼äºå¯¹è±¡ï¼Œä¹Ÿæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†æ˜¯â€œé”®â€çš„èŒƒå›´ä¸é™äºå­—ç¬¦ä¸²ï¼Œå„ç§ç±»å‹çš„å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½å¯ä»¥å½“ä½œé”®ã€‚ä¸å¯¹è±¡æœ€å¤§çš„åŒºåˆ«å°±æ˜¯å¯ä»¥ä½¿ç”¨ä»»æ„ç±»å‹ä½œä¸ºé”®ï¼Œè€Œå¯¹è±¡åªèƒ½ä½¿ç”¨å­—ç¬¦ä¸²ä½œä¸ºé”® let m=new Map(); let n={name:'tom'}; // è®¾ç½®å€¼ m.set(n,18) //è¯»å–å€¼ console.log(m.get(n))//18 //åˆ¤æ–­æ˜¯å¦æœ‰æŸä¸ªå€¼ // m.has(); //åˆ é™¤ // m.delete() //æ¸…ç©º // m.clear() //éå† m.forEach((val,key)=&gt;{ console.log(val,key) }) Symbol ä¸€ç§å…¨æ–°çš„åŸå§‹æ•°æ®ç±»å‹ï¼Œ è¡¨ç¤ºä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å€¼ã€‚ä¸»è¦è§£å†³å¯¹è±¡ä¸­å±æ€§åå†²çªçš„é—®é¢˜ //åˆ›å»ºä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å±æ€§åï¼Œä¸”å¤–éƒ¨æ— æ³•è®¿é—®åˆ°(æ¨¡æ‹Ÿç§æœ‰æˆå‘˜) let name=Symbol(); let people={ [name]:'lonjin', say(){ console.log(this[name]) } }; people.say()//lonjin å¦‚æœæˆ‘ä»¬å¸Œæœ›é‡æ–°ä½¿ç”¨åŒä¸€ä¸ªSymbolå€¼ï¼ŒSymbol.for()æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚å®ƒæ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œç„¶åæœç´¢æœ‰æ²¡æœ‰ä»¥è¯¥å‚æ•°ä½œä¸ºåç§°çš„ Symbol å€¼ã€‚å¦‚æœæœ‰ï¼Œå°±è¿”å›è¿™ä¸ª Symbol å€¼ï¼Œå¦åˆ™å°±æ–°å»ºä¸€ä¸ªä»¥è¯¥å­—ç¬¦ä¸²ä¸ºåç§°çš„ Symbol å€¼ï¼Œå¹¶å°†å…¶æ³¨å†Œåˆ°å…¨å±€ //å…¨å±€æ³¨å†Œè¡¨ let n1=Symbol.for('name'); let n2=Symbol.for('name'); console.log(n1===n2)//true è·å–å¯¹è±¡ä¸­çš„é”®æ—¶å€™ï¼Œå¦‚æœä½¿ç”¨for inï¼Œå°±è·å–ä¸åˆ°Symbolç±»å‹çš„é”®ï¼›å¿…é¡»ä½¿ç”¨Object.getOwnPropertySymbols()è¿›è¡Œè·å–ã€‚ let people={ [Symbol()]:'tom', age:18 } console.log(Object.keys(people)) console.log(JSON.stringify(people)) console.log(Object.getOwnPropertySymbols(people)) /* [ 'age' ] {&quot;age&quot;:18} [ Symbol() ] */ for ofæ–¹æ³• ES6å€Ÿé‰´å…¶ä»–è¯­è¨€ï¼Œå¼•å…¥äº†for...ofå¾ªç¯ï¼Œä½œä¸ºéå†æ‰€æœ‰æ•°æ®ç»“æ„çš„ç»Ÿä¸€çš„æ–¹æ³•ã€‚ éå†æ•°ç»„ let arr=[1,2,3,4,5]; for(const item of arr){ console.log(item) } //1 2 3 4 5 å¯ä»¥ä½¿ç”¨breakè¿›è¡Œé€€å‡º //å¯ä»¥ä½¿ç”¨breakè¿›è¡Œé€€å‡º let arr=[1,2,3,4,5]; for(const item of arr){ console.log(item) if(item&gt;3){ break } } //1 2 3 4 éå†Set let n=new Set([1,2,3,4]); for(const item of n){ console.log(item) } //1 2 3 4 éå†Mapå¯ä»¥é…åˆæ•°ç»„ç»“æ„è¯­æ³•ï¼Œç›´æ¥è·å–é”®å€¼ let n=new Map(); n.set('name','tom'); n.set('age',18); for(const [key,value] of n){ console.log(key+'----'+value) } /* name----tom age----18 */ å¯è¿­ä»£æ¥å£ ES6æä¾›äº†Iterableæ¥å£ï¼Œå®ç°äº†Iterableæ¥å£å°±æ˜¯for...ofçš„å‰æ let arr=new Set([1,2,3,4,5]); const iterator=arr[Symbol.iterator](); console.log(iterator.next()) console.log(iterator.next()) console.log(iterator.next()) console.log(iterator.next()) console.log(iterator.next()) console.log(iterator.next()) /* { value: 1, done: false } { value: 2, done: false } { value: 3, done: false } { value: 4, done: false } { value: 5, done: false } { value: undefined, done: true } */ å®ç°å¯è¿­ä»£æ¥å£ ç”±äºfor...ofæ–¹æ³•ä¸èƒ½ä¾¿åˆ©æ™®é€šå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨å®ç°ä¸€ä¸‹ const obj = { store: ['foo', 'bar', 'baz'], [Symbol.iterator]: function () { let index = 0 const self = this return { next: function () { const result = { value: self.store[index], done: index &gt;= self.store.length } index++ return result } } } } for(const item of obj){ console.log(item) } //foo bar baz è¿­ä»£å™¨æ¨¡å¼ å¼€å‘ä¸€ä¸ªä»»åŠ¡æ¸…å•åº”ç”¨ // è¿­ä»£å™¨è®¾è®¡æ¨¡å¼ const todos = { life: ['åƒé¥­', 'ç¡è§‰', 'æ‰“è±†è±†'], learn: ['è¯­æ–‡', 'æ•°å­¦', 'å¤–è¯­'], work: ['å–èŒ¶'], // æä¾›ç»Ÿä¸€éå†è®¿é—®æ¥å£ each: function (callback) { const all = [].concat(this.life, this.learn, this.work) for (const item of all) { callback(item) } }, // æä¾›è¿­ä»£å™¨ï¼ˆES2015 ç»Ÿä¸€éå†è®¿é—®æ¥å£ï¼‰ [Symbol.iterator]: function () { const all = [...this.life, ...this.learn, ...this.work] let index = 0 return { next: function () { return { value: all[index], done: index++ &gt;= all.length } } } } } Generator Generatorå‡½æ•°æ˜¯ES6æä¾›çš„ä¸€ç§å¼‚æ­¥ç¼–ç¨‹è§£å†³æ–¹æ¡ˆ,æ¥é¿å…å¼‚æ­¥ç¼–ç¨‹ä¸­å›è°ƒåµŒå¥—è¿‡æ·±ã€‚ åŸºæœ¬ä½¿ç”¨ function * fn(){ console.log('1') yield 100 console.log('2') yield 200 console.log('3') yield 300 } const f=fn(); console.log(f.next()) console.log(f.next()) console.log(f.next()) console.log(f.next()) /* 1 { value: 100, done: false } 2 { value: 200, done: false } 3 { value: 300, done: false } { value: undefined, done: true } */ ä½¿ç”¨ Generator å‡½æ•°å®ç° iterator æ–¹æ³• const todos = { life: ['åƒé¥­', 'ç¡è§‰', 'æ‰“è±†è±†'], learn: ['è¯­æ–‡', 'æ•°å­¦', 'å¤–è¯­'], work: ['å–èŒ¶'], [Symbol.iterator]: function * () { const all = [...this.life, ...this.learn, ...this.work] for (const item of all) { yield item } } } for (const item of todos) { console.log(item) } ","link":"https://lonjinup.github.io/es6-xin-te-xing-su-lan/"},{"title":"æ‰‹å†™Promiseå¤ªéš¾ï¼Ÿæ‹†å°ç»„åˆæ³•ä½ ä¹Ÿå¯ä»¥æ‰‹å†™Promise","content":"æ‰‹å†™Promiseå¤ªéš¾ï¼Ÿæ‹†å°ç»„åˆæ³•ä½ ä¹Ÿå¯ä»¥æ‰‹å†™Promise ç°åœ¨é¢è¯•ä¹Ÿè¶Šæ¥è¶Šå†…å·äº†ï¼ŒåŠ¨ä¸åŠ¨å°±æ‰‹å†™å„ç§æºç ã€‚å½“ç„¶æ‰‹å†™æºç ä¸æ˜¯ç›®çš„ï¼Œå¯èƒ½å°±æ˜¯ä¸ºäº†è€ƒå¯Ÿå¯¹çŸ¥è¯†çš„æŒæ¡ç¨‹åº¦ã€‚å¾ˆå¤šäººä¸€å¬åˆ°æ‰‹å†™Promiseå°±å¤´å¤§ï¼Œæ¯«æ— æ€è·¯ï¼Œå…¶å®æˆ‘ä»¬æŠŠPromiseåŠŸèƒ½éœ€æ±‚æ‹†å°ä¸€ä¸‹ï¼Œåˆ†æ­¥éª¤å®ç°ï¼›å†™èµ·æ¥å°±ç›¸å¯¹ç®€å•äº†ï¼Œå¹¶ä¸”æ˜“äºç†è§£ï¼Œä¸‹é¢å°±å¸¦å¤§å®¶æ‰‹å†™ä¸€ä¸ªPromiseã€‚ â˜€ï¸é˜…è¯»å°æç¤ºï¼šæœ¬æ–‡çœ‹èµ·æ¥ç¯‡å¹…å¾ˆé•¿ï¼Œå› ä¸ºæ¯éƒ¨åˆ†éƒ½è´´å‡ºäº†å®Œæ•´ä»£ç ï¼Œæ‰€ä»¥ä»£ç é‡æ¯”è¾ƒå¤§ã€‚æ¯ä¸ªæ­¥éª¤æ–°å¢/ä¿®æ”¹çš„ä»£ç éƒ¨åˆ†éƒ½ä¼šæ ‡æ˜æ­¥éª¤å’Œæ€è·¯ï¼Œè·Ÿç€æ­¥éª¤é˜…è¯»å³å¯ã€‚è€å¿ƒçœ‹å®Œï¼Œç›¸ä¿¡ä¼šæœ‰æ”¶è·ï¼ PromiseåŸºæœ¬é€»è¾‘å®ç° å…ˆè´´ä»£ç ï¼Œåˆ†æä¸€ä¸‹ï¼š new Promise((resolve,reject)=&gt;{ console.log('LonJInå¸¦ä½ æ‰‹å†™Promise'); resolve('hello') }).then((res)=&gt;{ console.log(res) }) æ ¸å¿ƒé€»è¾‘åˆ†æ é¦–å…ˆï¼Œæˆ‘ä»¬çœ‹åˆ°Promiseå‰é¢è°ƒç”¨äº†newï¼Œè¯´æ˜Promiseæ˜¯ä¸€ä¸ªç±» å®ƒæœ‰ä¸‰ç§çŠ¶æ€ï¼šç­‰å¾…(pending)ã€æˆåŠŸ(fulfilled)ã€å¤±è´¥(rejected)ï¼ŒçŠ¶æ€ä¸€æ—¦ä»pendingå˜æˆfulfilledæˆ–rejectedå°±ä¸å¯æ›´æ”¹ åœ¨new Promiseä¸­ä¼ å…¥äº†ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒç§°ä¹‹ä¸ºæ‰§è¡Œå™¨ï¼Œæ‰§è¡Œå™¨ä¼šç«‹å³æ‰§è¡Œ åœ¨æ‰§è¡Œå™¨ä¸­ä¼ å…¥äº†resolveå’Œreject,ç”¨æ¥æ”¹å˜å®ƒçš„çŠ¶æ€ thenæ–¹æ³•å†…éƒ¨åšçš„äº‹æƒ…å°±æ˜¯åˆ¤æ–­çŠ¶æ€ï¼Œå¦‚æœçŠ¶æ€æ˜¯æˆåŠŸï¼Œè°ƒç”¨æˆåŠŸå›è°ƒå‡½æ•°,å¦‚æœçŠ¶æ€æ˜¯å¤±è´¥ï¼Œå°±è°ƒç”¨å¤±è´¥å›è°ƒå‡½æ•°,ä¸”thenæ–¹æ³•ä¼šæ¥æ”¶ä¸€ä¸ªæˆåŠŸæˆ–è€…å¤±è´¥çš„å€¼ã€‚ ä»£ç å®ç° æˆ‘ä»¬å…ˆå»ºç«‹ä¸€ä¸ªMyPromise.jsæ–‡ä»¶ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ç¼–å†™æˆ‘ä»¬çš„Promiseã€‚ //å®šä¹‰ä¸‰ä¸ªå¸¸é‡ const PENDING='pending', //ç­‰å¾… FULFILLED='fulfilled', //æˆåŠŸ REJECTED='rejected'; //å¤±è´¥ class MyPromise{ constructor(exector){ // ç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œä¼ å…¥resolveæ–¹æ³•å’Œrejectæ–¹æ³• exector(this.resolve,this.reject) }; //å®šä¹‰ä¸€ä¸ªåˆå§‹çŠ¶æ€ status=PENDING; //ä¿å­˜æˆåŠŸåçš„å€¼ value=undefined; //ä¿å­˜å¤±è´¥åçš„å€¼ reason=undefined; //æˆåŠŸ resolve=value=&gt;{ //åˆ¤æ–­å½“å‰çŠ¶æ€æ˜¯å¦ä¸ºPENDINGï¼Œå¦‚æœä¸æ˜¯å°±return if(this.status!==PENDING)return; //æ›´æ”¹çŠ¶æ€ä¸ºfulfilled this.status=FULFILLED; //ä¿å­˜æˆåŠŸçš„è¿”å›å€¼ this.value=value; }; //å¤±è´¥ reject=reason=&gt;{ //åˆ¤æ–­å½“å‰çŠ¶æ€æ˜¯å¦ä¸ºPENDINGï¼Œå¦‚æœä¸æ˜¯å°±return if(this.status!==PENDING)return; //æ›´æ”¹çŠ¶æ€ä¸ºrejected this.status=REJECTED; //ä¿å­˜å¤±è´¥çš„è¿”å›å€¼ this.reason=reason; }; //thenæ–¹æ³•ä¼šæ¥æ”¶ä¸¤ä¸ªå›è°ƒå‡½æ•°ï¼Œåˆ†åˆ«ä¸ºæˆåŠŸå’Œå¤±è´¥çš„å›è°ƒå‡½æ•° then(successCallback,failCallback){ //åˆ¤æ–­å½“å‰çŠ¶æ€ï¼Œç„¶åè°ƒç”¨ç›¸åº”çš„å‡½æ•° if(this.status===FULFILLED){ //ä¼ å…¥è¿”å›å€¼ successCallback(this.value) }else if(this.status===REJECTED){ //ä¼ å…¥è¿”å›å€¼ failCallback(this.reason) } } } //å¯¼å‡ºMyPromise module.exports = MyPromise æˆ‘ä»¬ä¸Šé¢åˆ†æçš„åŸºæœ¬å®Œæˆï¼Œæ–°å»ºä¸€ä¸ªindex.jså¯¼å…¥æµ‹è¯•ä¸€ä¸‹ï¼š //index.js const MyPromise=require('./MyPromise'); let n=new MyPromise((resolve,reject)=&gt;{ console.log('lonjin'); resolve(200) // reject('erro') }) n.then((val)=&gt;{ console.log(val) },(erro)=&gt;{ console.log(erro) }) //lonjin //200 è°ƒç”¨ä¹‹åå¯ä»¥æ­£å¸¸è¾“å‡ºï¼Œè¯´æ˜ä¹‹å‰å†™çš„æ²¡æœ‰é—®é¢˜ï¼Œä½†è¿˜æœ‰ä¸ªé—®é¢˜ï¼šæˆ‘ä»¬æ²¡æœ‰è€ƒè™‘å¼‚æ­¥çš„æ—¶å€™è¯¥æ€ä¹ˆåŠï¼Ÿæ¯”å¦‚ä¸‹é¢çš„ä»£ç ï¼š //index.js const MyPromise=require('./MyPromise'); let n=new MyPromise((resolve,reject)=&gt;{ //ç”±äºsetTimeoutä¸ºå¼‚æ­¥ä»£ç ï¼Œthenä¼šé©¬ä¸Šæ‰§è¡Œï¼Œä½†æ­¤æ—¶çŠ¶æ€è¿˜ä¸ºpendingä¹‹å‰å¹¶æ²¡æœ‰åˆ¤æ–­ç­‰å¾…è¿™ä¸ªçŠ¶æ€ setTimeout(() =&gt; { resolve(200) }, 100); }) n.then((val)=&gt;{ console.log(val) },(erro)=&gt;{ console.log(erro) }) å¤„ç†å¼‚æ­¥è°ƒç”¨ ç”±äºæ‰§è¡Œå™¨å¯èƒ½æœ‰å¼‚æ­¥ä»£ç ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨thenæ–¹æ³•ä¸­è¿˜éœ€è¦åˆ¤æ–­ä¸€ä¸‹çŠ¶æ€ï¼Œç„¶ååšç›¸åº”çš„å¤„ç† ä»£ç å¦‚ä¸‹(ä¸ºäº†æ€è·¯æ¸…æ™°ï¼Œåªå¯¹åšæ›´æ”¹çš„åœ°æ–¹åŠ æ³¨é‡Šï¼Œä¼šæ ‡æ³¨å®ç°æ­¥éª¤ï¼ŒæŒ‰æ­¥éª¤é˜…è¯»å³å¯): const PENDING='pending', FULFILLED='fulfilled', REJECTED='rejected'; class MyPromise{ constructor(exector){ exector(this.resolve,this.reject) }; status=PENDING; value=undefined; reason=undefined; //å®šä¹‰ä¸€ä¸ªæˆåŠŸå›è°ƒå‡½æ•° successCallback=undefined; //å®šä¹‰ä¸€ä¸ªå¤±è´¥å›è°ƒå‡½æ•° failCallback=undefined; resolve=value=&gt;{ if(this.status!==PENDING)return; this.status=FULFILLED; this.value=value; /* æ­¥éª¤2 ------------------------------------------------- åˆ¤æ–­æˆåŠŸå›è°ƒæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œç›´æ¥è°ƒç”¨ */ this.successCallback &amp;&amp; this.successCallback(this.value) }; reject=reason=&gt;{ if(this.status!==PENDING)return; this.status=REJECTED; this.reason=reason; /* æ­¥éª¤3 ------------------------------------------------- åˆ¤æ–­å¤±è´¥å›è°ƒæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œç›´æ¥è°ƒç”¨ */ this.failCallback &amp;&amp; this.failCallback(this.reason) }; then(successCallback,failCallback){ if(this.status===FULFILLED){ successCallback(this.value) }else if(this.status===REJECTED){ failCallback(this.reason) }else{ /* æ­¥éª¤1 ------------------------------------------------- ç­‰å¾…çŠ¶æ€ï¼Œå¤„ç†å¼‚æ­¥é€»è¾‘ ç”±äºä¸çŸ¥é“çŠ¶æ€ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠæˆåŠŸå’Œå¤±è´¥çš„å›è°ƒå‡½æ•°å…ˆä¿å­˜èµ·æ¥ ä¿å­˜å›è°ƒå‡½æ•° */ this.successCallback=successCallback; this.failCallback=failCallback; } } } //å¯¼å‡ºMyPromise module.exports = MyPromise éªŒè¯ä»£ç ï¼š //index.js const MyPromise=require('./MyPromise'); let n=new MyPromise((resolve,reject)=&gt;{ //ç”±äºsetTimeoutä¸ºå¼‚æ­¥ä»£ç ï¼Œthenä¼šé©¬ä¸Šæ‰§è¡Œï¼Œä½†æ­¤æ—¶çŠ¶æ€è¿˜ä¸ºpendingä¹‹å‰å¹¶æ²¡æœ‰åˆ¤æ–­ç­‰å¾…è¿™ä¸ªçŠ¶æ€ setTimeout(() =&gt; { resolve(200) }, 100); }) n.then((val)=&gt;{ console.log(val) },(erro)=&gt;{ console.log(erro) }) æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä»£ç å¯ä»¥æ­£å¸¸è¾“å‡ºï¼Œå¼‚æ­¥å°±ç®—å¤„ç†å®Œæˆã€‚ å®ç°then()å¤šæ¬¡è°ƒç”¨ Promiseçš„thenæ–¹æ³•æ˜¯å¯ä»¥è¢«å¤šæ¬¡è°ƒç”¨çš„ã€‚å¦‚æœæ˜¯åŒæ­¥å›è°ƒï¼Œé‚£ä¹ˆç›´æ¥è¿”å›å½“å‰çš„å€¼å°±è¡Œï¼›å¦‚æœæ˜¯å¼‚æ­¥å›è°ƒï¼Œé‚£ä¹ˆä¿å­˜çš„æˆåŠŸå¤±è´¥çš„å›è°ƒï¼Œéœ€è¦ç”¨ä¸åŒçš„å€¼ä¿å­˜ï¼Œå› ä¸ºéƒ½äº’ä¸ç›¸åŒã€‚æ‰€ä»¥ä¹‹å‰çš„ä»£ç éœ€è¦æ”¹é€ ä¸€ä¸‹ã€‚ //index.js const MyPromise=require('./MyPromise'); let n=new MyPromise((resolve,reject)=&gt;{ setTimeout(() =&gt; { resolve(200) }, 100); }) //å¤šæ¬¡è°ƒç”¨çš„æƒ…å†µ ç›®å‰åªä¼šè¾“å‡ºä¸€æ¬¡ n.then((val)=&gt;{ console.log(val) },(erro)=&gt;{ console.log(erro) }) n.then((val)=&gt;{ console.log(val) },(erro)=&gt;{ console.log(erro) }) n.then((val)=&gt;{ console.log(val) },(erro)=&gt;{ console.log(erro) }) ä»£ç å®ç° ä¸ºäº†è§£å†³å¤šæ¬¡è°ƒç”¨çš„æƒ…å†µï¼Œä¹‹å‰æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªsuccessCallbackå›è°ƒå‡½æ•°ï¼Œé»˜è®¤ä¸ºundefined,è¿™æ—¶å€™æˆ‘ä»¬éœ€è¦æŠŠå®ƒæ”¹æˆæ•°ç»„å½¢å¼ï¼Œåœ¨resolveæˆ–rejectå›è°ƒå‡½æ•°ä¸­å–æ•°ç»„æœ€åä¸€ä¸ªä¿å­˜çš„å›è°ƒæ‰§è¡Œå³å¯ const PENDING='pending', FULFILLED='fulfilled', REJECTED='rejected'; class MyPromise{ constructor(exector){ exector(this.resolve,this.reject) }; status=PENDING; value=undefined; reason=undefined; /* æ­¥éª¤1 ------------------------------------- å°†successCallbackå’ŒfailCallbackæ”¹æˆæ•°ç»„ */ successCallback=[]; failCallback=[]; resolve=value=&gt;{ if(this.status!==PENDING)return; this.status=FULFILLED; this.value=value; /* æ­¥éª¤3 ------------------------------------- åˆ¤æ–­successCallbackæ•°ç»„ä¸­æ˜¯å¦æœ‰å€¼ï¼Œæœ‰å€¼çš„è¯å°±å–æ•°ç»„æœ€åçš„æ‰§è¡Œ */ while(this.successCallback.length)this.successCallback.shift()(this.value) }; reject=reason=&gt;{ if(this.status!==PENDING)return; this.status=REJECTED; this.reason=reason; /* æ­¥éª¤4 ------------------------------------- åˆ¤æ–­failCallbackæ•°ç»„ä¸­æ˜¯å¦æœ‰å€¼ï¼Œæœ‰å€¼çš„è¯å°±å–æ•°ç»„æœ€åçš„æ‰§è¡Œ */ while(this.failCallback.length)this.failCallback &amp;&amp; this.failCallback.shift()(this.reason) }; then(successCallback,failCallback){ if(this.status===FULFILLED){ successCallback(this.value) }else if(this.status===REJECTED){ failCallback(this.reason) }else{ /* æ­¥éª¤2 ------------------------------------- å°†successCallbackå’ŒfailCallbackå‡½æ•°pushåˆ°æ•°ç»„ä¸­ */ this.successCallback.push(successCallback); this.failCallback.push(failCallback); } } } module.exports = MyPromise éªŒè¯ä»£ç ï¼š //index.js const MyPromise=require('./MyPromise'); let n=new MyPromise((resolve,reject)=&gt;{ setTimeout(() =&gt; { resolve(200) }, 500); }) n.then((val)=&gt;{ console.log('one-'+val) },(erro)=&gt;{ console.log(erro) }) n.then((val)=&gt;{ console.log('two-'+val) },(erro)=&gt;{ console.log(erro) }) n.then((val)=&gt;{ console.log('three-'+val) },(erro)=&gt;{ console.log(erro) }) /* one-200 two-200 three-200 */ ä»£ç æ­£å¸¸è¾“å‡ºï¼Œè¯æ˜æ— é—®é¢˜ã€‚ å®ç°thenæ–¹æ³•çš„é“¾å¼è°ƒç”¨ è¿˜æ˜¯å…ˆç†ä¸€ä¸‹éœ€æ±‚ï¼Œå†è¿›è¡Œå¼€å‘ï¼š thenæ–¹æ³•çš„é“¾å¼è°ƒç”¨ä¼šè¿”å›ä¸€ä¸ªPromiseï¼Œä¸”thenæ–¹æ³•çš„returnå€¼ä¼šä½œä¸ºå‚æ•°ä¼ ç»™ä¸‹ä¸€ä¸ªthen ä»£ç å®ç° const PENDING='pending', FULFILLED='fulfilled', REJECTED='rejected'; class MyPromise{ constructor(exector){ exector(this.resolve,this.reject) }; status=PENDING; value=undefined; reason=undefined; successCallback=[]; failCallback=[]; resolve=value=&gt;{ if(this.status!==PENDING)return; this.status=FULFILLED; this.value=value; while(this.successCallback.length)this.successCallback.shift()(this.value) }; reject=reason=&gt;{ if(this.status!==PENDING)return; this.status=REJECTED; this.reason=reason; while(this.failCallback.length)this.failCallback &amp;&amp; this.failCallback.shift()(this.reason) }; then(successCallback,failCallback){ /* æ­¥éª¤1 ------------------------ 1.thenæ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªPromise,æ‰€ä»¥è¿™é‡Œéœ€è¦åˆ›å»ºä¸€ä¸ªPromiseï¼Œç„¶åreturnå›å» 2. æˆ‘ä»¬å…ˆæŠŠ æˆåŠŸå›è°ƒå‡½æ•°ä¿å­˜ä¸ºn 3.ç„¶ååœ¨MyPromiseç±»çš„å¤–éƒ¨å†å†™ä¸€ä¸ªresolvePromiseåšå¤„ç† */ let prmoise2=new MyPromise((resolve,reject)=&gt;{ if(this.status===FULFILLED){ //ä¿å­˜æˆåŠŸå›è°ƒå‡½æ•° let n=successCallback(this.value) //ä¼ å…¥resolvePromiseå‡½æ•°ä¸­å»åšåˆ¤æ–­ resolvePromise(n,resolve,reject) }else if(this.status===REJECTED){ failCallback(this.reason) }else{ this.successCallback.push(successCallback); this.failCallback.push(failCallback); } }); return prmoise2; } } /* æ­¥éª¤2 --------------------------- //åˆ¤æ–­xæ˜¯ä¸æ˜¯å…¶å®ä¾‹çš„å¯¹è±¡ */ function resolvePromise(n,resolve,reject){ // åˆ¤æ–­xæ˜¯ä¸æ˜¯å…¶å®ä¾‹å¯¹è±¡ï¼Œå¦‚æœæ˜¯å°±ç›´æ¥è°ƒç”¨thenæ–¹æ³• if(n instanceof MyPromise){ n.then(resolve,reject) }else{ //æ™®é€šå€¼ï¼Œç›´æ¥è°ƒç”¨resolve resolve(n) } } module.exports = MyPromise ğŸš€éªŒè¯ä»£ç  const MyPromise=require('./MyPromise'); let n=new MyPromise((resolve,reject)=&gt;{ resolve('lonjin') }) function m(){ return new MyPromise((resolve,reject)=&gt;{ console.log('------') resolve('hello') }) } n.then((res)=&gt;{ console.log(res) return m(); }) .then((res)=&gt;{ console.log(res) }) /* lonjin ------ hello */ âš ï¸ç‰¹æ®Šæƒ…å†µå¤„ç† 1ï¸âƒ£ å¦‚æœthenæ–¹æ³•è¿”å›çš„æ˜¯è‡ªå·±çš„promiseå¯¹è±¡ï¼Œåˆ™ä¼šå‘ç”Ÿpromiseçš„åµŒå¥—ï¼Œè¿™ä¸ªæ—¶å€™ç¨‹åºä¼šæŠ¥é”™,å¦‚ä¸‹ä»£ç ï¼š var promise = new Promise((resolve, reject) =&gt; { resolve(100) }) var n = promise.then(value =&gt; { console.log(value) return n }) // 100 // Uncaught (in promise) TypeError: Chaining cycle detected for promise #&lt;Promise&gt; 2ï¸âƒ£ åŒæ—¶è¿˜è¦å¤„ç†ä¸€ç§æƒ…å†µï¼Œå¦‚æœæˆ‘ä»¬åœ¨new MyPromiseä¸­ä¼ å…¥çš„ç«‹å³æ‰§è¡Œå™¨ä¸­ä»£ç æŠ¥é”™ï¼Œä»¥åŠthen()ä¸­å†™çš„ä»£ç æŠ¥é”™ï¼Œæˆ‘ä»¬éƒ½éœ€è¦æ•è·åˆ°ï¼Œç„¶åæ‰§è¡Œreject 3ï¸âƒ£ ä¹‹å‰ä¸€ç›´æ˜¯å¤„ç†resolveçš„æƒ…å†µï¼Œè¿˜éœ€è¦å¤„ç†ä¸€ä¸‹rejectçš„æƒ…å†µ è¿™æ—¶å€™æˆ‘ä»¬éœ€è¦æ”¹é€ ä¸€ä¸‹åˆšæ‰å†™çš„ä»£ç ï¼š const PENDING='pending', FULFILLED='fulfilled', REJECTED='rejected'; class MyPromise{ /* æ­¥éª¤1 ------------------- æ•è·ä¸€ä¸‹ç«‹å³æ‰§è¡Œå™¨ä¸­çš„é”™è¯¯ */ constructor(exector){ try{ exector(this.resolve,this.reject) }catch(e){ reject(e) } }; status=PENDING; value=undefined; reason=undefined; successCallback=[]; failCallback=[]; resolve=value=&gt;{ if(this.status!==PENDING)return; this.status=FULFILLED; this.value=value; /* æ­¥éª¤6 ------------- ç”±äºä¿®æ”¹äº†ä¸‹é¢çš„successCallbackï¼Œæ‰€ä»¥ä¸éœ€è¦ä¼ é€’this.value */ while(this.successCallback.length)this.successCallback.shift()() }; reject=reason=&gt;{ if(this.status!==PENDING)return; this.status=REJECTED; this.reason=reason; /* æ­¥éª¤7 ------------- ç”±äºä¿®æ”¹äº†ä¸‹é¢çš„failCallbackï¼Œæ‰€ä»¥ä¸éœ€è¦ä¼ é€’this.reason */ while(this.failCallback.length)this.failCallback &amp;&amp; this.failCallback.shift()() }; then(successCallback,failCallback){ let prmoise2=new MyPromise((resolve,reject)=&gt;{ if(this.status===FULFILLED){ /* æ­¥éª¤2 --------------------- å› ä¸ºnew Promiseéœ€è¦æ‰§è¡Œå®Œæˆä¹‹åæ‰æœ‰promise2ï¼ŒåŒæ­¥ä»£ç ä¸­æ²¡æœ‰pormise2ï¼Œ æ‰€ä»¥è¿™éƒ¨åˆ†ä»£ç éœ€è¦å¼‚æ­¥æ‰§è¡Œ ï¼Œæˆ‘ä»¬æŠŠprmoise2ä¼ å…¥resolvePromiseå‡½æ•°ä¸­ å»åˆ¤æ–­ä¸€ä¸‹prmoise2æ˜¯å¦ç­‰äºnï¼ŒåŒæ—¶éœ€è¦æ•è·ä¸€ä¸‹é”™è¯¯ */ setTimeout(() =&gt; { try{ let n=successCallback(this.value) resolvePromise(prmoise2,n,resolve,reject) }catch(e){ reject(e) } }, 0); }else if(this.status===REJECTED){ /* æ­¥éª¤3 --------------------- å¤„ç†ä¸€ä¸‹å¤±è´¥çš„æƒ…å†µ */ setTimeout(() =&gt; { try{ let n= failCallback(this.reason) resolvePromise(prmoise2,n,resolve,reject) }catch(e){ reject(e) } }, 0); }else{ /* æ­¥éª¤5 --------------------- ä¿®æ”¹ä¸€ä¸‹å¼‚æ­¥æƒ…å†µ */ this.successCallback.push(()=&gt;{ setTimeout(() =&gt; { try{ let n=successCallback(this.value) resolvePromise(prmoise2,n,resolve,reject) }catch(e){ reject(e) } }, 0); }); this.failCallback.push(()=&gt;{ setTimeout(() =&gt; { try{ let n= failCallback(this.reason) resolvePromise(prmoise2,n,resolve,reject) }catch(e){ reject(e) } }, 0); }); } }); return prmoise2; } } function resolvePromise(prmoise2,n,resolve,reject){ /* æ­¥éª¤4 ---------------- å¦‚æœnå’Œprmoise2ç›¸ç­‰ åˆ™è¿”å›é”™è¯¯æç¤º */ if(prmoise2===n){ return reject(new TypeError('Chaining cycle detected for promise #&lt;Promise&gt;')) } // åˆ¤æ–­xæ˜¯ä¸æ˜¯å…¶å®ä¾‹å¯¹è±¡ if(n instanceof MyPromise){ n.then(resolve,reject) }else{ //æ™®é€šå€¼ï¼Œç›´æ¥è°ƒç”¨resolve resolve(n) } } //å¯¼å‡ºMyPromise module.exports = MyPromise ğŸš€éªŒè¯ä»£ç  //éªŒè¯1 //index.js const MyPromise = require('./myPromise') var promise = new MyPromise((resolve, reject) =&gt; { resolve(100) }) var p1 = promise.then(value =&gt; { console.log(value) return p1 }) p1.then((val)=&gt;{ console.log(val) },(erro)=&gt;{ console.log(erro.message) }) // 100 // Chaining cycle detected for promise #&lt;Promise&gt; //éªŒè¯2 var errofn = new MyPromise((resolve, reject) =&gt; { throw new Error('æ‰§è¡Œå™¨æŠ›å‡ºå¼‚å¸¸ï¼') }) errofn.then((val)=&gt;{ console.log(val) },(erro)=&gt;{ console.log(erro) }) // æ‰§è¡Œå™¨é”™è¯¯ å°†thenæ–¹æ³•çš„å‚æ•°å˜æˆå¯é€‰å‚æ•° æˆ‘ä»¬çŸ¥é“ï¼Œè°ƒç”¨then()æ—¶å€™ä¹Ÿå¯ä»¥ä¸ä¼ é€’ä»»ä½•å‚æ•°ï¼Œå¦‚ä¸‹é¢è¿™ç§æƒ…å†µ let promise =new Promise((resolve,reject)=&gt;{ resolve('lonjin') }) promise.then().then().then((value)=&gt;{ console.log(value) }) //lonjin ç›¸å½“äºè¿™æ ·ï¼š promise .then(value =&gt; value) .then(value =&gt; value) .then(value =&gt; value) .then(value =&gt; console.log(value)) æ‰€ä»¥æˆ‘ä»¬è¦æŠŠthenæ–¹æ³•çš„å‚æ•°æ”¹ä¸ºå¯é€‰å‚æ•°ï¼Œå¦‚æœæœ‰å‚æ•°å°±ä¼ å…¥ï¼Œå¦‚æœæ²¡æœ‰è¿”å›value: ä»£ç å®ç° const PENDING='pending', FULFILLED='fulfilled', REJECTED='rejected'; class MyPromise{ constructor(exector){ try{ exector(this.resolve,this.reject) }catch(e){ reject(e) } }; status=PENDING; value=undefined; reason=undefined; successCallback=[]; failCallback=[]; resolve=value=&gt;{ if(this.status!==PENDING)return; this.status=FULFILLED; this.value=value; while(this.successCallback.length)this.successCallback.shift()() }; reject=reason=&gt;{ if(this.status!==PENDING)return; this.status=REJECTED; this.reason=reason; while(this.failCallback.length)this.failCallback &amp;&amp; this.failCallback.shift()() }; then(successCallback,failCallback){ /*æ­¥éª¤1 ---------------- åˆ¤æ–­å‚æ•°æ˜¯å¦å­˜åœ¨ */ successCallback=successCallback?successCallback:value=&gt;value; failCallback=failCallback?failCallback:reason=&gt;{throw reason}; let prmoise2=new MyPromise((resolve,reject)=&gt;{ if(this.status===FULFILLED){ setTimeout(() =&gt; { try{ let n=successCallback(this.value) resolvePromise(prmoise2,n,resolve,reject) }catch(e){ reject(e) } }, 0); }else if(this.status===REJECTED){ setTimeout(() =&gt; { try{ let n= failCallback(this.reason) resolvePromise(prmoise2,n,resolve,reject) }catch(e){ reject(e) } }, 0); }else{ this.successCallback.push(()=&gt;{ setTimeout(() =&gt; { try{ let n=successCallback(this.value) resolvePromise(prmoise2,n,resolve,reject) }catch(e){ reject(e) } }, 0); }); this.failCallback.push(()=&gt;{ setTimeout(() =&gt; { try{ let n= failCallback(this.reason) resolvePromise(prmoise2,n,resolve,reject) }catch(e){ reject(e) } }, 0); }); } }); return prmoise2; } } function resolvePromise(prmoise2,n,resolve,reject){ if(prmoise2===n){ return reject(new TypeError('Chaining cycle detected for promise #&lt;Promise&gt;')) } if(n instanceof MyPromise){ n.then(resolve,reject) }else{ resolve(n) } } module.exports = MyPromise ğŸš€éªŒè¯ä»£ç  const MyPromise = require('./myPromise') let promise =new MyPromise((resolve,reject)=&gt;{ resolve('lonjin') }) promise.then().then().then((value)=&gt;{ console.log(value) }) //lonjin Promise.all()æ–¹æ³•å®ç° è¿˜æ˜¯å…ˆåˆ†æä¸€ä¸‹allæ–¹æ³•ï¼š function fn1(){ return new Promise((resolve,reject)=&gt;{ setTimeout(() =&gt; { resolve('fn1') }, 3000); }) } function fn2(){ return new Promise((resolve,reject)=&gt;{ resolve('fn2') }) } Promise.all(['a','b',fn1(),fn2(),'e']) .then((res)=&gt;{ console.log(res) },(erro)=&gt;{ console.log(erro) }) //[ 'a', 'b', 'fn1', 'fn2', 'e' ] allæ–¹æ³•æ¥æ”¶ä¸€ä¸ªæ•°ç»„ï¼Œå…¶å†…éƒ¨å¯ä»¥ä¼ å…¥æ™®é€šå€¼å’ŒPromiseå¯¹è±¡ allæ–¹æ³•è¿”å›çš„ä¹Ÿæ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œå…¶è¿”å›å€¼ä¸ºä¸€ä¸ªæ•°ç»„ allæ–¹æ³•ä¸­ä¼ å…¥çš„Promiseå¯¹è±¡ï¼Œå¦‚æœéƒ½æ˜¯æˆåŠŸï¼Œè¿”å›ä¸ºæˆåŠŸï¼Œå¦‚æœæœ‰ä¸€ä¸ªå¤±è´¥ï¼Œå°±ä¼šèµ°å¤±è´¥çš„å›è°ƒå‡½æ•° åˆ†æå®Œä»£ç ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿›è¡Œç¼–å†™äº†ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š ä»£ç å®ç° const PENDING='pending', FULFILLED='fulfilled', REJECTED='rejected'; class MyPromise{ constructor(exector){ try{ exector(this.resolve,this.reject) }catch(e){ reject(e) } }; status=PENDING; value=undefined; reason=undefined; successCallback=[]; failCallback=[]; resolve=value=&gt;{ if(this.status!==PENDING)return; this.status=FULFILLED; this.value=value; while(this.successCallback.length)this.successCallback.shift()() }; reject=reason=&gt;{ if(this.status!==PENDING)return; this.status=REJECTED; this.reason=reason; while(this.failCallback.length)this.failCallback &amp;&amp; this.failCallback.shift()() }; then(successCallback,failCallback){ successCallback=successCallback?successCallback:value=&gt;value; failCallback=failCallback?failCallback:reason=&gt;{throw reason}; let prmoise2=new MyPromise((resolve,reject)=&gt;{ if(this.status===FULFILLED){ setTimeout(() =&gt; { try{ let n=successCallback(this.value) resolvePromise(prmoise2,n,resolve,reject) }catch(e){ reject(e) } }, 0); }else if(this.status===REJECTED){ setTimeout(() =&gt; { try{ let n= failCallback(this.reason) resolvePromise(prmoise2,n,resolve,reject) }catch(e){ reject(e) } }, 0); }else{ this.successCallback.push(()=&gt;{ setTimeout(() =&gt; { try{ let n=successCallback(this.value) resolvePromise(prmoise2,n,resolve,reject) }catch(e){ reject(e) } }, 0); }); this.failCallback.push(()=&gt;{ setTimeout(() =&gt; { try{ let n= failCallback(this.reason) resolvePromise(prmoise2,n,resolve,reject) }catch(e){ reject(e) } }, 0); }); } }); return prmoise2; }; /* all()å®ç°allæ–¹æ³• */ static all(array){ // è¦è¿”å›çš„æ•°ç»„ let result=[]; //è®°å½•æ‰§è¡Œæ¬¡æ•° let index=0; //allæ–¹æ³•è¿”å›çš„ä¹Ÿæ˜¯ä¸€ä¸ªpromise return new MyPromise((resolve,reject)=&gt;{ //å®šä¹‰ä¸€ä¸ªå­˜åˆ°resultæ•°ç»„ä¸­çš„æ–¹æ³• function addItem(key,value){ result[key]=value; index++; //å¦‚æœindexç­‰äºä¼ å…¥arrayçš„é•¿åº¦ï¼Œè¯´æ˜æ‰§è¡Œå®Œæˆ if(index==array.length){ resolve(result) } } //å¾ªç¯array for(let i=0;i&lt;array.length;i++){ //å½“å‰çš„å‚æ•° let current=array[i]; //åˆ¤æ–­ä¸€ä¸‹å½“å‰çš„è¿”å›å€¼æ˜¯æ™®é€šå€¼è¿˜æ˜¯promise if(current instanceof MyPromise){ current.then(value=&gt;addItem(i,value),reason=&gt;reject(reason)); }else{ addItem(i,current) } } }) } } function resolvePromise(prmoise2,n,resolve,reject){ if(prmoise2===n){ return reject(new TypeError('Chaining cycle detected for promise #&lt;Promise&gt;')) } if(n instanceof MyPromise){ n.then(resolve,reject) }else{ resolve(n) } } module.exports = MyPromise Promise.resolve()æ–¹æ³•å®ç° resolveæ–¹æ³•å¯ä»¥æ¥å—ä¸€ä¸ªprmoiseå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æ¥æ”¶ä¸€ä¸ªæ™®é€šå€¼ï¼Œå¦‚æœæ˜¯æ™®é€šå€¼éœ€è¦åŒ…è£…æˆä¸€ä¸ªprmoiseè¿”å›ã€‚ ä»£ç å®ç° const PENDING='pending', FULFILLED='fulfilled', REJECTED='rejected'; class MyPromise{ constructor(exector){ try{ exector(this.resolve,this.reject) }catch(e){ reject(e) } }; status=PENDING; value=undefined; reason=undefined; successCallback=[]; failCallback=[]; resolve=value=&gt;{ if(this.status!==PENDING)return; this.status=FULFILLED; this.value=value; while(this.successCallback.length)this.successCallback.shift()() }; reject=reason=&gt;{ if(this.status!==PENDING)return; this.status=REJECTED; this.reason=reason; while(this.failCallback.length)this.failCallback &amp;&amp; this.failCallback.shift()() }; then(successCallback,failCallback){ successCallback=successCallback?successCallback:value=&gt;value; failCallback=failCallback?failCallback:reason=&gt;{throw reason}; let prmoise2=new MyPromise((resolve,reject)=&gt;{ if(this.status===FULFILLED){ setTimeout(() =&gt; { try{ let n=successCallback(this.value) resolvePromise(prmoise2,n,resolve,reject) }catch(e){ reject(e) } }, 0); }else if(this.status===REJECTED){ setTimeout(() =&gt; { try{ let n= failCallback(this.reason) resolvePromise(prmoise2,n,resolve,reject) }catch(e){ reject(e) } }, 0); }else{ this.successCallback.push(()=&gt;{ setTimeout(() =&gt; { try{ let n=successCallback(this.value) resolvePromise(prmoise2,n,resolve,reject) }catch(e){ reject(e) } }, 0); }); this.failCallback.push(()=&gt;{ setTimeout(() =&gt; { try{ let n= failCallback(this.reason) resolvePromise(prmoise2,n,resolve,reject) }catch(e){ reject(e) } }, 0); }); } }); return prmoise2; }; static all(array){ let result=[]; let index=0; return new MyPromise((resolve,reject)=&gt;{ function addItem(key,value){ result[key]=value; index++; if(index==array.length){ resolve(result) } } for(let i=0;i&lt;array.length;i++){ let current=array[i]; if(current instanceof MyPromise){ current.then(value=&gt;addItem(i,value),reason=&gt;reject(reason)); }else{ addItem(i,current) } } }) }; /* resolveæ–¹æ³• */ static resolve(value){ //åˆ¤æ–­value æ˜¯å¦ä¸ºMyPromiseçš„å®ä¾‹ï¼Œå¦‚æœæ˜¯ï¼Œç›´æ¥è¿”å› if( value instanceof MyPromise) return value; //å¦‚æœä¸æ˜¯ï¼Œreturnä¸€ä¸ªprmoise return new MyPromise(resolve=&gt;resolve(value)) } } function resolvePromise(prmoise2,n,resolve,reject){ if(prmoise2===n){ return reject(new TypeError('Chaining cycle detected for promise #&lt;Promise&gt;')) } if(n instanceof MyPromise){ n.then(resolve,reject) }else{ resolve(n) } } module.exports = MyPromise ä»£ç éªŒè¯ const MyPromise = require('./myPromise'); MyPromise.resolve('lonjin').then((res)=&gt;{ console.log(res) }); //lonjin finally()æ–¹æ³•å®ç° finally()æ–¹æ³•è¿”å›ä¸€ä¸ªPromiseã€‚åœ¨Promiseç»“æŸæ—¶ï¼Œæ— è®ºç»“æœæ˜¯fulfilledæˆ–è€…æ˜¯rejectedï¼Œéƒ½ä¼šæ‰§è¡ŒæŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚è¿™ä¸ºåœ¨Promiseæ˜¯å¦æˆåŠŸå®Œæˆåéƒ½éœ€è¦æ‰§è¡Œçš„ä»£ç æä¾›äº†ä¸€ç§æ–¹å¼ã€‚ è¿™é¿å…äº†åŒæ ·çš„è¯­å¥éœ€è¦åœ¨then()å’Œcatch()ä¸­å„å†™ä¸€æ¬¡çš„æƒ…å†µã€‚ è¿”å›çš„æ˜¯Promise æ— è®ºæˆåŠŸå’Œå¤±è´¥éƒ½ä¼šæ‰§è¡Œ ä»£ç å®ç° //MyPromiseä¸­ finally(callback){ // ä½¿ç”¨thenæ–¹æ³•æ‹¿åˆ°å½“å‰çš„promiseçš„çŠ¶æ€ return this.then(value=&gt;{ /* å¦‚æœcallbackæ˜¯ä¸€ä¸ªå¼‚æ­¥çš„promiseå¯¹è±¡ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç­‰å¾…å…¶æ‰§è¡Œå®Œæ¯•ï¼Œæ‰€ä»¥éœ€è¦ç”¨åˆ°é™æ€æ–¹æ³•resolve æŠŠcallbackè°ƒç”¨ä¹‹åè¿”å›çš„promiseä¼ é€’è¿‡å»ï¼Œå¹¶ä¸”æ‰§è¡Œpromiseï¼Œä¸”åœ¨æˆåŠŸä¹‹åè¿”å›value */ return MyPromise.resolve(callback()).then(()=&gt;value) },reason=&gt;{ // å¤±è´¥ä¹‹åè°ƒç”¨çš„thenæ–¹æ³•ï¼Œç„¶åæŠŠå¤±è´¥çš„åŸå› è¿”å›å‡ºå» return MyPromise.resolve(callback()).then(() =&gt; { throw reason }) }) } ä»£ç éªŒè¯ const MyPromise = require('./myPromise') function fn1(){ return new MyPromise((resolve,reject)=&gt;{ setTimeout(() =&gt; { reject('100') }, 3000); }) } fn1().finally(()=&gt;{ console.log('finally') }).then((value)=&gt;{ console.log(value) },(erro)=&gt;{ console.log(erro) }) //finally // 100 catchæ–¹æ³•çš„å®ç° catchæ–¹æ³•æ˜¯ä¸ºäº†æ•è·promiseå¯¹è±¡çš„æ‰€æœ‰é”™è¯¯å›è°ƒçš„ ç›´æ¥è°ƒç”¨thenæ–¹æ³•ï¼Œç„¶åæˆåŠŸçš„åœ°æ–¹ä¼ é€’undefinedï¼Œé”™è¯¯çš„åœ°æ–¹ä¼ é€’reason catchæ–¹æ³•æ˜¯ä½œç”¨åœ¨åŸå‹å¯¹è±¡ä¸Šçš„æ–¹æ³• ä»£ç å®ç° catch (failCallback) { // ç›´æ¥è°ƒç”¨thenæ–¹æ³•ï¼Œç„¶åæˆåŠŸçš„åœ°æ–¹ä¼ é€’undefinedï¼Œé”™è¯¯çš„åœ°æ–¹ä¼ é€’reason return this.then(undefined, failCallback) } å®Œæ•´ä»£ç  å®Œæ•´ä»£ç åœ¨ä¸‹æ–¹ï¼Œæ‰€æœ‰çš„éƒ½åŠ äº†æ³¨é‡Šï¼Œéœ€è¦çš„ç›´æ¥å¤åˆ¶åˆ°ç¼–è¾‘å™¨çœ‹å§ï¼ //å®šä¹‰ä¸‰ä¸ªå¸¸é‡ const PENDING='pending', //ç­‰å¾… FULFILLED='fulfilled', //æˆåŠŸ REJECTED='rejected'; //å¤±è´¥ class MyPromise{ constructor(exector){ // ç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œä¼ å…¥resolveæ–¹æ³•å’Œrejectæ–¹æ³• //åŒæ—¶æ•è·ä¸€ä¸‹é”™è¯¯ try{ exector(this.resolve,this.reject) }catch(e){ this.reject(e) } }; //å®šä¹‰ä¸€ä¸ªåˆå§‹çŠ¶æ€ status=PENDING; //ä¿å­˜æˆåŠŸåçš„å€¼ value=undefined; //ä¿å­˜å¤±è´¥åçš„å€¼ reason=undefined; //å®šä¹‰ä¸€ä¸ªæˆåŠŸå›è°ƒå‡½æ•° successCallback=[]; //å®šä¹‰ä¸€ä¸ªå¤±è´¥å›è°ƒå‡½æ•° failCallback=[]; //æˆåŠŸ resolve=value=&gt;{ //åˆ¤æ–­å½“å‰çŠ¶æ€æ˜¯å¦ä¸ºPENDINGï¼Œå¦‚æœä¸æ˜¯å°±return if(this.status!==PENDING)return; //æ›´æ”¹çŠ¶æ€ä¸ºfulfilled this.status=FULFILLED; //ä¿å­˜æˆåŠŸçš„è¿”å›å€¼ this.value=value; //åˆ¤æ–­æˆåŠŸå›è°ƒæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œç›´æ¥è°ƒç”¨ while(this.successCallback.length)this.successCallback.shift()() }; //å¤±è´¥ reject=reason=&gt;{ //åˆ¤æ–­å½“å‰çŠ¶æ€æ˜¯å¦ä¸ºPENDINGï¼Œå¦‚æœä¸æ˜¯å°±return if(this.status!==PENDING)return; //æ›´æ”¹çŠ¶æ€ä¸ºrejected this.status=REJECTED; //ä¿å­˜å¤±è´¥çš„è¿”å›å€¼ this.reason=reason; //åˆ¤æ–­æˆåŠŸå›è°ƒæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œç›´æ¥è°ƒç”¨ while(this.failCallback.length)this.failCallback &amp;&amp; this.failCallback.shift()() }; //thenæ–¹æ³•ä¼šæ¥æ”¶ä¸¤ä¸ªå›è°ƒå‡½æ•°ï¼Œåˆ†åˆ«ä¸ºæˆåŠŸå’Œå¤±è´¥çš„å›è°ƒå‡½æ•° then(successCallback,failCallback){ //å¤„ç†thenæ–¹æ³•å¯é€‰å‚æ•° successCallback=successCallback?successCallback:value=&gt;value; failCallback=failCallback?failCallback:reason=&gt;{throw reason} let prmoise2=new MyPromise((resolve,reject)=&gt;{ //åˆ¤æ–­å½“å‰çŠ¶æ€ï¼Œç„¶åè°ƒç”¨ç›¸åº”çš„å‡½æ•° if(this.status===FULFILLED){ //æˆåŠŸçŠ¶æ€ //ä¼ å…¥è¿”å›å€¼ /*å› ä¸ºnew Promiseéœ€è¦æ‰§è¡Œå®Œæˆä¹‹åæ‰æœ‰promise2ï¼ŒåŒæ­¥ä»£ç ä¸­æ²¡æœ‰pormise2ï¼Œ æ‰€ä»¥è¿™éƒ¨åˆ†ä»£ç éœ€è¦å¼‚æ­¥æ‰§è¡Œ */ setTimeout(() =&gt; { //æ•è·é”™è¯¯ try{ let n=successCallback(this.value) resolvePromise(prmoise2,n,resolve,reject) }catch(e){ reject(e) } }, 0); }else if(this.status===REJECTED){ //å¤±è´¥çŠ¶æ€ //ä¼ å…¥è¿”å›å€¼ setTimeout(() =&gt; { //æ•è·é”™è¯¯ try{ let n= failCallback(this.reason) resolvePromise(prmoise2,n,resolve,reject) }catch(e){ reject(e) } }, 0); }else{ //ç­‰å¾…çŠ¶æ€ //ä¿å­˜å›è°ƒå‡½æ•°(è€ƒè™‘åˆ°å¼‚æ­¥æƒ…å†µ) this.successCallback.push(()=&gt;{ setTimeout(() =&gt; { //æ•è·é”™è¯¯ try{ let n=successCallback(this.value) resolvePromise(prmoise2,n,resolve,reject) }catch(e){ reject(e) } }, 0); }); this.failCallback.push(()=&gt;{ setTimeout(() =&gt; { //æ•è·é”™è¯¯ try{ let n= failCallback(this.reason) resolvePromise(prmoise2,n,resolve,reject) }catch(e){ reject(e) } }, 0); }); } }); return prmoise2; }; // ç›´æ¥è°ƒç”¨thenæ–¹æ³•ï¼Œç„¶åæˆåŠŸçš„åœ°æ–¹ä¼ é€’undefinedï¼Œé”™è¯¯çš„åœ°æ–¹ä¼ é€’reason catch (failCallback) { return this.then(undefined, failCallback) } finally(callback){ // ä½¿ç”¨thenæ–¹æ³•æ‹¿åˆ°å½“å‰çš„promiseçš„çŠ¶æ€ return this.then(value=&gt;{ /* å¦‚æœcallbackæ˜¯ä¸€ä¸ªå¼‚æ­¥çš„promiseå¯¹è±¡ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç­‰å¾…å…¶æ‰§è¡Œå®Œæ¯•ï¼Œæ‰€ä»¥éœ€è¦ç”¨åˆ°é™æ€æ–¹æ³•resolve æŠŠcallbackè°ƒç”¨ä¹‹åè¿”å›çš„promiseä¼ é€’è¿‡å»ï¼Œå¹¶ä¸”æ‰§è¡Œpromiseï¼Œä¸”åœ¨æˆåŠŸä¹‹åè¿”å›value */ return MyPromise.resolve(callback()).then(()=&gt;value) },reason=&gt;{ // å¤±è´¥ä¹‹åè°ƒç”¨çš„thenæ–¹æ³•ï¼Œç„¶åæŠŠå¤±è´¥çš„åŸå› è¿”å›å‡ºå» return MyPromise.resolve(callback()).then(() =&gt; { throw reason }) }) } static all(array){ // è¦è¿”å›çš„æ•°ç»„ let result=[]; //è®°å½•æ‰§è¡Œæ¬¡æ•° let index=0; //allæ–¹æ³•è¿”å›çš„ä¹Ÿæ˜¯ä¸€ä¸ªpromise return new MyPromise((resolve,reject)=&gt;{ //å®šä¹‰ä¸€ä¸ªå­˜åˆ°resultæ•°ç»„ä¸­çš„æ–¹æ³• function addItem(key,value){ result[key]=value; index++; if(index==array.length){ resolve(result) } } //å¾ªç¯array for(let i=0;i&lt;array.length;i++){ //å½“å‰çš„å‚æ•° let current=array[i]; //åˆ¤æ–­ä¸€ä¸‹å½“å‰çš„è¿”å›å€¼æ˜¯æ™®é€šå€¼è¿˜æ˜¯promise if(current instanceof MyPromise){ current.then(value=&gt;addItem(i,value),reason=&gt;reject(reason)); }else{ addItem(i,current) } } }) }; static resolve(value){ //åˆ¤æ–­value æ˜¯å¦ä¸ºMyPromiseçš„å®ä¾‹ï¼Œå¦‚æœæ˜¯ï¼Œç›´æ¥è¿”å› if( value instanceof MyPromise) return value; //å¦‚æœä¸æ˜¯ï¼Œreturnä¸€ä¸ªprmoise return new MyPromise(resolve=&gt;resolve(value)) } } //åˆ¤æ–­xæ˜¯ä¸æ˜¯å…¶å®ä¾‹çš„å¯¹è±¡ function resolvePromise(prmoise2,n,resolve,reject){ //å¦‚æœnå’Œprmoise2ç›¸ç­‰ åˆ™è¿”å›é”™è¯¯æç¤º if(prmoise2===n){ console.log('ç›¸ç­‰') return reject(new TypeError('Chaining cycle detected for promise #&lt;Promise&gt;')) } // åˆ¤æ–­xæ˜¯ä¸æ˜¯å…¶å®ä¾‹å¯¹è±¡ if(n instanceof MyPromise){ n.then(resolve,reject) }else{ //æ™®é€šå€¼ï¼Œç›´æ¥è°ƒç”¨resolve resolve(n) } } //å¯¼å‡ºMyPromise module.exports = MyPromise ","link":"https://lonjinup.github.io/shou-xie-promise-tai-nan-chai-feng-zu-he-fa-ni-ye-ke-yi-shou-xie-promise/"},{"title":"JavaScriptå¼‚æ­¥ç¼–ç¨‹","content":"JavaScriptå¼‚æ­¥ç¼–ç¨‹ é‡‡ç”¨å•çº¿ç¨‹æ¨¡å¼å·¥ä½œçš„åŸå›  æœ€æ—©jsè¯­è¨€å°±æ˜¯è¿è¡Œåœ¨æµè§ˆå™¨ç«¯çš„è¯­è¨€ï¼Œç›®çš„æ˜¯ä¸ºäº†å®ç°é¡µé¢ä¸Šçš„åŠ¨æ€äº¤äº’ã€‚å®ç°é¡µé¢äº¤äº’çš„æ ¸å¿ƒå°±æ˜¯DOMæ“ä½œï¼Œè¿™å°±å†³å®šäº†å®ƒå¿…é¡»ä½¿ç”¨å•çº¿ç¨‹æ¨¡å‹ï¼Œå¦åˆ™å°±ä¼šå‡ºç°å¾ˆå¤æ‚çš„çº¿ç¨‹åŒæ­¥é—®é¢˜ã€‚ å‡è®¾åœ¨jsä¸­æœ‰å¤šä¸ªçº¿ç¨‹ä¸€èµ·å·¥ä½œï¼Œå…¶ä¸­ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†è¿™ä¸ªDOMå…ƒç´ ï¼ŒåŒæ—¶å¦ä¸€ä¸ªçº¿ç¨‹åˆåˆ é™¤äº†è¿™ä¸ªå…ƒç´ ï¼Œæ­¤æ—¶æµè§ˆå™¨å°±æ— æ³•æ˜ç¡®è¯¥ä»¥å“ªä¸ªå·¥ä½œçº¿ç¨‹ä¸ºå‡†ã€‚æ‰€ä»¥ä¸ºäº†é¿å…çº¿ç¨‹åŒæ­¥çš„é—®é¢˜ï¼Œä»ä¸€å¼€å§‹ï¼Œjså°±è®¾è®¡æˆäº†å•çº¿ç¨‹çš„å·¥ä½œæ¨¡å¼ã€‚æ‰€ä»¥ï¼Œjsæ‰§è¡Œç¯å¢ƒä¸­è´Ÿè´£æ‰§è¡Œä»£ç çš„çº¿ç¨‹åªæœ‰ä¸€ä¸ªã€‚ å•çº¿ç¨‹çš„ä¼˜åŠ¿å’Œå¼Šç«¯ è¿™ç§æ¨¡å¼æœ€å¤§çš„ä¼˜åŠ¿å°±æ˜¯æ›´å®‰å…¨ï¼Œæ›´ç®€å•ï¼Œç¼ºç‚¹ä¹Ÿå¾ˆæ˜ç¡®ï¼Œå°±æ˜¯å¦‚æœä¸­é—´æœ‰ä¸€ä¸ªç‰¹åˆ«è€—æ—¶çš„ä»»åŠ¡ï¼Œå…¶ä»–çš„ä»»åŠ¡å°±è¦ç­‰å¾…å¾ˆé•¿çš„æ—¶é—´ï¼Œå‡ºç°å‡æ­»çš„æƒ…å†µã€‚ ä¸ºäº†è§£å†³è¿™ç§é—®é¢˜ï¼Œjsæœ‰ä¸¤ç§ä»»åŠ¡çš„æ‰§è¡Œæ¨¡å¼ï¼šåŒæ­¥æ¨¡å¼ï¼ˆSynchronousï¼‰å’Œå¼‚æ­¥æ¨¡å¼ï¼ˆAsynchronousï¼‰ã€‚ åŒæ­¥æ¨¡å¼ä¸å¼‚æ­¥æ¨¡å¼ åŒæ­¥æ¨¡å¼APIå’Œå¼‚æ­¥æ¨¡å¼APIçš„ç‰¹ç‚¹: åŒæ­¥æ¨¡å¼çš„APIçš„ç‰¹ç‚¹å°±æ˜¯ä»»åŠ¡æ‰§è¡Œå®Œä»£ç æ‰ä¼šç»§ç»­å¾€ä¸‹èµ°ï¼Œä¾‹å¦‚ï¼šconsole.log å¼‚æ­¥æ¨¡å¼çš„APIçš„ç‰¹ç‚¹å°±æ˜¯ä¸‹è¾¾è¿™ä¸ªä»»åŠ¡å¼€å¯çš„æŒ‡ä»¤ä¹‹åä»£ç å°±ä¼šç»§ç»­æ‰§è¡Œï¼Œä»£ç ä¸ä¼šç­‰å¾…ä»»åŠ¡çš„ç»“æŸ åŒæ­¥æ¨¡å¼ åŒæ­¥æ¨¡å¼ ï¼šæŒ‡çš„æ˜¯ä»£ç çš„ä»»åŠ¡ä¾æ¬¡æ‰§è¡Œï¼Œåä¸€ä¸ªä»»åŠ¡å¿…é¡»ç­‰å¾…å‰ä¸€ä¸ªä»»åŠ¡ç»“æŸæ‰èƒ½å¼€å§‹æ‰§è¡Œã€‚ç¨‹åºçš„æ‰§è¡Œé¡ºåºå’Œä»£ç çš„ç¼–å†™é¡ºåºæ˜¯å®Œå…¨ä¸€è‡´çš„ã€‚åœ¨å•çº¿ç¨‹æ¨¡å¼ä¸‹ï¼Œå¤§å¤šæ•°ä»»åŠ¡éƒ½ä¼šä»¥åŒæ­¥æ¨¡å¼æ‰§è¡Œã€‚ console.log('hello') function fn () { console.log('fn') } function say () { console.log('say hello') fn() } say() console.log('bye') // hello // say hello // fn // bye // ä½¿ç”¨è°ƒç”¨æ ˆçš„é€»è¾‘ å¼‚æ­¥æ¨¡å¼ å¼‚æ­¥æ¨¡å¼ï¼š ä¸ä¼šå»ç­‰å¾…è¿™ä¸ªä»»åŠ¡çš„ç»“æŸæ‰å¼€å§‹ä¸‹ä¸€ä¸ªä»»åŠ¡ï¼Œéƒ½æ˜¯å¼€å¯è¿‡åå°±ç«‹å³å¾€åæ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡ã€‚è€—æ—¶å‡½æ•°çš„åç»­é€»è¾‘ä¼šé€šè¿‡å›è°ƒå‡½æ•°çš„æ–¹å¼å®šä¹‰ã€‚åœ¨å†…éƒ¨ï¼Œè€—æ—¶ä»»åŠ¡å®Œæˆè¿‡åå°±ä¼šè‡ªåŠ¨æ‰§è¡Œä¼ å…¥çš„å›è°ƒå‡½æ•°ã€‚ console.log('timer1') // å»¶æ—¶å™¨ setTimeout(function timer1 () { console.log('timer2') }, 1800) // å»¶æ—¶å™¨ä¸­åˆåµŒå¥—äº†ä¸€ä¸ªå»¶æ—¶å™¨ setTimeout(function timer2 () { console.log('timer3') setTimeout(function inner () { console.log('timer4') }, 1000) }, 1000) console.log('timer5') // timer1 // timer5 // timer3 // timer2 // timer4 jsçº¿ç¨‹æŸä¸ªæ—¶åˆ»å‘èµ·äº†ä¸€ä¸ªå¼‚æ­¥è°ƒç”¨ï¼Œå®ƒç´§æ¥ç€ç»§ç»­æ‰§è¡Œå…¶ä»–çš„ä»»åŠ¡ï¼Œæ­¤æ—¶å¼‚æ­¥çº¿ç¨‹ä¼šå•ç‹¬æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œæ‰§è¡Œè¿‡åä¼šå°†å›è°ƒæ”¾åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œjsä¸»çº¿ç¨‹æ‰§è¡Œå®Œä»»åŠ¡è¿‡åä¼šä¾æ¬¡æ‰§è¡Œæ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ã€‚jsæ˜¯å•çº¿ç¨‹çš„ï¼Œæµè§ˆå™¨ä¸æ˜¯å•çº¿ç¨‹çš„ï¼Œæœ‰ä¸€äº›APIæ˜¯æœ‰å•ç‹¬çš„çº¿ç¨‹å»åšçš„ã€‚ Promiseâ€”â€”ä¼˜é›…çš„å¼‚æ­¥ç¼–ç¨‹æ–¹æ¡ˆ Promiseæ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ã€‚Promiseæ±‰è¯‘è¿‡æ¥å°±æ˜¯æ‰¿è¯ºçš„æ„æ€ï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ã€‚Promiseç®€å•æ¥è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰çš„ç»“æœã€‚ Promiseçš„ç‰¹ç‚¹ å®ƒæœ‰ä¸‰ç§çŠ¶æ€ï¼špending(è¿›è¡Œä¸­)ã€ ï¼ˆå·²æˆåŠŸï¼‰å’Œrejectedï¼ˆå·²å¤±è´¥ï¼‰ å®ƒçš„çŠ¶æ€æ˜¯ä¸å¯é€†çš„,ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ã€‚ å³ä¾¿promiseä¸­æ²¡æœ‰ä»»ä½•çš„å¼‚æ­¥æ“ä½œï¼Œthenæ–¹æ³•çš„å›è°ƒå‡½æ•°ä»ç„¶ä¼šè¿›å…¥åˆ°äº‹ä»¶é˜Ÿåˆ—ä¸­æ’é˜Ÿã€‚ Promiseçš„åŸºæœ¬ç”¨æ³• resolve let promise=new Promise((resolve,reject)=&gt;{ console.log('hello') resovle('hi') }) promise.then((data)=&gt;{ console.log(data) },(erro)=&gt;{ console.log(erro) }) //hello //hi reject let promise=new Promise((resovle,reject)=&gt;{ console.log('hello') reject('erro') }) promise.then((data)=&gt;{ console.log(data) },(erro)=&gt;{ console.log(erro) }) //hello //erro Promiseæ¡ˆä¾‹ ä½¿ç”¨Promiseå°è£…ä¸€ä¸ªajaxè¯·æ±‚: function ajax(url){ return new Promise((resolve,reject)=&gt;{ // åˆ›å»ºä¸€ä¸ªXMLHttpRequestå¯¹è±¡å»å‘é€ä¸€ä¸ªè¯·æ±‚ const xhr=new XMLHttpRequest(); // å…ˆè®¾ç½®ä¸€ä¸‹xhrå¯¹è±¡çš„è¯·æ±‚æ–¹å¼æ˜¯GETï¼Œè¯·æ±‚çš„åœ°å€å°±æ˜¯å‚æ•°ä¼ é€’çš„url xhr.open('GET',url) // è®¾ç½®è¿”å›çš„ç±»å‹æ˜¯jsonï¼Œæ˜¯HTML5çš„æ–°ç‰¹æ€§ // æˆ‘ä»¬åœ¨è¯·æ±‚ä¹‹åæ‹¿åˆ°çš„æ˜¯jsonå¯¹è±¡ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸² xhr.responseType='json'; xhr.onload=()=&gt;{ console.log(xhr.status) if(xhr.status==200){ //è¯·æ±‚æˆåŠŸï¼Œè¿”å›ç»“æœ resolve(xhr.response) }else{ //å¤±è´¥è¿”å›é”™è¯¯ä¿¡æ¯ reject(new Error(xhr.statusText)) } }; //å¼€å§‹æ‰§è¡Œ xhr.send(); }) }; ajax('app.json').then((res)=&gt;{ console.log(res) },(err)=&gt;{ console.log(err) }) Promiseé“¾å¼è°ƒç”¨ Promiseå¯¹è±¡thenæ–¹æ³•ï¼Œè¿”å›äº†å…¨æ–°çš„promiseå¯¹è±¡ã€‚å¯ä»¥å†ç»§ç»­è°ƒç”¨thenæ–¹æ³•ï¼Œå¦‚æœreturnçš„ä¸æ˜¯promiseå¯¹è±¡ï¼Œè€Œæ˜¯ä¸€ä¸ªå€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼ä¼šä½œä¸ºresolveçš„å€¼ä¼ é€’ï¼Œå¦‚æœæ²¡æœ‰å€¼ï¼Œé»˜è®¤æ˜¯undefined åé¢çš„thenæ–¹æ³•å°±æ˜¯åœ¨ä¸ºä¸Šä¸€ä¸ªthenè¿”å›çš„Promiseæ³¨å†Œå›è°ƒ å‰é¢thenæ–¹æ³•ä¸­å›è°ƒå‡½æ•°çš„è¿”å›å€¼ä¼šä½œä¸ºåé¢thenæ–¹æ³•å›è°ƒçš„å‚æ•° å¦‚æœå›è°ƒä¸­è¿”å›çš„æ˜¯Promiseï¼Œé‚£åé¢thenæ–¹æ³•çš„å›è°ƒä¼šç­‰å¾…å®ƒçš„ç»“æŸ ","link":"https://lonjinup.github.io/javascript-yi-bu-bian-cheng/"},{"title":"å‡½æ•°å¼ç¼–ç¨‹","content":"å‡½æ•°å¼ç¼–ç¨‹ ä¸ºä»€ä¹ˆè¦å­¦å‡½æ•°å¼ç¼–ç¨‹ï¼Ÿ å‡½æ•°å¼è¡¨æˆæ˜¯éšç€Reactçš„æµè¡Œæ”¶åˆ°è¶Šæ¥è¶Šå¤šçš„å…³æ³¨ï¼ˆReactçš„é«˜é˜¶ç»„ä»¶ä½¿ç”¨äº†é«˜é˜¶å‡½æ•°æ¥å®ç°ï¼Œé«˜é˜¶å‡½æ•°å°±æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ä¸ªç‰¹æ€§ã€‚Reduxä¹Ÿä½¿ç”¨äº†å‡½æ•°å¼ç¼–ç¨‹çš„æ€æƒ³ã€‚ï¼‰ Vue3ä¹Ÿå¼€å§‹æ‹¥æŠ±å‡½æ•°å¼ç¼–ç¨‹ å‡½æ•°å¼ç¼–ç¨‹å¯ä»¥æŠ›å¼ƒthis æ‰“åŒ…è¿‡ç¨‹ä¸­å¯ä»¥æ›´å¥½çš„åˆ©ç”¨tree shakingè¿‡æ»¤æ— ç”¨ä»£ç  æ–¹ä¾¿æµ‹è¯•ã€æ–¹ä¾¿å¹¶è¡Œå¤„ç† æœ‰å¾ˆå¤šåº“å¯ä»¥å¸®åŠ©æˆ‘ä»¬è¿›è¡Œå‡½æ•°å¼å¼€å‘ï¼šlodashã€underscoreã€ramda ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼Ÿ å‡½æ•°å¼ç¼–ç¨‹ï¼Œç¼©å†™FPï¼Œæ˜¯ä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼Œä¹Ÿæ˜¯ä¸€ç§ç¼–ç¨‹é£æ ¼ï¼Œå’Œé¢å‘å¯¹è±¡æ˜¯å¹¶åˆ—çš„å…³ç³»ã€‚å‡½æ•°å¼ç¼–ç¨‹æˆ‘ä»¬å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç§æ€ç»´æ¨¡å¼ï¼ŒåŠ ä¸Šå®ç°æ–¹æ³•ã€‚å…¶æ€ç»´æ–¹å¼å°±æ˜¯æŠŠç°å®ä¸–ç•Œäº‹ç‰©å’Œäº‹ç‰©ä¹‹é—´çš„è”ç³»æŠ½è±¡åˆ°ç¨‹åºä¸–ç•Œï¼ˆæ˜¯å¯¹è¿ç®—è¿‡ç¨‹è¿›è¡ŒæŠ½è±¡ï¼‰ å¸¸å¬è¯´çš„ç¼–ç¨‹èŒƒå¼è¿˜æœ‰é¢å‘è¿‡ç¨‹ç¼–ç¨‹ï¼ˆæŒ‰ç…§æ­¥éª¤æ¥å®ç°ï¼‰ã€é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆæŠŠç°å®ä¸­çš„äº‹ç‰©æŠ½è±¡æˆç±»å’Œå¯¹è±¡ï¼Œé€šè¿‡å°è£…ã€ç»§æ‰¿å’Œå¤šæ€æ¥æ¼”ç¤ºä¸åŒäº‹ç‰©ä¹‹é—´çš„è”ç³»ï¼‰ã€‚ å‡½æ•°å¼ç¼–ç¨‹å’Œé¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸åŒ ä»æ€ç»´æ–¹å¼ä¸Šæ¥è¯´,é¢å‘å¯¹è±¡ç¼–ç¨‹æ˜¯å¯¹äº‹ç‰©çš„æŠ½è±¡ï¼Œè€Œå‡½æ•°å¼ç¼–ç¨‹æ˜¯å¯¹è¿ç®—è¿‡ç¨‹çš„æŠ½è±¡ å¯¹äºå‡½æ•°å¼ç¼–ç¨‹æ€ç»´æ–¹å¼çš„ç†è§£ ç¨‹åºçš„æœ¬è´¨ï¼šæ ¹æ®è¾“å…¥é€šè¿‡æŸç§è¿ç®—è·å¾—ç›¸åº”çš„è¾“å‡ºï¼Œç¨‹åºå¼€å‘è¿‡ç¨‹ä¸­ä¼šæ¶‰åŠå¾ˆå¤šè¾“å…¥å’Œè¾“å‡ºçš„å‡½æ•°ã€‚ å‡½æ•°å¼ç¼–ç¨‹ä¸­çš„å‡½æ•°æŒ‡çš„ä¸æ˜¯ç¨‹åºä¸­çš„å‡½æ•°Functionï¼Œè€Œæ˜¯æ•°å­¦ä¸­çš„å‡½æ•°å³æ˜ å°„å…³ç³»ï¼Œä¾‹å¦‚ï¼šy=sin(x)ï¼Œæ˜¯è¿™ç§xå’Œyçš„å…³ç³» ç›¸åŒçš„è¾“å…¥æ—¶é’Ÿè¦å¾—åˆ°ç›¸åŒçš„è¾“å‡ºï¼ˆçº¯å‡½æ•°ï¼‰ å‡½æ•°å¼ç¼–ç¨‹ç”¨æè¿°æ•°æ®ï¼ˆå‡½æ•°ï¼‰ä¹‹é—´çš„æ˜ å°„ //éå‡½æ•°å¼ let num1=1, num2=2; let sum=num1+num2; console.log(sum); //å‡½æ•°å¼ function add(m,n){ return m+n; }; let sum2=add(3,4); console.log(sum2); å‡½æ•°å¼ç¼–ç¨‹çš„å‰ç½®çŸ¥è¯† å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ åœ¨JSä¸­å‡½æ•°å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå‡½æ•°å­˜å‚¨åˆ°å˜é‡/æ•°ç»„ä¸­ï¼Œå®ƒè¿˜å¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼ï¼Œç”šè‡³æˆ‘ä»¬å¯ä»¥åœ¨ç¨‹åºè¿è¡Œçš„æ—¶å€™é€šè¿‡new Function('alert(1)')æ¥æ„é€ ä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚ å‡½æ•°å¯ä»¥å­˜å‚¨åœ¨å˜é‡ä¸­: // æŠŠå‡½æ•°èµ‹å€¼ç»™å˜é‡ let fn = function () { console.log(&quot;hi&quot;) } fn() // ä¸€ä¸ªç¤ºä¾‹ const BlogController = { index (posts) { return Views.index(posts) }, show (post) { return Views.show(post) }, create (attrs) { return Db.create(attrs) }, update (post, attrs) { return Db.update(post, attrs) }, destroy (post) { return Db.destroy(post) } } // ä¼˜åŒ– èµ‹å€¼çš„æ˜¯Viewsçš„indexæ–¹æ³•ï¼Œä¸æ˜¯æ–¹æ³•çš„è°ƒç”¨ const BlogController = { index: Views.index, show: Views.show, create: Db.create, update: Db.update, destroy: Db.destroy } å‡½æ•°å¯ä»¥ä½œä¸ºå‚æ•° å‡½æ•°å¯ä»¥ä½œä¸ºè¿”å›å€¼ é«˜é˜¶å‡½æ•° é«˜é˜¶å‡½æ•°è‹±æ–‡å«Higher-order functionã€‚JavaScriptçš„å‡½æ•°å…¶å®éƒ½æŒ‡å‘æŸä¸ªå˜é‡ã€‚æ—¢ç„¶å˜é‡å¯ä»¥æŒ‡å‘å‡½æ•°ï¼Œå‡½æ•°çš„å‚æ•°èƒ½æ¥æ”¶å˜é‡ï¼Œé‚£ä¹ˆä¸€ä¸ªå‡½æ•°å°±å¯ä»¥æ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿™ç§å‡½æ•°å°±ç§°ä¹‹ä¸ºé«˜é˜¶å‡½æ•°ã€‚ åœ¨æ•°å­¦å’Œè®¡ç®—æœºç§‘å­¦ä¸­ï¼Œé«˜é˜¶å‡½æ•°æ˜¯è‡³å°‘æ»¡è¶³ä¸‹åˆ—ä¸€ä¸ªæ¡ä»¶çš„å‡½æ•°ï¼š 1.æ¥å—ä¸€ä¸ªæˆ–å¤šä¸ªå‡½æ•°ä½œä¸ºè¾“å…¥ 2.è¾“å‡ºä¸€ä¸ªå‡½æ•° å‡½æ•°å¯ä»¥ä½œä¸ºå‚æ•° //æ¨¡æ‹Ÿæ•°ç»„ä¸­çš„æŸäº›æ“ä½œ // forEach // å®šä¹‰ä¸€ä¸ªéå†æ•°ç»„çš„å¹¶å¯¹æ¯ä¸€é¡¹åšå¤„ç†çš„å‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå‡½æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚ function forEach(array,fn){ for(let i=0;i&lt;array.length;i++){ fn(array[i]) } }; let arr=[1,2,3,4,5]; forEach(arr,items=&gt;{ console.log(items) }) // filter // éå†æ•°ç»„ï¼Œå¹¶æŠŠæ»¡è¶³æ¡ä»¶çš„å…ƒç´ å­˜å‚¨æˆæ•°ç»„ï¼Œå†è¿›è¡Œè¿”å› function filter(array,fn){ let newArr=[]; for(let i=0;i&lt;array.length;i++){ if(fn(array[i])){ newArr.push(array[i]) } }; return newArr } let a=filter(arr,item=&gt;item%2==0) console.log(a) å‡½æ•°åšä¸ºè¿”å›å€¼ // test1:ä¸€ä¸ªå‡½æ•°è¿”å›å¦ä¸€ä¸ªå‡½æ•° function todo(){ let text='hello world'; return function(){ console.log(text) } } //æ–¹å¼1 è°ƒç”¨ const fn=todo() fn() //æ–¹å¼2 è°ƒç”¨ todo()() //test2:è®©å‡½æ•°åªæ‰§è¡Œä¸€æ¬¡ function once(fn){ let status=false; return function(){ if(!status){ status=true; return fn.apply(this,arguments) } } }; let pay = once(function(money){ console.log(`æ”¯ä»˜äº† ${money}å…ƒ`) }) pay(100) pay(200) ä½¿ç”¨é«˜é˜¶å‡½æ•°çš„æ„ä¹‰ æŠ½è±¡å¯ä»¥å¸®æˆ‘ä»¬å±è”½ç»†èŠ‚ï¼Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“æˆ‘ä»¬çš„ç›®æ ‡å’Œè§£å†³è¿™ç±»é—®é¢˜çš„å‡½æ•°ï¼Œæˆ‘ä»¬ä¸éœ€è¦å…³å¿ƒå®ç°çš„ç»†èŠ‚ é«˜é˜¶å‡½æ•°æ˜¯ç”¨æ¥æŠ½è±¡é€šç”¨çš„é—®é¢˜ ç”¨é«˜é˜¶å‡½æ•°æ¨¡æ‹Ÿå¸¸ç”¨å‡½æ•° map:ä¾¿åˆ©æ•°ç»„ä¸­æ¯ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åç”Ÿæˆæ–°çš„æ•°ç»„ const map=(array,fn)=&gt;{ let arr=[]; for(let i of array){ arr.push(fn(i)) } return arr } let arr=[1,2,3,4,5]; arr=map(arr,v=&gt;v*v); console.log(arr) every:æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ æ˜¯å¦éƒ½åŒ¹é…æˆ‘ä»¬æŒ‡å®šçš„ä¸€ä¸ªæ¡ä»¶ï¼Œå¦‚æœéƒ½æ»¡è¶³è¿”å›trueï¼Œå¦‚æœä¸æ»¡è¶³è¿”å›false const every=(array,fn)=&gt;{ let status=true; for(let i of array){ status=fn(i) if(!status){ break } } return status } let arr=[1,2,3,4,5]; let n=every(arr,v=&gt;v&gt;=1); console.log(n) some:åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦æœ‰ä¸€ä¸ªå…ƒç´ æ»¡è¶³æˆ‘ä»¬æŒ‡å®šçš„æ¡ä»¶ï¼Œæ»¡è¶³æ˜¯trueï¼Œéƒ½ä¸æ»¡è¶³ä¸ºfalse const some=(array,fn)=&gt;{ let status=false; for(let i of array){ status=fn(i); if(status){ break; } } return status } let arr=[4,5,6,7]; let n=some(arr,v=&gt;v&gt;7); console.log(n); é—­åŒ… å‡½æ•°åœ¨æ‰§è¡Œçš„æ—¶å€™ä¼šæ”¾åˆ°ä¸€ä¸ªæ‰§è¡Œæ ˆä¸Šï¼Œå½“å‡½æ•°æ‰§è¡Œå®Œæ¯•ä¹‹åä¼šä»æ‰§è¡Œæ ˆä¸Šç§»é™¤ã€‚ä½†æ˜¯å †ä¸Šçš„ä½œç”¨åŸŸæˆå‘˜å› ä¸ºè¢«å¤–éƒ¨å¼•ç”¨ä¸èƒ½é‡Šæ”¾ï¼Œå› æ­¤å†…éƒ¨å‡½æ•°ä¾ç„¶å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°çš„æˆå‘˜ã€‚é—­åŒ…çš„æ ¸å¿ƒä½œç”¨å°±æ˜¯æŠŠå‡½æ•°å†…éƒ¨æˆå‘˜çš„ä½œç”¨èŒƒå›´å»¶é•¿ã€‚ function makeFn () { let msg = 'Hello function' } // æ­£å¸¸æƒ…å†µä¸‹ï¼Œæ‰§è¡Œå®ŒmakeFnï¼Œé‡Œé¢çš„å˜é‡msgä¼šé‡Šæ”¾æ‰ // ä½†æ˜¯ä¸‹é¢çš„æƒ…å†µ function makeFn () { let msg = 'Hello function' return function () { console.log(msg) } } // åœ¨ä¸Šé¢å‡½æ•°ä¸­ï¼Œè¿”å›äº†ä¸€ä¸ªå‡½æ•°ï¼Œè€Œä¸”åœ¨å‡½æ•°ä¸­è¿˜è®¿é—®äº†åŸæ¥å‡½æ•°å†…éƒ¨çš„æˆå‘˜ï¼Œå°±å¯ä»¥ç§°ä¸ºé—­åŒ… const fn = makeFn() fn() // fnä¸ºå¤–éƒ¨å‡½æ•°ï¼Œå½“å¤–éƒ¨å‡½æ•°å¯¹å†…éƒ¨æˆå‘˜æœ‰å¼•ç”¨çš„æ—¶å€™ï¼Œé‚£ä¹ˆå†…éƒ¨çš„æˆå‘˜msgå°±ä¸èƒ½è¢«é‡Šæ”¾ã€‚å½“æˆ‘ä»¬è°ƒç”¨fnçš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±ä¼šè®¿é—®åˆ°msgã€‚ //æ³¨æ„çš„ç‚¹ï¼š //1ã€æˆ‘ä»¬å¯ä»¥åœ¨å¦ä¸€ä¸ªä½œç”¨åŸŸè°ƒç”¨makeFnçš„å†…éƒ¨å‡½æ•° //2ã€å½“æˆ‘ä»¬è°ƒç”¨å†…éƒ¨å‡½æ•°çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥è®¿é—®åˆ°å†…éƒ¨æˆå‘˜ é—­åŒ…åº”ç”¨ è®¡ç®—æ•°å­—çš„æ¬¡æ–¹ function pow(power){ return function(number){ return Math.pow(number,power) } } //æ±‚å¹³æ–¹ let pow2=pow(2); console.log(pow2(2)) //ç«‹æ–¹ let pow3=pow(3); console.log(pow3(2)) è®¡ç®—ä¸åŒçº§åˆ«çš„å‘˜å·¥å·¥èµ„(ä¸åŒå‘˜å·¥åŸºæœ¬å·¥èµ„ç›¸ç­‰ï¼Œç»©æ•ˆä¸åŒ) function peopleMoney(moeny){ return function(value){ return moeny+value } } let lv1=peopleMoney(1000); let lv2=peopleMoney(2000); console.log(lv1(200)) console.log(lv2(1300)) çº¯å‡½æ•° ç›¸åŒçš„è¾“å…¥æ°¸è¿œä¼šå¾—åˆ°ç›¸åŒçš„è¾“å‡ºï¼Œè€Œä¸”æ²¡æœ‰ä»»ä½•å¯è§‚å¯Ÿçš„å‰¯ä½œç”¨ã€‚çº¯å‡½æ•°å°±ç±»ä¼¼æ•°å­¦ä¸­çš„å‡½æ•°(ç”¨æ¥æè¿°è¾“å…¥å’Œè¾“å‡ºä¹‹é—´çš„å…³ç³»)ï¼Œå¦‚y = f(x) let numbers = [1, 2, 3, 4, 5] // çº¯å‡½æ•° // å¯¹äºç›¸åŒçš„å‡½æ•°ï¼Œè¾“å‡ºæ˜¯ä¸€æ ·çš„ // sliceæ–¹æ³•ï¼Œæˆªå–çš„æ—¶å€™è¿”å›æˆªå–çš„å‡½æ•°ï¼Œä¸å½±å“åŸæ•°ç»„ numbers.slice(0, 3) // =&gt; [1, 2, 3] numbers.slice(0, 3) // =&gt; [1, 2, 3] numbers.slice(0, 3) // =&gt; [1, 2, 3] // ä¸çº¯çš„å‡½æ•° // å¯¹äºç›¸åŒçš„è¾“å…¥ï¼Œè¾“å‡ºæ˜¯ä¸ä¸€æ ·çš„ // spliceæ–¹æ³•ï¼Œè¿”å›åŸæ•°ç»„ï¼Œæ”¹å˜åŸæ•°ç»„ numbers.splice(0, 3) // =&gt; [1, 2, 3] numbers.splice(0, 3) // =&gt; [4, 5] numbers.splice(0, 3) // =&gt; [] // ä¸‹é¢å‡½æ•°ä¹Ÿæ˜¯çº¯å‡½æ•° function getSum (n1, n2) { return n1 + n2 } console.log(getSum(1, 2)) // 3 console.log(getSum(1, 2)) // 3 console.log(getSum(1, 2)) // 3 å‡½æ•°å¼ç¼–ç¨‹ä¸ä¼šä¿ç•™è®¡ç®—ä¸­é—´çš„ç»“æœï¼Œæ‰€ä»¥å˜é‡æ˜¯ä¸å¯å˜çš„(æ— çŠ¶æ€çš„) æˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠä¸€ä¸ªå‡½æ•°çš„æ‰§è¡Œç»“æœäº¤ç»™å¦ä¸€ä¸ªå‡½æ•°å¤„ç† Lodashâ€”â€”çº¯å‡½æ•°jsåº“ Lodashæ˜¯ä¸€ä¸ªä¸€è‡´æ€§ã€æ¨¡å—åŒ–ã€é«˜æ€§èƒ½çš„ JavaScript å®ç”¨å·¥å…·åº“ã€‚ å®‰è£…ï¼š npm init -y npm i lodash ä½¿ç”¨ï¼š var _ = require('lodash'); //æ•°ç»„åˆå¹¶ var arr=[1,2,3] var newArr=_.concat(arr,[4,5,6],[7,8,9]) console.log(newArr) //æ•°ç»„åè½¬ let className=['tom','bob','nike']; console.log(_.reserve(className)) console.log(className) // æ•°ç»„çš„ç¿»è½¬ä¸æ˜¯çº¯å‡½æ•°ï¼Œå› ä¸ºä¼šæ”¹å˜åŸæ•°ç»„ã€‚è¿™é‡Œçš„reserveæ˜¯ä½¿ç”¨äº†æ•°ç»„çš„reverseï¼Œæ‰€ä»¥ä¹Ÿä¸æ˜¯çº¯å‡½æ•° çº¯å‡½æ•°çš„å¥½å¤„ å¯ç¼“å­˜ å› ä¸ºå¯¹äºç›¸åŒçš„è¾“å…¥å§‹ç»ˆæœ‰ç›¸åŒçš„ç»“æœï¼Œé‚£ä¹ˆå¯ä»¥æŠŠçº¯å‡½æ•°çš„ç»“æœç¼“å­˜èµ·æ¥ï¼Œå¯ä»¥æé«˜æ€§èƒ½ã€‚ const _ = require('lodash'); /* _.memoize(func, [resolver]):åˆ›å»ºä¸€ä¸ªä¼šç¼“å­˜ func ç»“æœçš„å‡½æ•°ã€‚ å¦‚æœæä¾›äº† resolver ï¼Œå°±ç”¨ resolver çš„è¿”å›å€¼ä½œä¸º key ç¼“å­˜å‡½æ•°çš„ç»“æœã€‚ é»˜è®¤æƒ…å†µä¸‹ç”¨ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸ºç¼“å­˜çš„ keyã€‚ func åœ¨è°ƒç”¨æ—¶ this ä¼šç»‘å®šåœ¨ç¼“å­˜å‡½æ•°ä¸Šã€‚*/ //è®¡ç®—ä¸¤ä¸ªæ•°å­—çš„å’Œ function add(m,n){ console.log('once') return m+n } let fn=_.memoize(add); console.log(fn(4,5)); console.log(fn(4,5)); console.log(fn(4,5)); // è¾“å‡ºçš„onceåªæ‰§è¡Œäº†ä¸€æ¬¡ï¼Œå› ä¸ºå…¶ç»“æœè¢«ç¼“å­˜ä¸‹æ¥äº† æ¨¡æ‹Ÿ_.memoize const _ = require('lodash'); function add(m,n){ console.log('once') return m+n } function memoize (f) { let cache = {} return function () { // argumentsæ˜¯ä¸€ä¸ªä¼ªæ•°ç»„ï¼Œæ‰€ä»¥è¦è¿›è¡Œå­—ç¬¦ä¸²çš„è½¬åŒ– let key = JSON.stringify(arguments) console.log(key) // å¦‚æœç¼“å­˜ä¸­æœ‰å€¼å°±æŠŠå€¼èµ‹å€¼ï¼Œæ²¡æœ‰å€¼å°±è°ƒç”¨få‡½æ•°å¹¶ä¸”æŠŠå‚æ•°ä¼ é€’ç»™å®ƒ cache[key] = cache[key] || f.apply(f,arguments) console.log(cache) return cache[key] } } let getAreaWithMemory1 = memoize(add) console.log(getAreaWithMemory1(4,5)) /* è¾“å‡º {&quot;0&quot;:4,&quot;1&quot;:5} once { '{&quot;0&quot;:4,&quot;1&quot;:5}': 9 } 9 */ å¯æµ‹è¯• çº¯å‡½æ•°è®©æµ‹è¯•æ›´åŠ çš„æ–¹ä¾¿ å¹¶è¡Œå¤„ç† å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å¹¶è¡Œæ“ä½œå…±äº«çš„å†…å­˜æ•°æ®å¾ˆå¯èƒ½ä¼šå‡ºç°æ„å¤–æƒ…å†µã€‚çº¯å‡½æ•°ä¸éœ€è¦è®¿é—®å…±äº«çš„å†…å­˜æ•°æ®ï¼Œæ‰€ä»¥åœ¨å¹¶è¡Œç¯å¢ƒä¸‹å¯ä»¥ä»»æ„è¿è¡Œçº¯å‡½æ•° è™½ç„¶JSæ˜¯å•çº¿ç¨‹ï¼Œä½†æ˜¯ES6ä»¥åæœ‰ä¸€ä¸ªWeb Workerï¼Œå¯ä»¥å¼€å¯ä¸€ä¸ªæ–°çº¿ç¨‹ æŸ¯é‡ŒåŒ– æŸ¯é‡ŒåŒ–ï¼ˆCurryingï¼‰æ˜¯æŠŠæ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°å˜æ¢æˆæ¥å—ä¸€ä¸ªå•ä¸€å‚æ•°(æœ€åˆå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°)çš„å‡½æ•°ï¼Œå¹¶ä¸”è¿”å›æ¥å—ä½™ä¸‹çš„å‚æ•°ä¸”è¿”å›ç»“æœçš„æ–°å‡½æ•°çš„æŠ€æœ¯ã€‚ å½“å‡½æ•°æœ‰å¤šä¸ªå‚æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å‡½æ•°è¿›è¡Œæ”¹é€ ã€‚æˆ‘ä»¬å¯ä»¥è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œåªä¼ é€’éƒ¨åˆ†çš„å‚æ•°ï¼ˆè¿™éƒ¨åˆ†å‚æ•°ä»¥åæ°¸è¿œä¸å˜ï¼‰ï¼Œç„¶åè®©è¿™ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚æ–°çš„å‡½æ•°ä¼ é€’å‰©ä½™çš„å‚æ•°ï¼Œå¹¶ä¸”è¿”å›ç›¸åº”çš„ç»“æœã€‚ // ä¸‹é¢è¿™æ®µä»£ç æ˜¯è§£å†³äº†ä¸çº¯çš„å‡½æ•°çš„é—®é¢˜ï¼Œä½†æ˜¯é‡Œé¢å‡ºç°äº†ç¡¬ç¼–ç  function checkAge (age) { let mini = 18 return age &gt;= mini } // æ™®é€šçš„çº¯å‡½æ•° function checkAge (min, age) { return age &gt;= min } console.log(checkAge(18, 20)) //true console.log(checkAge(18, 24)) //true console.log(checkAge(20, 24)) //true // ç»å¸¸ä½¿ç”¨18ï¼Œè¿™æ®µä»£ç æ˜¯é‡å¤çš„ã€‚é¿å…é‡å¤ function checkAge (min) { return function (age) { return age &gt;= min } } let checkAge18 = checkAge(18) let checkAge20 = checkAge(20) console.log(checkAge18(20)) //true console.log(checkAge18(24)) //true Lodashä¸­çš„æŸ¯é‡ŒåŒ– â€”â€” curry() åŠŸèƒ½ï¼šåˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥æ”¶ä¸€ä¸ªæˆ–å¤šä¸ª funcçš„å‚æ•°ï¼Œå¦‚æœ func æ‰€éœ€è¦çš„å‚æ•°éƒ½è¢«æä¾›åˆ™æ‰§è¡Œ func å¹¶è¿”å›æ‰§è¡Œçš„ç»“æœã€‚å¦åˆ™ç»§ç»­è¿”å›è¯¥å‡½æ•°å¹¶ç­‰å¾…æ¥æ”¶å‰©ä½™çš„å‚æ•°ã€‚ å‚æ•°ï¼šéœ€è¦æŸ¯é‡ŒåŒ–çš„å‡½æ•° è¿”å›å€¼ï¼šæŸ¯é‡ŒåŒ–åçš„å‡½æ•° //æ¡ˆä¾‹ const _ = require('lodash'); function getSum(a,b,c){ return a+b+c } const curried=_.curry(getSum) console.log(curried(1,2,3)) console.log(curried(1)(2)(3)) console.log(curried(1)(2,3)) æŸ¯é‡ŒåŒ–çš„å®ç° å®ç°ä¸€ä¸ªæŸ¯é‡ŒåŒ–è½¬æ¢å‡½æ•°è¦è¿›è¡Œåˆ†æ 1.å…¥å‚å‡ºå‚ï¼šè°ƒç”¨ä¼ é€’ä¸€ä¸ªçº¯å‡½æ•°çš„å‚æ•°ï¼Œå®Œæˆä¹‹åè¿”å›ä¸€ä¸ªæŸ¯é‡ŒåŒ–å‡½æ•° 2.å…¥å‚æƒ…å†µåˆ†æï¼š å¦‚æœcurriedè°ƒç”¨ä¼ é€’çš„å‚æ•°å’ŒgetSumå‡½æ•°å‚æ•°ä¸ªæ•°ç›¸åŒï¼Œé‚£ä¹ˆç«‹å³æ‰§è¡Œå¹¶è¿”å›è°ƒç”¨ç»“æœ å¦‚æœcurriedè°ƒç”¨ä¼ é€’çš„å‚æ•°æ˜¯getSumå‡½æ•°çš„éƒ¨åˆ†å‚æ•°ï¼Œé‚£ä¹ˆéœ€è¦è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œå¹¶ä¸”ç­‰å¾…æ¥æ”¶getSumçš„å…¶ä»–å‚æ•° 3 é‡ç‚¹å…³æ³¨ï¼š è·å–è°ƒç”¨çš„å‚æ•° åˆ¤æ–­ä¸ªæ•°æ˜¯å¦ç›¸åŒ function getSum (a, b, c) { return a + b + c } // æ¨¡æ‹ŸæŸ¯é‡ŒåŒ–å‡½æ•° function curry (func) { // å–åå­—æ˜¯ä¸ºäº†ä¸‹é¢å®å‚å°äºå½¢å‚çš„æ—¶å€™ç”¨çš„ return function curriedFn(...args) { // åˆ¤æ–­å®å‚å’Œå½¢å‚çš„ä¸ªæ•° if(args.length &lt; func.length) { return function() { // ç­‰å¾…ä¼ é€’çš„å‰©ä½™å‚æ•°ï¼Œå¦‚æœå‰©ä½™å‡½æ•°çš„å‚æ•°åŠ ä¸Šä¹‹å‰çš„å‚æ•°ç­‰äºå½¢å‚ï¼Œé‚£ä¹ˆå°±è¿”å›func // ç¬¬ä¸€éƒ¨åˆ†å‚æ•°åœ¨argsé‡Œé¢ï¼Œç¬¬äºŒéƒ¨åˆ†å‚æ•°åœ¨argumentsé‡Œé¢ï¼Œè¦å°†ä¸¤ä¸ªåˆå¹¶å¹¶ä¸”å±•å¼€ä¼ é€’ï¼ˆä½¿ç”¨...ï¼‰ // concatå‡½æ•°è¦åˆå¹¶ä¸¤ä¸ªæ•°ç»„ï¼Œargumentsä¸ºä¼ªæ•°ç»„ï¼Œæ‰€ä»¥ç”¨Array.fromè¿›è¡Œè½¬æ¢ return curriedFn(...args.concat(Array.from(arguments))) } } // å¦‚æœå®å‚å¤§äºç­‰äºå½¢å‚çš„ä¸ªæ•° // argsæ˜¯å‰©ä½™å‚æ•°ï¼Œæ˜¯ä¸ªæ•°ç»„å½¢å¼ï¼Œè€Œè¿”å›çš„æ—¶å€™è¦å±•å¼€ï¼ˆä½¿ç”¨...ï¼‰ return func(...args) } } // test const curriedTest = curry(getSum) console.log(curriedTest(1, 2, 3)) // 6 console.log(curriedTest(1)(2, 3)) // 6 console.log(curriedTest(1, 2)(3)) // 6 æ€»ç»“ æŸ¯é‡ŒåŒ–å¯ä»¥è®©æˆ‘ä»¬ç»™ä¸€ä¸ªå‡½æ•°ä¼ é€’è¾ƒå°‘çš„å‚æ•°å¾—åˆ°ä¸€ä¸ªå·²ç»è®°ä½äº†æŸäº›å›ºå®šå‚æ•°çš„æ–°å‡½æ•°ï¼ˆæ¯”å¦‚matchå‡½æ•°æ–°ç”Ÿæˆäº†haveSpaceå‡½æ•°ï¼Œé‡Œé¢ä½¿ç”¨äº†é—­åŒ…ï¼Œè®°ä½äº†æˆ‘ä»¬ç»™ä¼ é€’çš„æ­£åˆ™è¡¨è¾¾å¼çš„å‚æ•°ï¼‰ è¿™æ˜¯ä¸€ç§å¯¹å‡½æ•°å‚æ•°çš„'ç¼“å­˜'ï¼ˆä½¿ç”¨äº†é—­åŒ…ï¼‰ è®©å‡½æ•°å˜çš„æ›´çµæ´»ï¼Œè®©å‡½æ•°çš„ç²’åº¦æ›´å° å¯ä»¥æŠŠå¤šå…ƒå‡½æ•°è½¬æ¢æˆä¸€å…ƒå‡½æ•°ï¼Œå¯ä»¥ç»„åˆä½¿ç”¨å‡½æ•°äº§ç”Ÿå¼ºå¤§çš„åŠŸèƒ½ å‡½æ•°ç»„åˆ å¦‚æœä¸€ä¸ªå‡½æ•°è¦ç»è¿‡å¤šä¸ªå‡½æ•°å¤„ç†æ‰èƒ½å¾—åˆ°æœ€ç»ˆå€¼ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥æŠŠä¸­é—´è¿‡ç¨‹çš„å‡½æ•°åˆå¹¶æˆä¸€ä¸ªå‡½æ•°ã€‚å‡½æ•°ç»„åˆé»˜è®¤æ˜¯ä»å³åˆ°å·¦æ‰§è¡Œ //ä¾‹å­ï¼šæœ‰ä¸€ä¸ªæ•°ç»„ï¼Œéœ€è¦è·å–åˆ°æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´  function reverse(array){ return array.reverse() } function first(array){ return array[0] } //es5 /* function getFirst(f,n){ return function(value){ return f(n(value)) } } */ //es6 const getFirst=(f,n)=&gt;value=&gt;f(n(value)); let compose=getFirst(first,reverse); console.log(compose([1,2,3,4,5])) //5 ç»„åˆå‡½æ•°æ¨¡æ‹Ÿ æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œéœ€è¦è·å–åˆ°æ•°ç»„ä¸­æœ€åä¸€ä¸ªå…ƒç´ å¹¶æ¢æˆå¤§å†™ const reverse = arr =&gt; arr.reverse(); const first = arr =&gt; arr[0]; const toUpper = s =&gt; s.toUpperCase(); function compose (...args) { // è¿”å›çš„å‡½æ•°ï¼Œæœ‰ä¸€ä¸ªä¼ å…¥çš„åˆå§‹å‚æ•°å³value return function (value) { // ...argsæ˜¯æ‰§è¡Œçš„å‡½æ•°çš„æ•°ç»„ï¼Œä»å³å‘å·¦æ‰§è¡Œé‚£ä¹ˆæ•°ç»„è¦è¿›è¡Œreverseç¿»è½¬ // reduce: å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œå»æ‰§è¡Œæˆ‘ä»¬æä¾›çš„ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶å°†å…¶æ±‡æ€»æˆä¸€ä¸ªå•ä¸ªç»“æœ // reduceçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯accçš„åˆå§‹å€¼ï¼Œè¿™é‡Œaccçš„åˆå§‹å€¼å°±æ˜¯value // reduceç¬¬ä¸€ä¸ªå‚æ•°çš„å›è°ƒå‡½æ•°éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ±‡æ€»çš„ä¸€ä¸ªç»“æœï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å¦‚æœå¤„ç†æ±‡æ€»çš„ç»“æœçš„å‡½æ•°å¹¶è¿”å›ä¸€ä¸ªæ–°çš„å€¼ // fnæŒ‡çš„æ˜¯æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼ˆå³å‡½æ•°ï¼‰ï¼Œæ¥å¤„ç†å‚æ•°accï¼Œå®Œæˆä¹‹åä¸‹ä¸€ä¸ªæ•°ç»„å…ƒç´ å¤„ç†çš„æ˜¯ä¸Šä¸€ä¸ªæ•°ç»„çš„ç»“æœacc return args.reverse().reduce(function (acc, fn) { return fn(acc) }, value) } } //test const fTest = compose(toUpper, first, reverse) console.log(fTest(['one', 'two', 'three'])) // THREE // ES6çš„å†™æ³•ï¼ˆå‡½æ•°éƒ½å˜æˆç®­å¤´å‡½æ•°ï¼‰ const compose = (...args) =&gt; value =&gt; args.reverse().reduce((acc, fn) =&gt; fn(acc), value) å‡½æ•°ç»„åˆ-ç»“åˆå¾‹ ä»€ä¹ˆæ˜¯å‡½æ•°ç»„åˆç»“åˆå¾‹ï¼Ÿ ä¸‹é¢ä¸‰ä¸ªæƒ…å†µç»“æœä¸€æ ·ï¼Œæˆ‘ä»¬æ—¢å¯ä»¥æŠŠ g å’Œ h ç»„åˆï¼Œè¿˜å¯ä»¥æŠŠ f å’Œ g ç»„åˆ //ä¼ªä»£ç  // ç»“åˆå¾‹ï¼ˆassociativityï¼‰ let f = compose(f, g, h) let associative = compose(compose(f, g), h) == compose(f, compose(g, h)) // true å®é™…æ¡ˆä¾‹ const _ = require('lodash'); // æ–¹å¼ä¸€ const f = _.flowRight(_.toUpper, _.first, _.reverse) // æ–¹å¼äºŒ const f = _.flowRight(_.flowRight(_.toUpper, _.first), _.reverse) // æ–¹å¼ä¸‰ const f = _.flowRight(_.toUpper, _.flowRight(_.first, _.reverse)) // æ— è®ºä¸Šé¢é‚£ç§å†™æ³•ï¼Œä¸‹é¢éƒ½è¾“å‡ºTHREEè¿™ä¸ªç›¸åŒçš„ç»“æœ console.log(f(['one', 'two', 'three'])) // THREE å¦‚ä½•æµ‹è¯•å‡½æ•°ç»„åˆ å¦‚æœæˆ‘ä»¬è¿è¡Œçš„ç»“æœå’Œæˆ‘ä»¬çš„é¢„æœŸä¸ä¸€è‡´ï¼Œæˆ‘ä»¬æ€ä¹ˆè°ƒè¯•å‘¢ï¼Ÿæˆ‘ä»¬æ€ä¹ˆèƒ½çŸ¥é“ä¸­é—´è¿è¡Œçš„ç»“æœå‘¢ï¼Ÿ ä¸‹é¢è¿™ä¸ªè¾“å…¥NEVER SAY DIEè¦å¯¹åº”è¾“å‡ºnerver-say-die const _ = require('lodash') // è¿™é‡Œsplitå‡½æ•°éœ€è¦ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œä¸”æˆ‘ä»¬æœ€åè°ƒç”¨çš„æ—¶å€™è¦ä¼ å…¥å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥å­—ç¬¦ä¸²è¦åœ¨ç¬¬äºŒä¸ªä½ç½®ä¼ å…¥ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦è‡ªå·±å°è£…ä¸€ä¸ªsplitå‡½æ•° // _.split(string, separator) // å°†å¤šä¸ªå‚æ•°è½¬æˆä¸€ä¸ªå‚æ•°ï¼Œç”¨åˆ°å‡½æ•°çš„æŸ¯é‡ŒåŒ– const split = _.curry((sep, str) =&gt; _.split(str, sep)) // å¤§å†™å˜å°å†™ï¼Œç”¨åˆ°toLower()ï¼Œå› ä¸ºè¿™ä¸ªå‡½æ•°åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œæ‰€ä»¥å¯ä»¥åœ¨å‡½æ•°ç»„åˆä¸­ç›´æ¥ä½¿ç”¨ // è¿™é‡Œjoinæ–¹æ³•ä¹Ÿéœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ•°ç»„ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯åˆ†éš”ç¬¦ï¼Œæ•°ç»„ä¹Ÿæ˜¯æœ€åçš„æ—¶å€™æ‰ä¼ é€’ï¼Œä¹Ÿéœ€è¦äº¤æ¢ const join = _.curry((sep, array) =&gt; _.join(array, sep)) const f = _.flowRight(join('-'), _.toLower, split(' ')) console.log(f('NEVER SAY DIE')) //n-e-v-e-r-,-s-a-y-,-d-i-e ä½†æ˜¯æœ€åçš„ç»“æœå´ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆè°ƒè¯•å‘¢ï¼Ÿ // NEVER SAY DIE --&gt; nerver-say-die const _ = require('lodash') const split = _.curry((sep, str) =&gt; _.split(str, sep)) const join = _.curry((sep, array) =&gt; _.join(array, sep)) // æˆ‘ä»¬éœ€è¦å¯¹ä¸­é—´å€¼è¿›è¡Œæ‰“å°ï¼Œå¹¶ä¸”çŸ¥é“å…¶ä½ç½®ï¼Œç”¨æŸ¯é‡ŒåŒ–è¾“å‡ºä¸€ä¸‹ const log = _.curry((tag, v) =&gt; { console.log(tag, v) return v }) // ä»å³å¾€å·¦åœ¨æ¯ä¸ªå‡½æ•°åé¢åŠ ä¸€ä¸ªlogï¼Œå¹¶ä¸”ä¼ å…¥tagçš„å€¼ï¼Œå°±å¯ä»¥çŸ¥é“æ¯æ¬¡ç»“æœè¾“å‡ºçš„æ˜¯ä»€ä¹ˆ const f = _.flowRight(join('-'), log('after toLower:'), _.toLower, log('after split:'), split(' ')) // ä»å³åˆ°å·¦ //ç¬¬ä¸€ä¸ªlogï¼šafter split: [ 'NEVER', 'SAY', 'DIE' ] æ­£ç¡® //ç¬¬äºŒä¸ªlog: after toLower: never,say,die è½¬åŒ–æˆå°å†™å­—æ¯çš„æ—¶å€™ï¼ŒåŒæ—¶è½¬æˆäº†å­—ç¬¦ä¸²ï¼Œè¿™é‡Œå‡ºäº†é—®é¢˜ console.log(f('NEVER SAY DIE')) //n-e-v-e-r-,-s-a-y-,-d-i-e // ä¿®æ”¹æ–¹å¼ï¼Œåˆ©ç”¨æ•°ç»„çš„mapæ–¹æ³•ï¼Œéå†æ•°ç»„çš„æ¯ä¸ªå…ƒç´ è®©å…¶å˜æˆå°å†™ // è¿™é‡Œçš„mapéœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯æ•°ç»„ï¼Œç¬¬äºŒä¸ªæ˜¯å›è°ƒå‡½æ•°ï¼Œéœ€è¦æŸ¯é‡ŒåŒ– const map = _.curry((fn, array) =&gt; _.map(array, fn)) const f1 = _.flowRight(join('-'), map(_.toLower), split(' ')) console.log(f1('NEVER SAY DIE')) // never-say-die FPæ¨¡å— å‡½æ•°ç»„åˆçš„æ—¶å€™ç”¨åˆ°å¾ˆå¤šçš„å‡½æ•°éœ€è¦æŸ¯é‡ŒåŒ–å¤„ç†ï¼Œæˆ‘ä»¬æ¯æ¬¡éƒ½å¤„ç†é‚£äº›å‡½æ•°æœ‰äº›éº»çƒ¦ï¼Œæ‰€ä»¥lodashä¸­æœ‰ä¸€ä¸ªFPæ¨¡å— lodash çš„ fp æ¨¡å—æä¾›äº†å®ç”¨çš„å¯¹å‡½æ•°å¼ç¼–ç¨‹å‹å¥½çš„æ–¹æ³• æä¾›äº†ä¸å¯å˜ auto-curried iteratee-first data-last ï¼ˆå‡½æ•°ä¹‹å…ˆï¼Œæ•°æ®ä¹‹åï¼‰çš„æ–¹æ³• const fp=require('lodash/fp'); // å‡½æ•°ç½®å…ˆï¼Œæ•°æ®ç½®å console.log(fp.map(fp.toUpper,['a','b','c','d'])) //è§„åˆ™ç½®å‰ï¼Œæ•°æ®ç½®å console.log(fp.split(' ')('hello word')) console.log(fp.split(' ','hello word')) Point Free Point Freeæ˜¯ä¸€ç§ç¼–ç¨‹é£æ ¼ï¼Œå…·ä½“çš„å®ç°æ˜¯å‡½æ•°çš„ç»„åˆã€‚Point Freeï¼š æˆ‘ä»¬å¯ä»¥æŠŠæ•°æ®å¤„ç†çš„è¿‡ç¨‹å®šä¹‰æˆä¸æ•°æ®æ— å…³çš„åˆæˆè¿ç®—ï¼Œä¸éœ€è¦ç”¨åˆ°ä»£è¡¨æ•°æ®çš„é‚£ä¸ªå‚æ•°ï¼Œåªè¦æŠŠç®€å•çš„è¿ç®—æ­¥éª¤åˆæˆåˆ°ä¸€èµ·ï¼Œåœ¨ä½¿ç”¨è¿™ç§æ¨¡å¼ä¹‹å‰æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€äº›è¾…åŠ©çš„åŸºæœ¬è¿ç®—å‡½æ•°ã€‚ ä¸éœ€è¦æŒ‡æ˜å¤„ç†çš„æ•°æ® åªéœ€è¦åˆæˆè¿ç®—è¿‡ç¨‹ éœ€è¦å®šä¹‰ä¸€äº›è¾…åŠ©çš„åŸºæœ¬è¿ç®—å‡½æ•° ä¾‹å­1 /*å°†Hello World è½¬åŒ–ä¸º hello_world */ const fp=require('lodash/fp'); const f=fp.flowRight(fp.replace(/\\s+/g,'_'),fp.toLower); console.log(f('Hello World')) //hello_world ä¾‹å­2 //world wild web --&gt;W. W. W //æ€è·¯ï¼š //æŠŠä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„é¢é¦–å­—æ¯æå–å¹¶è½¬æ¢æˆå¤§å†™ï¼Œä½¿ç”¨. ä½œä¸ºåˆ†éš”ç¬¦ const fp = require('lodash/fp') const firstLetterToUpper = fp.flowRight(fp.join('. '), fp.map(fp.first), fp.map(fp.toUpper), fp.split(' ')) console.log(firstLetterToUpper('world wild web')) //W. W. W // ä¸Šé¢çš„ä»£ç è¿›è¡Œäº†ä¸¤æ¬¡çš„éå†ï¼Œæ€§èƒ½è¾ƒä½ // ä¼˜åŒ– const firstLetterToUpper = fp.flowRight(fp.join('. '), fp.map(fp.flowRight(fp.first, fp.toUpper)), fp.split(' ')) console.log(firstLetterToUpper('world wild web')) //W. W. W Functor ä¸ºä»€ä¹ˆè¦å­¦å‡½å­ï¼Ÿ å‡½å­(representative functor)æ˜¯èŒƒç•´è®ºé‡Œçš„æ¦‚å¿µï¼ŒæŒ‡ä»ä»»æ„èŒƒç•´åˆ°é›†åˆèŒƒç•´çš„ä¸€ç§ç‰¹æ®Šå‡½å­ã€‚ æˆ‘ä»¬æ²¡æœ‰åŠæ³•é¿å…å‰¯ä½œç”¨ï¼Œä½†æ˜¯æˆ‘ä»¬å°½å¯èƒ½çš„å°†å‰¯ä½œç”¨æ§åˆ¶åœ¨å¯æ§çš„èŒƒå›´å†…ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‡½å­å»å¤„ç†å‰¯ä½œç”¨ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å‡½å­å»å¤„ç†å¼‚å¸¸ï¼Œå¼‚æ­¥æ“ä½œç­‰ã€‚ ä»€ä¹ˆæ˜¯Functor å®¹å™¨ï¼šåŒ…å«å€¼å’Œå€¼çš„å˜å½¢å…³ç³»(è¿™ä¸ªå˜å½¢å…³ç³»å°±æ˜¯å‡½æ•°) å‡½å­ï¼šæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å®¹å™¨ï¼Œé€šè¿‡ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡æ¥å®ç°ï¼Œè¯¥å¯¹è±¡å…·æœ‰ map æ–¹æ³•ï¼Œmapæ–¹æ³•å¯ä»¥è¿è¡Œä¸€ä¸ªå‡½æ•°å¯¹å€¼è¿›è¡Œå¤„ç†(å˜å½¢å…³ç³») class Container{ constructor(value){ // è¿™ä¸ªå‡½å­çš„å€¼æ˜¯ä¿å­˜åœ¨å†…éƒ¨çš„ï¼Œä¸å¯¹å¤–å…¬å¸ƒ // _ä¸‹åˆ’çº¿çš„æˆå‘˜éƒ½æ˜¯ç§æœ‰æˆå‘˜ï¼Œå¤–éƒ¨æ— æ³•è®¿é—®ï¼Œå€¼æ˜¯åˆå§‹åŒ–çš„ä¼ çš„å‚æ•° this._value=value } //æœ‰ä¸€ä¸ªå¯¹å¤–çš„æ–¹æ³•mapï¼Œæ¥æ”¶ä¸€ä¸ªå‡½æ•°ï¼ˆçº¯å‡½æ•°ï¼‰ï¼Œæ¥å¤„ç†è¿™ä¸ªå€¼ map(fn){ // è¿”å›ä¸€ä¸ªæ–°çš„å‡½å­ï¼ŒæŠŠfnå¤„ç†çš„å€¼è¿”å›ç»™å‡½å­ï¼Œç”±æ–°çš„å‡½å­æ¥ä¿å­˜ return new Container(fn(this._value)) } } // åˆ›å»ºä¸€ä¸ªå‡½å­çš„å¯¹è±¡ let r=new Container(5) .map(n=&gt;n+1) .map(n=&gt;n*n) // è¿”å›äº†ä¸€ä¸ªcontainerå‡½å­å¯¹è±¡ï¼Œé‡Œé¢æœ‰å€¼æ˜¯36ï¼Œä¸å¯¹å¤–å…¬å¸ƒ console.log(r) //Container { _value: 36 } ä¸Šé¢è¿˜æ˜¯é¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ€æƒ³ï¼Œè¦ä¿®æ”¹æˆå‡½æ•°å¼ç¼–ç¨‹çš„æ€æƒ³ï¼Œéœ€è¦é¿å…ä½¿ç”¨new class Container { //ä½¿ç”¨ç±»çš„é™æ€æ–¹æ³•ï¼Œofæ›¿ä»£äº†new Containerçš„ä½œç”¨ static of (value) { return new Container(value) } constructor (value) { this._value = value } map (fn) { return Container.of(fn(this._value)) } } const r = Container.of(5) .map(x=&gt;x+2) // 7 .map(x=&gt; x**2) // 49 console.log(r) // Container { _value: 49 } æ€»ç»“ å‡½æ•°å¼ç¼–ç¨‹çš„è¿ç®—ä¸ç›´æ¥æ“ä½œå€¼ï¼Œè€Œæ˜¯ç”±å‡½å­å®Œæˆ å‡½å­å°±æ˜¯ä¸€ä¸ªå®ç°äº† map å¥‘çº¦çš„å¯¹è±¡ æˆ‘ä»¬å¯ä»¥æŠŠå‡½å­æƒ³è±¡æˆä¸€ä¸ªç›’å­ï¼Œè¿™ä¸ªç›’å­é‡Œå°è£…äº†ä¸€ä¸ªå€¼ æƒ³è¦å¤„ç†ç›’å­ä¸­çš„å€¼ï¼Œæˆ‘ä»¬éœ€è¦ç»™ç›’å­çš„ map æ–¹æ³•ä¼ é€’ä¸€ä¸ªå¤„ç†å€¼çš„å‡½æ•°ï¼ˆçº¯å‡½æ•°ï¼‰ï¼Œç”±è¿™ä¸ªå‡½æ•°æ¥å¯¹å€¼è¿›è¡Œå¤„ç† æœ€ç»ˆ map æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«æ–°å€¼çš„ç›’å­ï¼ˆå‡½å­ï¼‰ é—ç•™é—®é¢˜ï¼šåœ¨ä¸Šé¢è¯´çš„å‡½å­ä¸­ï¼Œå¦‚æœvalueæ˜¯null undefinedï¼Œæ€ä¹ˆåŠï¼Ÿ Container.of(null) .map(x=&gt;x.toUpper) // æŠ¥é”™ï¼Œä½¿å¾—å‡½æ•°ä¸çº¯ ä¸‹é¢è¿™äº›å‡½å­å°±æ˜¯å¤„ç†ä¸åŒé—®é¢˜çš„å‡½æ•° MyBeå‡½å­ MayBe å‡½å­çš„ä½œç”¨å°±æ˜¯å¯ä»¥å¯¹å¤–éƒ¨çš„ç©ºå€¼æƒ…å†µåšå¤„ç†ï¼ˆæ§åˆ¶å‰¯ä½œç”¨åœ¨å…è®¸çš„èŒƒå›´ï¼‰ class MayBe { static of (value) { return new MayBe(value) } constructor (value) { this._value = value } map(fn) { // åˆ¤æ–­ä¸€ä¸‹valueçš„å€¼æ˜¯ä¸æ˜¯nullå’Œundefinedï¼Œå¦‚æœæ˜¯å°±è¿”å›ä¸€ä¸ªvalueä¸ºnullçš„å‡½å­ï¼Œå¦‚æœä¸æ˜¯å°±æ‰§è¡Œå‡½æ•° return this.isNothing() ? MayBe.of(null) : MayBe.of(fn(this._value)) } // å®šä¹‰ä¸€ä¸ªåˆ¤æ–­æ˜¯ä¸æ˜¯nullæˆ–è€…undefinedçš„å‡½æ•°ï¼Œè¿”å›true/false isNothing() { return this._value === null || this._value === undefined } } const r = MayBe.of('hello world') .map(x =&gt; x.toUpperCase()) console.log(r) //MayBe { _value: 'HELLO WORLD' } // å¦‚æœè¾“å…¥çš„æ˜¯nullï¼Œæ˜¯ä¸ä¼šæŠ¥é”™çš„ const rnull = MayBe.of(null) .map(x =&gt; x.toUpperCase()) console.log(rnull) //MayBe { _value: null } ä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œå¦‚æœmapä¸­é—´æœ‰å¥½å‡ æ­¥ï¼Œæœ€åè¿”å›æ˜¯nullï¼Œå¹¶ä¸çŸ¥é“æ˜¯å“ªä¸€ä¸ªæ­¥éª¤è¿”å›çš„ã€‚è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦çœ‹ä¸‹ä¸€ä¸ªå‡½å­ã€‚ Eitherå‡½å­ Either ä¸¤è€…ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œç±»ä¼¼äº if...else...çš„å¤„ç† å½“å‡ºç°é—®é¢˜çš„æ—¶å€™ï¼ŒEitherå‡½å­ä¼šç»™å‡ºæç¤ºçš„æœ‰æ•ˆä¿¡æ¯ï¼Œ å¼‚å¸¸ä¼šè®©å‡½æ•°å˜çš„ä¸çº¯ï¼ŒEither å‡½å­å¯ä»¥ç”¨æ¥åšå¼‚å¸¸å¤„ç† // å› ä¸ºæ˜¯äºŒé€‰ä¸€ï¼Œæ‰€ä»¥è¦å®šä¹‰leftå’Œrightä¸¤ä¸ªå‡½å­ class Left { static of (value) { return new Left(value) } constructor (value) { this._value = value } map (fn) { return this } } class Right { static of (value) { return new Right(value) } constructor (value) { this._value = value } map (fn) { return Right.of(fn(this._value)) } } let r1 = Right.of(12).map(x =&gt; x + 2) let r2 = Left.of(12).map(x =&gt; x + 2) console.log(r1) // Right { _value: 14 } console.log(r2) // Left { _value: 12 } // ä¸ºä»€ä¹ˆç»“æœä¼šä¸ä¸€æ ·ï¼Ÿå› ä¸ºLeftè¿”å›çš„æ˜¯å½“å‰å¯¹è±¡ï¼Œå¹¶æ²¡æœ‰ä½¿ç”¨fnå‡½æ•° // é‚£ä¹ˆè¿™é‡Œå¦‚ä½•å¤„ç†å¼‚å¸¸å‘¢ï¼Ÿ // æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢æˆå¯¹è±¡çš„å‡½æ•° function parseJSON(str) { // å¯¹äºå¯èƒ½å‡ºé”™çš„ç¯èŠ‚ä½¿ç”¨try-catch // æ­£å¸¸æƒ…å†µä½¿ç”¨Rightå‡½å­ try{ return Right.of(JSON.parse(str)) }catch (e) { // é”™è¯¯ä¹‹åä½¿ç”¨Leftå‡½å­ï¼Œå¹¶è¿”å›é”™è¯¯ä¿¡æ¯ return Left.of({ error: e.message }) } } let rE = parseJSON('{name:xm}') console.log(rE) // Left { _value: { error: 'Unexpected token n in JSON at position 1' } } let rR = parseJSON('{&quot;name&quot;:&quot;xm&quot;}') console.log(rR) // Right { _value: { name: 'xm' } } console.log(rR.map(x =&gt; x.name.toUpperCase())) // Right { _value: 'XM' } IOå‡½å­ IOå°±æ˜¯è¾“å…¥è¾“å‡ºï¼ŒIO å‡½å­ä¸­çš„ _value æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™é‡Œæ˜¯æŠŠå‡½æ•°ä½œä¸ºå€¼æ¥å¤„ç† IO å‡½å­å¯ä»¥æŠŠä¸çº¯çš„åŠ¨ä½œå­˜å‚¨åˆ° _value ä¸­ï¼Œå»¶è¿Ÿæ‰§è¡Œè¿™ä¸ªä¸çº¯çš„æ“ä½œ(æƒ°æ€§æ‰§è¡Œ)ï¼ŒåŒ…è£…å½“å‰çš„æ“ ä½œ æŠŠä¸çº¯çš„æ“ä½œäº¤ç»™è°ƒç”¨è€…æ¥å¤„ç† å› ä¸ºIOå‡½æ•°éœ€è¦ç”¨åˆ°ç»„åˆå‡½æ•°ï¼Œæ‰€ä»¥éœ€è¦æå‰å®‰è£…Lodash npm init -y npm i lodash const fp = require('lodash/fp') class IO { // ofæ–¹æ³•å¿«é€Ÿåˆ›å»ºIOï¼Œè¦ä¸€ä¸ªå€¼è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå°†æ¥éœ€è¦å€¼çš„æ—¶å€™å†è°ƒç”¨å‡½æ•° static of(value) { return new IO(() =&gt; value) } // ä¼ å…¥çš„æ˜¯ä¸€ä¸ªå‡½æ•° constructor (fn) { this._value = fn } map(fn) { // è¿™é‡Œç”¨çš„æ˜¯newä¸€ä¸ªæ–°çš„æ„é€ å‡½æ•°ï¼Œæ˜¯ä¸ºäº†æŠŠå½“å‰_valueçš„å‡½æ•°å’Œmapä¼ å…¥çš„fnè¿›è¡Œç»„åˆæˆæ–°çš„å‡½æ•° return new IO(fp.flowRight(fn, this._value)) } } // test // nodeæ‰§è¡Œç¯å¢ƒå¯ä»¥ä¼ ä¸€ä¸ªprocesså¯¹è±¡ï¼ˆè¿›ç¨‹ï¼‰ // è°ƒç”¨ofçš„æ—¶å€™æŠŠå½“å‰å–å€¼çš„è¿‡ç¨‹åŒ…è£…åˆ°å‡½æ•°é‡Œé¢ï¼Œå†åœ¨éœ€è¦çš„æ—¶å€™å†è·å–process const r = IO.of(process) // mapéœ€è¦ä¼ å…¥ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°éœ€è¦æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°å°±æ˜¯ofä¸­ä¼ é€’çš„å‚æ•°process // è¿”å›ä¸€ä¸‹processä¸­çš„execPathå±æ€§å³å½“å‰nodeè¿›ç¨‹çš„æ‰§è¡Œè·¯å¾„ .map(p =&gt; p.execPath) console.log(r) // IO { _value: [Function] } // ä¸Šé¢åªæ˜¯ç»„åˆå‡½æ•°ï¼Œå¦‚æœéœ€è¦è°ƒç”¨å°±æ‰§è¡Œä¸‹é¢ console.log(r._value()) // /usr/local/bin/node Taskå‡½å­ï¼ˆå¼‚æ­¥æ‰§è¡Œï¼‰ å‡½å­å¯ä»¥æ§åˆ¶å‰¯ä½œç”¨ï¼Œè¿˜å¯ä»¥å¤„ç†å¼‚æ­¥ä»»åŠ¡ï¼Œä¸ºäº†é¿å…åœ°ç‹±ä¹‹é—¨ã€‚ å¼‚æ­¥ä»»åŠ¡çš„å®ç°è¿‡äºå¤æ‚ï¼Œæˆ‘ä»¬ä½¿ç”¨ folktale ä¸­çš„ Task æ¥æ¼”ç¤º folktale ä¸€ä¸ªæ ‡å‡†çš„å‡½æ•°å¼ç¼–ç¨‹åº“ã€‚å’Œ lodashã€ramda ä¸åŒçš„æ˜¯ï¼Œä»–æ²¡æœ‰æä¾›å¾ˆå¤šåŠŸèƒ½å‡½æ•°ã€‚åªæä¾›äº†ä¸€äº›å‡½æ•°å¼å¤„ç†çš„æ“ä½œï¼Œä¾‹å¦‚ï¼šcomposeã€curry ç­‰ï¼Œä¸€äº›å‡½å­ Taskã€Eitherã€ MayBe ç­‰ folktaleçš„å®‰è£… npm i folktale folktaleä¸­çš„curryå‡½æ•° const {curry } = require('folktale/core/lambda'); // curryä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡½æ•°æœ‰å‡ ä¸ªå‚æ•°ï¼Œä¸ºäº†é¿å…ä¸€äº›é”™è¯¯ const f = curry(2, (x, y) =&gt; x + y) console.log(f(1, 2)) // 3 console.log(f(1)(2)) // 3 folktaleä¸­çš„composeå‡½æ•° const { compose, curry } = require('folktale/core/lambda') const { toUpper, first } = require('lodash/fp') // compose ç»„åˆå‡½æ•°åœ¨lodashé‡Œé¢æ˜¯flowRight const r = compose(toUpper, first) console.log(r(['one', 'two'])) // ONE Taskå‡½å­å¼‚æ­¥æ‰§è¡Œ folktale(2.3.2) 2.x ä¸­çš„ Task å’Œ 1.0 ä¸­çš„ Task åŒºåˆ«å¾ˆå¤§ï¼Œ1.0 ä¸­çš„ç”¨æ³•æ›´æ¥è¿‘æˆ‘ä»¬ç°åœ¨æ¼”ç¤ºçš„ å‡½å­ è¿™é‡Œä»¥ 2.3.2 æ¥æ¼”ç¤º const { task } = require('folktale/concurrency/task') const fs = require('fs') // 2.0ä¸­æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°è¿”å›ä¸€ä¸ªå‡½å­å¯¹è±¡ // 1.0ä¸­æ˜¯ä¸€ä¸ªç±» //è¯»å–æ–‡ä»¶ function readFile (filename) { // taskä¼ é€’ä¸€ä¸ªå‡½æ•°ï¼Œå‚æ•°æ˜¯resolver // resolveré‡Œé¢æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯rejectå¤±è´¥çš„æ—¶å€™æ‰§è¡Œçš„ï¼Œä¸€ä¸ªæ˜¯resolveæˆåŠŸçš„æ—¶å€™æ‰§è¡Œçš„ return task(resolver =&gt; { //nodeä¸­è¯»å–æ–‡ä»¶ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è·¯å¾„ï¼Œç¬¬äºŒä¸ªæ˜¯ç¼–ç ï¼Œç¬¬ä¸‰ä¸ªæ˜¯å›è°ƒï¼Œé”™è¯¯åœ¨å…ˆ fs.readFile(filename, 'utf-8', (err, data) =&gt; { if(err) resolver.reject(err) resolver.resolve(data) }) }) } //æ¼”ç¤ºä¸€ä¸‹è°ƒç”¨ // readFileè°ƒç”¨è¿”å›çš„æ˜¯Taskå‡½å­ï¼Œè°ƒç”¨è¦ç”¨runæ–¹æ³• readFile('package.json') .run() // ç°åœ¨æ²¡æœ‰å¯¹resolveè¿›è¡Œå¤„ç†ï¼Œå¯ä»¥ä½¿ç”¨taskçš„listenå»ç›‘å¬è·å–çš„ç»“æœ // listenä¼ ä¸€ä¸ªå¯¹è±¡ï¼ŒonRejectedæ˜¯ç›‘å¬é”™è¯¯ç»“æœï¼ŒonResolvedæ˜¯ç›‘å¬æ­£ç¡®ç»“æœ .listen({ onRejected: (err) =&gt; { console.log(err) }, onResolved: (value) =&gt; { console.log(value) } }) /** { &quot;name&quot;: &quot;Functor&quot;, &quot;version&quot;: &quot;1.0.0&quot;, &quot;description&quot;: &quot;&quot;, &quot;main&quot;: &quot;either.js&quot;, &quot;scripts&quot;: { &quot;test&quot;: &quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot; }, &quot;keywords&quot;: [], &quot;author&quot;: &quot;&quot;, &quot;license&quot;: &quot;ISC&quot;, &quot;dependencies&quot;: { &quot;folktale&quot;: &quot;^2.3.2&quot;, &quot;lodash&quot;: &quot;^4.17.20&quot; } } */ æ¡ˆä¾‹ const { task } = require('folktale/concurrency/task') const fs = require('fs') const { split, find } = require('lodash/fp') // 2.0ä¸­æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°è¿”å›ä¸€ä¸ªå‡½å­å¯¹è±¡ // 1.0ä¸­æ˜¯ä¸€ä¸ªç±» //è¯»å–æ–‡ä»¶ function readFile (filename) { // taskä¼ é€’ä¸€ä¸ªå‡½æ•°ï¼Œå‚æ•°æ˜¯resolver // resolveré‡Œé¢æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯rejectå¤±è´¥çš„æ—¶å€™æ‰§è¡Œçš„ï¼Œä¸€ä¸ªæ˜¯resolveæˆåŠŸçš„æ—¶å€™æ‰§è¡Œçš„ return task(resolver =&gt; { //nodeä¸­è¯»å–æ–‡ä»¶ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è·¯å¾„ï¼Œç¬¬äºŒä¸ªæ˜¯ç¼–ç ï¼Œç¬¬ä¸‰ä¸ªæ˜¯å›è°ƒï¼Œé”™è¯¯åœ¨å…ˆ fs.readFile(filename, 'utf-8', (err, data) =&gt; { if(err) resolver.reject(err) resolver.resolve(data) }) }) } //æ¼”ç¤ºä¸€ä¸‹è°ƒç”¨ // readFileè°ƒç”¨è¿”å›çš„æ˜¯Taskå‡½å­ï¼Œè°ƒç”¨è¦ç”¨runæ–¹æ³• readFile('package.json') //åœ¨runä¹‹å‰è°ƒç”¨mapæ–¹æ³•ï¼Œåœ¨mapæ–¹æ³•ä¸­ä¼šå¤„ç†çš„æ‹¿åˆ°æ–‡ä»¶è¿”å›ç»“æœ // åœ¨ä½¿ç”¨å‡½å­çš„æ—¶å€™å°±æ²¡æœ‰å¿…è¦æƒ³çš„å®ç°æœºåˆ¶ .map(split('\\n')) .map(find(x =&gt; x.includes('version'))) .run() // ç°åœ¨æ²¡æœ‰å¯¹resolveè¿›è¡Œå¤„ç†ï¼Œå¯ä»¥ä½¿ç”¨taskçš„listenå»ç›‘å¬è·å–çš„ç»“æœ // listenä¼ ä¸€ä¸ªå¯¹è±¡ï¼ŒonRejectedæ˜¯ç›‘å¬é”™è¯¯ç»“æœï¼ŒonResolvedæ˜¯ç›‘å¬æ­£ç¡®ç»“æœ .listen({ onRejected: (err) =&gt; { console.log(err) }, onResolved: (value) =&gt; { console.log(value) // &quot;version&quot;: &quot;1.0.0&quot;, } }) Pointedå‡½å­ Pointedå‡½å­æ˜¯å®ç°äº†ofé™æ€æ–¹æ³•çš„å‡½å­ ofæ–¹æ³•æ˜¯ä¸ºäº†é¿å…ä½¿ç”¨newæ¥åˆ›å»ºå¯¹è±¡ï¼Œæ›´æ·±å±‚çš„å«ä¹‰æ˜¯ofæ–¹æ³•ç”¨æ¥æŠŠå€¼æ”¾åˆ°ä¸Šä¸‹æ–‡ Contextï¼ˆæŠŠå€¼æ”¾åˆ°å®¹å™¨ä¸­ï¼Œä½¿ç”¨ map æ¥å¤„ç†å€¼ï¼‰ class Container { // Pointå‡½å­ // ä½œç”¨æ˜¯æŠŠå€¼æ”¾åˆ°ä¸€ä¸ªæ–°çš„å‡½å­é‡Œé¢è¿”å›ï¼Œè¿”å›çš„å‡½å­å°±æ˜¯ä¸€ä¸ªä¸Šä¸‹æ–‡ static of (value) { return new Container(value) } â€¦â€¦ } // è°ƒç”¨ofçš„æ—¶å€™è·å¾—ä¸€ä¸ªä¸Šä¸‹æ–‡ï¼Œä¹‹åæ˜¯åœ¨ä¸Šä¸‹æ–‡ä¸­å¤„ç†æ•°æ® Contanier.of(2) .map(x =&gt; x + 5) Monadå‡½å­ï¼ˆå•å­) IOå‡½å­çš„åµŒå¥—é—®é¢˜ï¼Œç”¨æ¥è§£å†³IOå‡½å­å¤šå±‚åµŒå¥—çš„ä¸€ä¸ªé—®é¢˜ const fp = require('lodash/fp') const fs = require('fs') class IO { static of (value) { return new IO(() =&gt; { return value }) } constructor (fn) { this._value = fn } map(fn) { return new IO(fp.flowRight(fn, this._value)) } } //è¯»å–æ–‡ä»¶å‡½æ•° let readFile = (filename) =&gt; { return new IO(() =&gt; { //åŒæ­¥è·å–æ–‡ä»¶ return fs.readFileSync(filename, 'utf-8') }) } //æ‰“å°å‡½æ•° // xæ˜¯ä¸Šä¸€æ­¥çš„IOå‡½å­ let print = (x) =&gt; { return new IO(()=&gt; { console.log(x) return x }) } // ç»„åˆå‡½æ•°ï¼Œå…ˆè¯»æ–‡ä»¶å†æ‰“å° let cat = fp.flowRight(print, readFile) // è°ƒç”¨ // æ‹¿åˆ°çš„ç»“æœæ˜¯åµŒå¥—çš„IOå‡½å­ IO(IO(x)) let r = cat('package.json') console.log(r) // IO { _value: [Function] } console.log(cat('package.json')._value()) // IO { _value: [Function] } // IO { _value: [Function] } console.log(cat('package.json')._value()._value()) // IO { _value: [Function] } /** * { &quot;name&quot;: &quot;Functor&quot;, &quot;version&quot;: &quot;1.0.0&quot;, &quot;description&quot;: &quot;&quot;, &quot;main&quot;: &quot;either.js&quot;, &quot;scripts&quot;: { &quot;test&quot;: &quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot; }, &quot;keywords&quot;: [], &quot;author&quot;: &quot;&quot;, &quot;license&quot;: &quot;ISC&quot;, &quot;dependencies&quot;: { &quot;folktale&quot;: &quot;^2.3.2&quot;, &quot;lodash&quot;: &quot;^4.17.20&quot; } } */ ä¸Šé¢é‡åˆ°å¤šä¸ªIOå‡½å­åµŒå¥—çš„æ—¶å€™ï¼Œé‚£ä¹ˆ_valueå°±ä¼šè°ƒç”¨å¾ˆå¤šæ¬¡ï¼Œè¿™æ ·çš„è°ƒç”¨ä½“éªŒå¾ˆä¸å¥½ã€‚æ‰€ä»¥è¿›è¡Œä¼˜åŒ–ã€‚ Monad å‡½å­æ˜¯å¯ä»¥å˜æ‰çš„ Pointed å‡½å­ï¼Œç”¨æ¥è§£å†³IOå‡½å­åµŒå¥—é—®é¢˜ï¼ŒIO(IO(x)) ä¸€ä¸ªå‡½å­å¦‚æœå…·æœ‰ join å’Œ of ä¸¤ä¸ªæ–¹æ³•å¹¶éµå®ˆä¸€äº›å®šå¾‹å°±æ˜¯ä¸€ä¸ª Monad å®ç°ä¸€ä¸ªMonadå‡½å­ const fp = require('lodash/fp') const fs = require('fs') class IO { static of (value) { return new IO(() =&gt; { return value }) } constructor (fn) { this._value = fn } map(fn) { return new IO(fp.flowRight(fn, this._value)) } join () { return this._value() } // åŒæ—¶è°ƒç”¨mapå’Œjoinæ–¹æ³• flatMap (fn) { return this.map(fn).join() } } let readFile = (filename) =&gt; { return new IO(() =&gt; { return fs.readFileSync(filename, 'utf-8') }) } let print = (x) =&gt; { return new IO(()=&gt; { console.log(x) return x }) } let r = readFile('package.json') .flatMap(print) .join() // æ‰§è¡Œé¡ºåº /** * readFileè¯»å–äº†æ–‡ä»¶ï¼Œç„¶åè¿”å›äº†ä¸€ä¸ªIOå‡½å­ * è°ƒç”¨flatMapæ˜¯ç”¨readFileè¿”å›çš„IOå‡½å­è°ƒç”¨çš„ * å¹¶ä¸”ä¼ å…¥äº†ä¸€ä¸ªprintå‡½æ•°å‚æ•° * è°ƒç”¨flatMapçš„æ—¶å€™ï¼Œå†…éƒ¨å…ˆè°ƒç”¨mapï¼Œå½“å‰çš„printå’Œthis._valueè¿›è¡Œåˆå¹¶ï¼Œåˆå¹¶ä¹‹åè¿”å›äº†ä¸€ä¸ªæ–°çš„å‡½å­ * ï¼ˆthis._valueå°±æ˜¯readFileè¿”å›IOå‡½å­çš„å‡½æ•°ï¼š * () =&gt; { return fs.readFileSync(filename, 'utf-8') } * ï¼‰ * flatMapä¸­çš„mapå‡½æ•°æ‰§è¡Œå®Œï¼Œprintå‡½æ•°è¿”å›çš„ä¸€ä¸ªIOå‡½å­ï¼Œé‡Œé¢åŒ…è£¹çš„è¿˜æ˜¯ä¸€ä¸ªIOå‡½å­ * ä¸‹é¢è°ƒç”¨joinå‡½æ•°ï¼Œjoinå‡½æ•°å°±æ˜¯è°ƒç”¨è¿”å›çš„æ–°å‡½å­å†…éƒ¨çš„this._value()å‡½æ•° * è¿™ä¸ªthis._valueå°±æ˜¯ä¹‹å‰printå’Œthis._valueçš„ç»„åˆå‡½æ•°ï¼Œè°ƒç”¨ä¹‹åè¿”å›çš„å°±æ˜¯printçš„è¿”å›ç»“æœ * æ‰€ä»¥flatMapæ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œè¿”å›çš„å°±æ˜¯printå‡½æ•°è¿”å›çš„IOå‡½å­ * */ r = readFile('package.json') // å¤„ç†æ•°æ®ï¼Œç›´æ¥åœ¨è¯»å–æ–‡ä»¶ä¹‹åï¼Œä½¿ç”¨mapè¿›è¡Œå¤„ç†å³å¯ .map(fp.toUpper) .flatMap(print) .join() // è¯»å®Œæ–‡ä»¶ä¹‹åæƒ³è¦å¤„ç†æ•°æ®ï¼Œæ€ä¹ˆåŠï¼Ÿ // ç›´æ¥åœ¨è¯»å–æ–‡ä»¶ä¹‹åè°ƒç”¨mapæ–¹æ³•å³å¯ /** * { &quot;NAME&quot;: &quot;FUNCTOR&quot;, &quot;VERSION&quot;: &quot;1.0.0&quot;, &quot;DESCRIPTION&quot;: &quot;&quot;, &quot;MAIN&quot;: &quot;EITHER.JS&quot;, &quot;SCRIPTS&quot;: { &quot;TEST&quot;: &quot;ECHO \\&quot;ERROR: NO TEST SPECIFIED\\&quot; &amp;&amp; EXIT 1&quot; }, &quot;KEYWORDS&quot;: [], &quot;AUTHOR&quot;: &quot;&quot;, &quot;LICENSE&quot;: &quot;ISC&quot;, &quot;DEPENDENCIES&quot;: { &quot;FOLKTALE&quot;: &quot;^2.3.2&quot;, &quot;LODASH&quot;: &quot;^4.17.20&quot; } } */ ","link":"https://lonjinup.github.io/function-play/"},{"title":"JavaScriptè®¾è®¡æ¨¡å¼-ç­–ç•¥æ¨¡å¼","content":"JavaScriptä¸­ç­–ç•¥æ¨¡å¼ ä»€ä¹ˆæ˜¯ç­–ç•¥æ¨¡å¼ ç­–ç•¥æ¨¡å¼æ˜¯ä¸€ç§ç®€å•å´å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œå®ƒçš„åº”ç”¨åœºæ™¯éå¸¸å¹¿æ³›ã€‚è¯¥æ¨¡å¼å®šä¹‰äº†ä¸€ç³»åˆ—ç®—æ³•ï¼Œå¹¶å°†æ¯ä¸ªç®—æ³•å°è£…èµ·æ¥ï¼Œä½¿å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ï¼Œä¸”ç®—æ³•çš„å˜åŒ–ä¸ä¼šå½±å“ä½¿ç”¨ç®—æ³•çš„å®¢æˆ·ã€‚ç­–ç•¥æ¨¡å¼å±äºå¯¹è±¡è¡Œä¸ºæ¨¡å¼ï¼Œå®ƒé€šè¿‡å¯¹ç®—æ³•è¿›è¡Œå°è£…ï¼ŒæŠŠä½¿ç”¨ç®—æ³•çš„è´£ä»»å’Œç®—æ³•çš„å®ç°åˆ†å‰²å¼€æ¥ï¼Œå¹¶å§”æ´¾ç»™ä¸åŒçš„å¯¹è±¡å¯¹è¿™äº›ç®—æ³•è¿›è¡Œç®¡ç†ã€‚ è¯¥æ¨¡å¼ä¸»è¦è§£å†³åœ¨æœ‰å¤šç§ç®—æ³•ç›¸ä¼¼çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ if...else æ‰€å¸¦æ¥çš„å¤æ‚å’Œéš¾ä»¥ç»´æŠ¤ã€‚å®ƒçš„ä¼˜ç‚¹æ˜¯ç®—æ³•å¯ä»¥è‡ªç”±åˆ‡æ¢ï¼ŒåŒæ—¶å¯ä»¥é¿å…å¤šé‡if...elseåˆ¤æ–­ï¼Œä¸”å…·æœ‰è‰¯å¥½çš„æ‰©å±•æ€§ã€‚ æ¡ˆä¾‹1 åœ¨åšç”µå•†ç³»ç»Ÿæ—¶å€™å¾ˆå¤šæƒ…å†µä¸‹ä¼šæ ¹æ®å•†å“æ¥å•ç‹¬è®¡ç®—ä»–ä»¬çš„ä»·æ ¼ï¼Œæ¯”å¦‚é¢„å”®ä»·ã€åŒåä¸€ä»·æ ¼ã€æ­£å¸¸ä»·ç­‰ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šè¿™ä¹ˆå†™ï¼š function getPrice(price, status) { if (status == 'default') { return price } else if (status == 'pre-sale') { return price * 0.8 } else if (status == 'doubleOneOne') { return price / 2 } } console.log(getPrice(100, 'doubleOneOne')) // 50 ä¸Šé¢ä»£ç ä½¿ç”¨äº†æ¯”è¾ƒå¤šçš„if...elseæ¥è¿›è¡Œä¸åŒæƒ…å†µä¸‹çš„åˆ¤æ–­ï¼ŒåŒæ—¶æŠŠè®¡ç®—é€»è¾‘æ”¾åˆ°äº†getPirceæ–¹æ³•é‡Œé¢ï¼Œå¯¼è‡´æ–¹æ³•æ¯”è¾ƒè‡ƒè‚¿ï¼Œä¸æ˜“ç»´æŠ¤ã€‚å¯ä»¥æŠŠä¸åŒæƒ…å†µä¸‹çš„é€»è¾‘æŠ½ç¦»å‡ºæ¥ï¼Œä¸€æ–¹é¢æ–¹ä¾¿ç»´æŠ¤ï¼Œå¦ä¸€æ–¹é¢å¯ä»¥æé«˜ä»£ç å¤ç”¨ç‡ã€‚ function defaultPrice(price) { return price; } function preSale(price) { return price * 0.8; } function doubleOneOne(price) { return price / 2; } function getPrice(price, status) { if (status == 'default') { return defaultPrice(price) } else if (status == 'pre-sale') { return preSale(price) } else if (status == 'doubleOneOne') { return doubleOneOne(price); } } console.log(getPrice(100, 'pre-sale')) //80 ä¸Šé¢ä»£ç è™½ç„¶æŠŠè®¡ç®—é€»è¾‘å•ç‹¬æŠ½ç¦»å‡ºæ¥äº†ï¼Œä½†æ˜¯ç¾ä¸­ä¸è¶³çš„åœ°æ–¹å°±æ˜¯è¿˜æ˜¯æœ‰å¾ˆå¤šif...elseï¼Œä¸å¤Ÿä¼˜é›…ï¼Œä»”ç»†è§‚å¯Ÿï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå„ç§æƒ…å†µå½“ä½œkeyï¼Œç„¶åå»æ˜ å°„å¯¹åº”çš„æ–¹æ³•ï¼Œè¿™æ ·getPriceæ–¹æ³•å°±ç›¸å½“çº¯ç²¹äº†ï¼ŒåæœŸå¢åŠ ä¸åŒçš„æ´»åŠ¨ï¼Œå•ç‹¬ç»´æŠ¤æ˜ å°„å…³ç³»ä»¥åŠè®¡ç®—æ–¹æ³•å³å¯ã€‚ function defaultPrice(price) { return price; } function preSale(price) { return price * 0.8; } function doubleOneOne(price) { return price / 2; } const priceList = { 'default': defaultPrice, 'pre-sale': preSale, 'doubleOneOne': doubleOneOne, }; function getPrice(price, status) { return priceList[status](price); } console.log(getPrice(100, 'doubleOneOne')); //50 æ¡ˆä¾‹2 å…ˆä¸¾ä¸ªé¡¹ç›®ä¸­å¸¸è§çš„ä¾‹å­ï¼šè¡¨å•éªŒæ ¡ï¼Œè¿™ä¸ªåœ¨æˆ‘ä»¬å¼€å‘ä¸­å‡ ä¹éƒ½ä¼šé‡åˆ°ï¼Œå¯¹äºè¡¨å•ä¸­çš„å„ç§å€¼ï¼Œåœ¨æäº¤æ—¶ä¼šæ ¹æ®ç”¨æˆ·è¾“å…¥çš„å€¼è¿›è¡Œè§„åˆ™éªŒæ ¡ï¼Œå¦‚æœä¸ç¬¦åˆè§„åˆ™å°±æç¤ºç”¨æˆ·ï¼Œå¢åŠ äº§å“ä½“éªŒã€‚ä¸‹é¢å°±å†™ä¸€ä¸ªåŸºç¡€çš„è¡¨å•æ¥ç¤ºèŒƒï¼š &lt;form id='forgot-password-wrapper' action=&quot;&quot; method=&quot;post&quot;&gt; &lt;label for=&quot;mobile&quot;&gt;æ‰‹æœºå·&lt;/label&gt; &lt;input type=&quot;number&quot; id=&quot;mobile&quot; name=&quot;mobile&quot;&gt; &lt;label for=&quot;code&quot;&gt;éªŒè¯ç &lt;/label&gt; &lt;input type=&quot;text&quot; id=&quot;code&quot; name=&quot;code&quot;&gt; &lt;label for=&quot;password&quot;&gt;æ–°å¯†ç &lt;/label&gt; &lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot;&gt; &lt;label for=&quot;passwordAgain&quot;&gt;æ–°å¯†ç &lt;/label&gt; &lt;input type=&quot;password&quot; id=&quot;passwordAgain&quot; name=&quot;passwordAgain&quot;&gt; &lt;button id='push'&gt;ç¡®è®¤&lt;/button&gt; &lt;/form&gt; &lt;script&gt; const forgotPasswordForm = document.getElementById('forgot-password-wrapper') forgotPasswordForm.onsubmit = (e)=&gt;{ e.preventDefault() const mobile = document.getElementById('mobile').value const code = document.getElementById('code').value const password = document.getElementById('password').value const passwordAgain = document.getElementById('passwordAgain').value const mobileReg = /^[1][3,4,5,7,8,9][0-9]{9}$/ if(mobile === null || mobile === ''){ console.log('è¯·è¾“å…¥æ‰‹æœºå·') return false; }else if(!mobileReg.test(mobile)){ console.log('è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·') return false; }else if(code === '' || code === null){ console.log('è¯·è¾“å…¥éªŒè¯ç ') return false; }else if(code.length != 6){ console.log('è¯·è¾“å…¥6ä½æ•°éªŒè¯ç ') return false; }else if(password === '' || password === null){ console.log('è¯·è¾“å¯†ç ') return false; }else if(passwordAgain === '' || passwordAgain === null){ console.log('è¯·å†æ¬¡è¾“å¯†ç ') return false; }else if(passwordAgain != password){ console.log('ä¸¤æ¬¡è¾“å…¥å¯†ç ä¸ä¸€è‡´') return false; }else{ alert('æäº¤æˆåŠŸ') } } &lt;/script&gt; å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬éœ€è¦å¾ˆå¤šif...elseæ¥è¿›è¡Œå„ç§æƒ…å†µçš„åˆ¤æ–­ï¼Œè€Œä¸”æˆ‘ä»¬æ¯å¢åŠ ä¸€ç§ï¼Œéƒ½éœ€è¦åŠ¨è¡¨å•æäº¤çš„å†…éƒ¨ä»£ç ï¼Œè€Œä¸”å¤ç”¨æ€§å‡ ä¹ä¸º0ã€‚ä¸‹é¢æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç­–ç•¥æ¨¡å¼æ”¹å˜ä¸€ä¸‹ï¼š &lt;form id='forgot-password-wrapper' action=&quot;&quot; method=&quot;post&quot;&gt; &lt;label for=&quot;mobile&quot;&gt;æ‰‹æœºå·&lt;/label&gt; &lt;input type=&quot;number&quot; id=&quot;mobile&quot; name=&quot;mobile&quot;&gt; &lt;label for=&quot;code&quot;&gt;éªŒè¯ç &lt;/label&gt; &lt;input type=&quot;text&quot; id=&quot;code&quot; name=&quot;code&quot;&gt; &lt;label for=&quot;password&quot;&gt;æ–°å¯†ç &lt;/label&gt; &lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot;&gt; &lt;label for=&quot;passwordAgain&quot;&gt;æ–°å¯†ç &lt;/label&gt; &lt;input type=&quot;password&quot; id=&quot;passwordAgain&quot; name=&quot;passwordAgain&quot;&gt; &lt;button id='push'&gt;ç¡®è®¤&lt;/button&gt; &lt;/form&gt; &lt;script&gt; /* å•ç‹¬æŠ½ç¦»è§„åˆ™ */ const rules = { isEmpty: (val, message)=&gt;{ if(val === '' || val == null) return message }, checkLength: (val, message, minLength, maxLength)=&gt;{ if(String(val).length &lt; minLength || String(val).length &gt; maxLength) return message }, checkMobile: (val, message)=&gt;{ const mobileReg = /^[1][3,4,5,7,8,9][0-9]{9}$/ if(!mobileReg.test(val)) return message }, isEqual: (val, message, valAgain)=&gt;{ if(val != valAgain) return message } } /* è¡¨å•éªŒæ ¡å°è£… */ const checkFrom = { mobile: (val)=&gt;{ const mobileIsEmpty = rules.isEmpty(val, 'è¯·è¾“å…¥æ‰‹æœºå·') const mobileIsLegitimate = rules.checkMobile(val, 'è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·') const message = mobileIsEmpty || mobileIsLegitimate if(message) return message }, code: (val)=&gt;{ const codeIsEmpty = rules.isEmpty(val, 'è¯·è¾“å…¥éªŒè¯ç ') const codeLength = rules.checkLength(val, 'è¯·è¾“å…¥6ä½æ•°éªŒè¯ç ', 6, 6) const message = codeIsEmpty || codeLength if(message) return message }, password: (val, valAgain)=&gt;{ const passwordIsEmpty = rules.isEmpty(val, 'è¯·è¾“å…¥å¯†ç ') const passwordCheckLength = rules.checkLength(val, 'è¯·è¾“å…¥8-10ä½å¯†ç ', 8, 10) const passwordAgainIsEmpty = rules.isEmpty(valAgain, 'è¯·å†æ¬¡è¾“å…¥å¯†ç ') const passwordAgainCheckLength = rules.checkLength(valAgain, 'å†æ¬¡ç¡®è®¤å¯†ç è¯·è¾“å…¥8-10ä½', 8, 10) const passwirdIsEqual = rules.isEqual(val, 'ä¸¤æ¬¡è¾“å…¥å¯†ç ä¸ä¸€è‡´', valAgain) const message = passwordIsEmpty || passwordCheckLength || passwordAgainIsEmpty || passwordAgainCheckLength || passwirdIsEqual if(message) return message } } /* è¡¨å•æäº¤ */ const forgotPasswordForm = document.getElementById('forgot-password-wrapper') forgotPasswordForm.onsubmit = (e)=&gt;{ e.preventDefault() /* è·å–value */ const mobile = document.getElementById('mobile').value const code = document.getElementById('code').value const password = document.getElementById('password').value const passwordAgain = document.getElementById('passwordAgain').value /* è§„åˆ™éªŒæ ¡ */ const checkMobile = checkFrom.mobile(mobile) const checkCode = checkFrom.code(code) const checkPassword = checkFrom.password(password, passwordAgain) const message = checkMobile || checkCode || checkPassword if(message){ alert(message) }else{ alert('æäº¤æˆåŠŸ') } } &lt;/script&gt; ä»ä»£ç æ•°é‡ä¸Šæ¥çœ‹ï¼Œå¯èƒ½æ„Ÿè§‰æ¯”ä¹‹å‰è¿˜è¦å¤šï¼Œä½†æ˜¯æå¤§çš„æé«˜äº†ä»£ç çš„å¤ç”¨æ€§ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠruleså’ŒcheckFromå•ç‹¬å°è£…ï¼Œåœ¨ä½¿ç”¨çš„åœ°æ–¹ç›´æ¥å¼•ç”¨ï¼Œéšç€rulesçš„ä¸æ–­å¢åŠ ã€checkFromçš„æ‰©å±•ï¼Œæˆ‘ä»¬åœ¨å¤„ç†å„ç§éªŒæ ¡å°±æ–¹ä¾¿å¤šäº†ã€‚ æ€»ç»“ åœ¨å®é™…ä¸šåŠ¡ä¸­ï¼Œå¦‚æœé‡åˆ°å¤šé‡æ¡ä»¶åµŒå¥—é—®é¢˜æ—¶å€™ï¼Œå°±åº”è¯¥è€ƒè™‘ä½¿ç”¨ç­–ç•¥æ¨¡å¼æ¥è¿›è¡Œä¼˜åŒ–ï¼Œè¿™æ ·å¯ä»¥æé«˜ä»£ç å¤ç”¨æ€§ã€å¯è¯»æ€§ï¼Œæ˜“äºç»´æŠ¤ã€‚ ","link":"https://lonjinup.github.io/factorypattern/"},{"title":"vueåŸºç¡€æ•´ç†","content":"Vue. jsåŸºç¡€ Vueçš„åŸºç¡€ç»“æ„ Vueåˆ›å»ºæ–¹å¼æœ‰ä¸¤ç§ï¼š æ–¹å¼1:è¿™ç§æ–¹æ³•å°±æ˜¯Vueå®˜ç½‘æ¼”ç¤ºçš„åˆ›å»ºä¸€ä¸ªåŸºç¡€Vueé¡¹ç›®: &lt;body&gt; &lt;div id='app'&gt; {{message}} &lt;p&gt; {{content}} &lt;/p&gt; &lt;/div&gt; &lt;/body&gt; &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt; &lt;script&gt; new Vue({ el:'#app', data:{ message:'hello', content:'say hi' } }) &lt;/script&gt; &lt;/html&gt; æ–¹å¼2:ä½¿ç”¨renderå‡½æ•°å’Œ$mount &lt;body&gt; &lt;div id='app'&gt; &lt;/div&gt; &lt;/body&gt; &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt; &lt;script&gt; new Vue({ data:{ message:'hello', content:'say hi' }, render(h) { return h('div',[ h('p',this.message), h('p',this.content) ]) }, }).$mount(&quot;#app&quot;) &lt;/script&gt; renderæ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°æ˜¯hå‡½æ•°ï¼Œhå‡½æ•°çš„ä½œç”¨å°±æ˜¯åˆ›å»ºè™šæ‹Ÿdom,renderæ–¹æ³•å°±æ˜¯æŠŠhå‡½æ•°åˆ›å»ºçš„è™šæ‹Ÿdomè¿”å›ã€‚ $mountæ–¹æ³•å°±æ˜¯æŠŠè™šæ‹Ÿdomè½¬åŒ–ä¸ºçœŸå®domï¼Œæ¸²æŸ“åˆ°æµè§ˆå™¨ã€‚vue-cliè„šæ‰‹æ¶å°±æ˜¯é‡‡ç”¨è¿™ç§æ–¹å¼ã€‚ Vueç”Ÿå‘½å‘¨æœŸ Vueç”Ÿå‘½å‘¨æœŸå·²ç»æœ‰å¾ˆå¤šæ–‡ç« äº†ï¼Œè¿™é‡Œå°±ä¸å¤šè®²äº†ï¼Œå€Ÿç”¨ä¸€ä¸‹å®˜ç½‘çš„å›¾ç‰‡ï¼š Vueçš„å¸¸ç”¨è¯­æ³•å’Œæ¦‚å¿µ å·®å€¼è¡¨è¾¾å¼ å¯ä»¥é€šè¿‡åŒå¤§æ‹¬å·ï¼Œå°†dataä¸­çš„æˆå‘˜ï¼Œæ˜¾ç¤ºåœ¨æ¨¡æ¿ä¸­çš„ä»»ä½•ä½ç½®ã€‚å¦‚æœæˆ‘ä»¬çš„å†…å®¹ä¸­æœ‰htmlè¡¨è¾¾å¼ï¼Œå·®å€¼è¡¨è¾¾å¼ä¼šæŠŠhtmlå†…å®¹è§£ææˆæ–‡æœ¬ï¼Œhtmlçš„å†…å®¹ä¼šè¢«è½¬ä¹‰ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æŠŠå†…å®¹å½“åšhtmlè¾“å‡ºçš„è¯ï¼Œ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨v-htmlæŒ‡ä»¤ã€‚ æŒ‡ä»¤ Vueä¸­çš„å†…ç½®æŒ‡ä»¤æœ‰14ä¸ªï¼Œå¯ä»¥å¸®æˆ‘ä»¬åšå¾ˆå¤šäº‹æƒ…ï¼Œå¦‚æœè¿™äº›æŒ‡ä»¤ä¸æ»¡è¶³ä½ çš„éœ€æ±‚ï¼Œæ¯”å¦‚è¯´ä½ æƒ³è®©æ–‡æœ¬æ¡†åœ¨é¡µé¢æ‰“å¼€çš„æ—¶å€™è·å–ç„¦ç‚¹ï¼Œä½ å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰æŒ‡ä»¤ï¼Œåœ¨è‡ªå®šä¹‰æŒ‡ä»¤ä¸­æ“ä½œdomã€‚å¦‚æœæƒ³çœ‹è¯¦ç»†çš„æŒ‡ä»¤ä»‹ç»ï¼Œå¯ä»¥è§‚çœ‹å®˜æ–¹æ–‡æ¡£ã€‚ è®¡ç®—å±æ€§å’Œä¾¦å¬å™¨ æ¨¡æ¿å†…çš„è¡¨è¾¾å¼éå¸¸ä¾¿åˆ©ï¼Œä½†æ˜¯è®¾è®¡å®ƒä»¬çš„åˆè¡·æ˜¯ç”¨äºç®€å•è¿ç®—çš„ã€‚åœ¨æ¨¡æ¿ä¸­æ”¾å…¥å¤ªå¤šçš„é€»è¾‘ä¼šè®©æ¨¡æ¿è¿‡é‡ä¸”éš¾ä»¥ç»´æŠ¤ã€‚ä¾‹å¦‚ï¼š &lt;div id=&quot;example&quot;&gt; {{ message.split('').reverse().join('') }} &lt;/div&gt; åœ¨è¿™ä¸ªåœ°æ–¹ï¼Œæ¨¡æ¿ä¸å†æ˜¯ç®€å•çš„å£°æ˜å¼é€»è¾‘ã€‚ä½ å¿…é¡»çœ‹ä¸€æ®µæ—¶é—´æ‰èƒ½æ„è¯†åˆ°ï¼Œè¿™é‡Œæ˜¯æƒ³è¦æ˜¾ç¤ºå˜é‡ message çš„ç¿»è½¬å­—ç¬¦ä¸²ã€‚å½“ä½ æƒ³è¦åœ¨æ¨¡æ¿ä¸­å¤šæ¬¡å¼•ç”¨æ­¤å¤„çš„ç¿»è½¬å­—ç¬¦ä¸²æ—¶ï¼Œå°±ä¼šæ›´åŠ éš¾ä»¥å¤„ç†ã€‚æ‰€ä»¥å¯¹äºå¤æ‚çš„é€»è¾‘ï¼Œå°±å¯ä»¥ä½¿ç”¨è®¡ç®—å±æ€§ã€‚ ç®€å•çš„è¯´: 1.è®¡ç®—å±æ€§å…¶å®å°±æ˜¯Vueå®ä¾‹çš„ä¸€ä¸ªå±æ€§ 2.è®¡ç®—å±æ€§ä¸€èˆ¬ä¾èµ–ä¼ ç»Ÿçš„Vueå®ä¾‹å±æ€§ 3.è®¡ç®—å±æ€§ä¸€èˆ¬æ˜¯é€šè¿‡è¿ç®—å¾—åˆ°çš„å±æ€§ &lt;body&gt; &lt;div id=&quot;app&quot;&gt;{{reversedMessage}}&lt;/div&gt; &lt;/body&gt; &lt;script src='vue.js'&gt;&lt;/script&gt; &lt;script&gt; var app=new Vue({ el:&quot;#app&quot;, data:{ msg:&quot;hellow world&quot; }, //è®¡ç®—å±æ€§ç®€å•å†™æ³• computed:{ reversedMessage(){ return this.msg.split('').reverse().join('') } }, }) &lt;/script&gt; è®¡ç®—å±æ€§æ˜¯åŸºäºå®ƒä»¬çš„ä¾èµ–è¿›è¡Œç¼“å­˜çš„ï¼Œåªæœ‰åœ¨å®ƒç›¸å…³çš„ä¾èµ–å‘ç”Ÿæ”¹å˜æ—¶æ‰ä¼šé‡æ–°æ±‚å€¼ï¼Œå³è®¡ç®—å±æ€§ä¼šå¯¹è®¡ç®—å‡ºæ¥çš„ç»“æœè¿›è¡Œç¼“å­˜ï¼Œè¿™å°±æ„å‘³ç€åªè¦messageè¿˜æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œå¤šæ¬¡è®¿é—®reversedMessageè®¡ç®—å±æ€§ä¼šç«‹å³è¿”å›ä¹‹å‰çš„è®¡ç®—ç»“æœã€‚ ä¾¦å¬å±æ€§ Vue æä¾›äº†ä¸€ç§æ›´é€šç”¨çš„æ–¹å¼æ¥è§‚å¯Ÿå’Œå“åº” Vue å®ä¾‹ä¸Šçš„æ•°æ®å˜åŠ¨:ä¾¦å¬å±æ€§(watch) &lt;body&gt; &lt;!-- ä¾¦å¬å™¨ --&gt; &lt;div id='app2'&gt; &lt;p&gt;FullName: {{fullName}}&lt;/p&gt; &lt;p&gt;FirstName: &lt;input type=&quot;text&quot; v-model=&quot;firstName&quot;&gt;&lt;/p&gt; &lt;/div&gt; &lt;/body&gt; &lt;script src='vue.js'&gt;&lt;/script&gt; &lt;script&gt; var app2=new Vue({ el: '#app2', data: { firstName: 'first', lastName: 'last', fullName: '' }, watch: { firstName(newName, oldName) { this.fullName = newName + ' ' + this.lastName; } } }) &lt;/script&gt; watchä¸­çš„å¯¹è±¡åœ¨dataä¸­å·²ç»å®šä¹‰äº†,å½“æˆ‘ä»¬è¾“å…¥firstNameåï¼Œ watchç›‘å¬æ¯æ¬¡ä¿®æ”¹å˜åŒ–çš„æ–°å€¼ï¼Œç„¶åè®¡ç®—è¾“å‡ºfullNameã€‚ä¹Ÿå°±æ˜¯ä¸Šé¢çš„ä»£ç ä¸­ï¼ŒfullNameä¸€å¼€å§‹è¢«æ¸²æŸ“å‡ºæ¥çš„æ—¶å€™æ˜¯ç©ºå€¼ã€‚ watchçš„é«˜çº§ç”¨æ³• handleræ–¹æ³•å’Œimmediateå±æ€§:å¦‚ä¸Šæ‰€è¿°ï¼Œä¸€å¼€å§‹è¢«æ¸²æŸ“å‡ºæ¥çš„æ—¶å€™ï¼ŒfullNameæ˜¯ç©ºå€¼,å¦‚æœæƒ³è¦ä¸€å¼€å§‹å°±è®©æœ€åˆç»‘å®šçš„å€¼æ‰§è¡Œè¯¥æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬åªéœ€è¦ç»™firstNameç»‘å®šä¸€ä¸ªhandleræ–¹æ³•ï¼Œä¹‹å‰æˆ‘ä»¬å†™çš„watchæ–¹æ³•å…¶å®é»˜è®¤å†™çš„å°±æ˜¯è¿™ä¸ªhandlerï¼ŒVueä¼šå»å¤„ç†è¿™ä¸ªé€»è¾‘ï¼Œæœ€ç»ˆç¼–è¯‘å‡ºæ¥å…¶å®å°±åªè¿™ä¸ªhandlerï¼Œè®¾ç½®immediate:trueä»£è¡¨å¦‚æœåœ¨ wacth é‡Œå£°æ˜äº†firstNameä¹‹åï¼Œå°±ä¼šç«‹å³å…ˆå»æ‰§è¡Œé‡Œé¢çš„handleræ–¹æ³•ï¼Œå¦‚æœä¸ºfalseå°±è·Ÿæˆ‘ä»¬ä»¥å‰çš„æ•ˆæœä¸€æ ·ï¼Œä¸ä¼šåœ¨ç»‘å®šçš„æ—¶å€™å°±æ‰§è¡Œ. &lt;body&gt; &lt;!-- ä¾¦å¬å™¨ --&gt; &lt;div id='app2'&gt; &lt;p&gt;FullName: {{fullName}}&lt;/p&gt; &lt;p&gt;FirstName: &lt;input type=&quot;text&quot; v-model=&quot;firstName&quot;&gt;&lt;/p&gt; &lt;/div&gt; &lt;/body&gt; &lt;script src='vue.js'&gt;&lt;/script&gt; &lt;script&gt; var app2=new Vue({ el: '#app2', data: { firstName: 'first', lastName: 'last', fullName: '' }, watch: { firstName:{ handler(NewNmae,OldName){ this.fullName = NewNmae + ' ' + this.lastName; }, // ä»£è¡¨åœ¨wacthé‡Œå£°æ˜äº†firstNameè¿™ä¸ªæ–¹æ³•ä¹‹åç«‹å³å…ˆå»æ‰§è¡Œhandleræ–¹æ³• immediate: true } } }) &lt;/script&gt; ç»„ä»¶å’Œæ’æ§½ ç»„ä»¶ï¼šå¯å¤ç”¨çš„vueå®ä¾‹ï¼Œä¸€ä¸ªç»„ä»¶å°è£…äº†html\\js\\cssï¼Œelement-uiä¸­ç»„ä»¶éƒ½æ˜¯ä¸€ä¸ªä¸ªå¯å¤ç”¨çš„vueå®ä¾‹ã€‚ æ’æ§½ï¼šæ’æ§½å¯ä»¥è®©æˆ‘ä»¬åœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸­æŒ–ä¸€ä¸ªå‘ï¼Œåœ¨ä½¿ç”¨è¿™ä¸ªç»„ä»¶çš„æ—¶å€™å»å¡«å‘ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯è®©ç»„ä»¶æ›´çµæ´»ï¼Œ æ¯”å¦‚ï¼švue-routerä¸­çš„router-linkè¿™ä¸ªç»„ä»¶ï¼Œå®ƒé‡Œé¢çš„æ–‡æœ¬æ˜¯åœ¨å¤–éƒ¨ä½¿ç”¨æ—¶ï¼Œ è¢«ä¼ é€’è¿›æ¥ï¼Œå†…éƒ¨æ˜¯ä½¿ç”¨æ“ä½œæ¥è¿›è¡Œå ä½çš„ã€‚ æ’ä»¶ï¼švueçš„æ’ä»¶æœºåˆ¶æˆ‘ä»¬éƒ½ç”¨è¿‡ï¼Œæ¯”å¦‚vue-routerï¼Œvuexï¼Œéƒ½æ˜¯æ’ä»¶ï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æ¥å¼€å‘è‡ªå·±çš„æ’ä»¶ï¼Œå½“æˆ‘ä»¬æ¨¡æ‹Ÿvue-routeræ—¶ï¼Œå°±è‡ªå·±æ¥å†™ä¸€ä¸ªæ’ä»¶ æ··å…¥mixinï¼šå¦‚æœå¤šä¸ªç»„ä»¶éƒ½æœ‰ç›¸åŒçš„é€‰é¡¹ï¼Œå°±å¯ä»¥ä½¿ç”¨æ··å…¥mixinçš„æ–¹å¼ï¼ŒæŠŠç›¸åŒçš„é€‰é¡¹è¿›è¡Œåˆå¹¶ï¼Œè®©ä»£ç é‡ç”¨ï¼Œè¿™æ˜¯è®©ç»„ä»¶é‡ç”¨çš„ä¸€ç§æ–¹å¼ã€‚ å“åº”å¼åŸç†ï¼šå®˜æ–¹æ–‡æ¡£ ","link":"https://lonjinup.github.io/vue-ji-chu-zheng-li/"},{"title":"å¿«é€Ÿä¸Šæ‰‹TypeScript","content":"TypeScriptåŸºç¡€çŸ¥è¯†æ¢³ç† ä¹‹å‰ä¸€ç›´æ‰“ç®—çœ‹çœ‹tsï¼Œä½†ä¸€ç›´æ²‰è¿·æ‘¸ğŸŸæ— æ³•è‡ªæ‹”ï¼Œå…¬å¸ç›®å‰é¡¹ç›®ä¸­ä¹Ÿæ²¡æœ‰tsé¡¹ç›®ã€‚ä»Šå¹´æ‰‹ä¸Šæ­£å¥½æœ‰ä¸¤ä¸ªå°ç¨‹åºé¡¹ç›®ï¼Œäºæ˜¯æ‰“ç®—ç”¨tså†™ä¸€ä¸‹ï¼Œæ„Ÿå—ä¸€ä¸‹tsçš„â€œé­…åŠ›â€ã€‚é¡ºä¾¿æ•´ç†äº†ä¸€ä¸‹å­¦ä¹ ç¬”è®°ï¼Œå¸Œæœ›èƒ½å¸®åˆ°æœ‰éœ€è¦çš„äººã€‚åŒæ—¶ä¹Ÿç”¨XMindåšäº†çŸ¥è¯†å›¾è°±ï¼Œæœ‰éœ€è¦æºæ–‡ä»¶çš„å¯ä»¥è”ç³»æˆ‘ã€‚ å®‰è£…ä¸ç¼–è¯‘ å®‰è£… npm install -g typescript //macä¸‹å®‰è£…å‰é¢éœ€è¦åŠ sudo ç¼–è¯‘ å¯ä»¥æ‰§è¡Œä¸‹é¢å‘½ä»¤è¿›è¡Œç¼–è¯‘ï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹äº§ç”Ÿä¸€ä¸ªtest.jsæ–‡ä»¶ tsc test.ts è¿™æ ·å¯èƒ½è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©æ’ä»¶æ–¹ä¾¿æˆ‘ä»¬æé«˜æ•ˆç‡ï¼š npm install -g ts-node å®‰è£…å®Œååªéœ€æ‰§è¡Œts-node test.tså°±å¯ä»¥åœ¨æ§åˆ¶å°æŸ¥çœ‹è¾“å‡ºç»“æœã€‚ åŸå§‹æ•°æ®ç±»å‹ jsä¸­æ•°æ®ç±»å‹åˆ†ä¸¤ç§ï¼ŒåŸå§‹æ•°æ®ç±»å‹å’Œå¯¹è±¡ç±»å‹ï¼ŒåŸå§‹ç±»å‹åŒ…æ‹¬ï¼šå¸ƒå°”å€¼ã€æ•°å­—ã€å­—ç¬¦ä¸²ã€nullã€undefinedä»¥åŠSymbolã€‚ å¸ƒå°”å€¼ åœ¨TypeScriptä¸­ï¼Œä½¿ç”¨booleanå®šä¹‰å¸ƒå°”å€¼ç±»å‹ let isStatus:boolean=true; æ•°å­— ä½¿ç”¨numberå®šä¹‰æ•°å€¼ç±»å‹ let isNumber:number=1; //16è¿›åˆ¶(ç¼–è¯‘åæ˜¾ç¤º10è¿›åˆ¶æ•°å­—) let isNumber16:number:=0b1010; å­—ç¬¦ä¸² ä½¿ç”¨stringå®šä¹‰å­—ç¬¦ä¸²ç±»å‹ï¼š let isString:string='hello word'; let year:number=2020; let add:string=`${isString},${year}!`; ç©ºå€¼ JavaScript æ²¡æœ‰ç©ºå€¼ï¼ˆVoidï¼‰çš„æ¦‚å¿µï¼Œåœ¨TypeScriptä¸­ï¼Œå¯ä»¥ç”¨voidè¡¨ç¤ºæ²¡æœ‰ä»»ä½•è¿”å›å€¼çš„å‡½æ•°. function alertName():void{ alert(&quot;my name is tom&quot;) } å£°æ˜ä¸€ä¸ª void ç±»å‹çš„å˜é‡æ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œå› ä¸ºä½ åªèƒ½å°†å®ƒèµ‹å€¼ä¸º undefined å’Œ nullã€‚ let unusable: void = undefined; Null å’Œ Undefined åœ¨TypeScriptä¸­å¯ä»¥ä½¿ç”¨nullå’Œundefinedæ¥å®šä¹‰è¿™ä¸¤ä¸ªåŸå§‹æ•°æ®ç±»å‹ let u:undefined=undefined; let n:null=null; ä¸ void çš„åŒºåˆ«æ˜¯ï¼Œundefined å’Œ null æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ã€‚ä¹Ÿå°±æ˜¯è¯´undefinedç±»å‹çš„å˜é‡ï¼Œå¯ä»¥èµ‹å€¼ç»™numberç±»å‹çš„å˜é‡ï¼Œè€Œvoidç±»å‹çš„å˜é‡ä¸èƒ½èµ‹å€¼ç»™numberç±»å‹çš„å˜é‡ï¼š let num:number=undefined;//ä¸ä¼šæŠ¥é”™ let u:undefined; let num: number = u;//ä¹Ÿä¸ä¼šæŠ¥é”™ let u:void; let num:number=u;// Type 'void' is not assignable to type 'number'. ä»»æ„å€¼ ä»»æ„å€¼ï¼ˆAnyï¼‰ç”¨æ¥è¡¨ç¤ºå…è®¸èµ‹å€¼ä¸ºä»»æ„ç±»å‹ã€‚ ä»€ä¹ˆæ˜¯ä»»æ„å€¼ç±»å‹ å¦‚æœæ˜¯ä¸€ä¸ªæ™®é€šç±»å‹ï¼Œåœ¨èµ‹å€¼è¿‡ç¨‹ä¸­æ”¹å˜ç±»å‹æ˜¯ä¸è¢«å…è®¸çš„ï¼š let renyiString:string='string'; renyiString=8; //Type 'number' is not assignable to type 'string'. ä½†å¦‚æœç±»å‹æ˜¯Any,ç±»å‹ï¼Œåˆ™å…è®¸è¢«èµ‹å€¼ä¸ºä»»æ„ç±»å‹: let renyiString:any='string'; renyiString=8; åœ¨ä»»æ„å€¼ä¸Šè®¿é—®ä»»ä½•å±æ€§éƒ½æ˜¯å…è®¸çš„ï¼š let anyThis:any='hello'; console.log(anyThis.myName) console.log(anyThis.myName.firstName) ä¹Ÿå…è®¸è°ƒç”¨ä»»ä½•æ–¹æ³•ï¼š let anyThing: any = 'Tom'; anyThing.setName('Jerry'); anyThing.setName('Jerry').sayHello(); anyThing.myName.setFirstName('Cat'); å¯ä»¥è®¤ä¸ºï¼Œå£°æ˜ä¸€ä¸ªå˜é‡ä¸ºä»»æ„å€¼ä¹‹åï¼Œå¯¹å®ƒçš„ä»»ä½•æ“ä½œï¼Œè¿”å›çš„å†…å®¹çš„ç±»å‹éƒ½æ˜¯ä»»æ„å€¼ã€‚ æœªå£°æ˜ç±»å‹çš„å˜é‡ å˜é‡å¦‚æœåœ¨å£°æ˜çš„æ—¶å€™ï¼ŒæœªæŒ‡å®šå…¶ç±»å‹ï¼Œé‚£ä¹ˆå®ƒä¼šè¢«è¯†åˆ«ä¸ºä»»æ„å€¼ç±»å‹ï¼š let something; something = 'seven'; something = 7; something.setName('Tom'); ç­‰äº let something: any; something = 'seven'; something = 7; something.setName('Tom'); æ•°ç»„çš„ç±»å‹ åŸºç¡€è¡¨ç¤º ã€Œç±»å‹ + æ–¹æ‹¬å·ã€è¡¨ç¤ºæ³• let numbers:number[]=[1,2,3,4,5] æ­¤æ—¶ä¸å…è®¸å‡ºç°å…¶ä»–ç±»å‹ï¼Œè€Œä¸”å¦‚æœä½¿ç”¨æ•°ç»„ä¸­pushç­‰æ–¹æ³•ï¼Œæ·»åŠ å…ƒç´ ä¹Ÿå¾—ç¬¦åˆç›¸åº”ç±»å‹ã€‚ æ•°ç»„æ³›å‹ æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„æ³›å‹ï¼ˆArray Genericï¼‰ Array&lt;elemType&gt; æ¥è¡¨ç¤ºæ•°ç»„ let fibonacci:Array&lt;number&gt;=[1,2,3,4,] å¦‚æœæ•°ç»„ä¸­åˆæœ‰numberç±»å‹åˆæœ‰stringç±»å‹ï¼Œåˆ™å¯ä»¥ç”¨ï½œç¬¦å·æ¥åŒºåˆ«å®šä¹‰ï¼š let arr:(number|string)[]=['tom',1]; æ•°ç»„ä¸­å¯¹è±¡ç±»å‹çš„å®šä¹‰ é¡¹ç›®ä¸­ç»å¸¸é‡åˆ°æ•°ç»„ä¸­æœ‰å¯¹è±¡çš„å­˜åœ¨ï¼Œå¯¹äºè¿™ç§å°±æ¯”è¾ƒéº»çƒ¦äº†ï¼Œæ¯”å¦‚ï¼š let arr:{name:string,age:number}[]=[ {name:'tom',age:18} ] è¿™æ ·å°±æ¯”è¾ƒéº»çƒ¦äº†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨tsä¸­çš„ç±»å‹åˆ«åæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š type PeopleType={name:String,age:Number}; let arr:PeopleType[]=[ {name:'bob',age:19} ] ä¹Ÿå¯ä»¥ç”¨ç±»å‹å®šä¹‰ä¹Ÿå¯ä»¥è§£å†³ï¼š class PeopleType{ name:string; age:number } let arr:PeopleType[]=[ {name:'bob',age:19} ] å…ƒç»„çš„ä½¿ç”¨å’Œç±»å‹çº¦æŸ åœ¨æ•°ç»„ä¸­å¦‚æœé‡Œé¢åˆæœ‰stringå’Œnumber,å¯ä»¥ä½¿ç”¨ï½œæ¥è¿›è¡Œå®šä¹‰ï¼Œä½†ä¸€å®šç¨‹åº¦ä¸Šå¹¶ä¸ä¸¥æ ¼ã€‚æ¯”å¦‚æ”¹æˆä¸‹é¢è¿™ç§æ ¼å¼ï¼š let arr:(number|string)[]=[111,'222',111]; tså¹¶æ²¡æœ‰æŠ¥é”™ï¼Œå¦‚æœæƒ³è¦ä¸¥æ ¼é™åˆ¶ï¼Œåˆ™å¯ä»¥è¿™æ ·è¿›è¡Œçº¦æŸï¼š let arr:[number,string,number]=[111,'222',111]; Interfaceæ¥å£ æ¯”å¦‚æˆ‘ä»¬è¦åšä¸€ä¸ªç­›é€‰ï¼Œå§ä¸ç¬¦åˆæ¡ä»¶çš„è¿‡æ»¤å‡ºå»ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šè¿™æ ·å†™ï¼š const types=(name:string,age:number,height:number)=&gt;{ age&gt;=20 &amp;&amp; height&gt;=180 &amp;&amp; console.log('ç¬¦åˆæ¡ä»¶'); age&lt;=20 &amp;&amp; height &lt;180 &amp;&amp;console.log('ä¸ç¬¦åˆ') }; types('tom',20,180) //ç¬¦åˆæ¡ä»¶ ä½†å¦‚æœåˆä¿®æ”¹äº†ä¸€äº›éœ€æ±‚ï¼Œå¯èƒ½è¿˜ä¼šå»å¤§é‡å˜æ›´ä»£ç ï¼Œåœ¨å¼€å‘ä¸­ï¼Œä»£ç èƒ½å¤ç”¨è‚¯å®šæ˜¯æœ€å¥½çš„ï¼Œæ‰€ä»¥å¯ä»¥æŠŠä¸€äº›é‡å¤çš„ä»£ç æŠ½ç¦»å‡ºæ¥ï¼š interface People{ name:string; age:number; height:number; } const types=(people:People)=&gt;{ people.age&gt;=20 &amp;&amp; people.height&gt;=180 &amp;&amp; console.log('ç¬¦åˆæ¡ä»¶'); people.age&lt;=20 &amp;&amp; people.height &lt;180 &amp;&amp;console.log('ä¸ç¬¦åˆ') }; const choose=(people:People)=&gt;{ console.log(people.name+'----'+people.age+'---'+people.height) } const people={ name:'tom', age:18, height:178 } types(people); choose(people); æ¥å£ä¸ç±»å‹åˆ«åçš„åŒºåˆ« çœ‹èµ·æ¥ä¸¤è€…æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œä½†æœ‰ä¸ªå°ç»†èŠ‚ï¼šç±»å‹åˆ«åå¯ä»¥ç›´æ¥ç»™ç±»å‹ï¼Œæ¥å£å¿…é¡»ä»£è¡¨å¯¹è±¡ type People=string; interface People{ name:string; age:number; height:number; } å¦‚æœä¼ å…¥çš„å‚æ•°ä¸­æœ‰ä¸ç¡®å®šé¡¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ?: æ¥è¿›è¡Œå¤„ç†ï¼š interface People{ name:string; age:number; height:number; say?:string }; const types=(people:People)=&gt;{ people.age&gt;=20 &amp;&amp; people.height&gt;=180 &amp;&amp; console.log('ç¬¦åˆæ¡ä»¶'); people.age&lt;=20 &amp;&amp; people.height &lt;180 &amp;&amp;console.log('ä¸ç¬¦åˆ') }; const people={ name:'tom', age:18, height:178 } const people2={ name:'tom', age:18, height:178, say:'hello' } types(people); types(people2); è¿™æ—¶å€™åˆæœ‰æ–°éœ€æ±‚äº†ï¼Œå¦‚ä½•åœ¨åé¢åŠ å…¥ä»»æ„å¤šçš„å­—æ®µï¼Ÿè¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥è¿™ä¹ˆå†™ï¼š interface People{ name:string; age:number; height:number; say?:string; [propname:string]:any; } const types=(people:People)=&gt;{ people.age&gt;=20 &amp;&amp; people.height&gt;=180 &amp;&amp; console.log('ç¬¦åˆæ¡ä»¶'); people.age&lt;=20 &amp;&amp; people.height &lt;180 &amp;&amp;console.log('ä¸ç¬¦åˆ') }; const people={ name:'tom', age:18, height:178, say:'hello', add:'new add', addNumber:123 } types(people); æ¥å£é‡Œçš„æ–¹æ³• æ¥å£ä¸ä»…ä»…å¯ä»¥å­˜å±æ€§ï¼Œä¹Ÿå¯ä»¥å­˜æ–¹æ³•ï¼š interface People{ name:string; age:number; height:number; goto():string; } const types=(people:People)=&gt;{ people.age&gt;=20 &amp;&amp; people.height&gt;=180 &amp;&amp; console.log('ç¬¦åˆæ¡ä»¶'); people.age&lt;=20 &amp;&amp; people.height &lt;180 &amp;&amp;console.log('ä¸ç¬¦åˆ') }; const people={ name:'tom', age:18, height:178, goto(){ return 'hello' } } types(people) æ¥å£å’Œç±»çš„çº¦æŸ åœ¨ES6ä¸­æ˜¯æœ‰ç±»çš„æ¦‚å¿µï¼Œç±»å¯ä»¥å’Œæ¥å£ç›¸ç»“åˆï¼š interface People{ name:string; age:number; height:number; goto():string; } const types=(people:People)=&gt;{ people.age&gt;=20 &amp;&amp; people.height&gt;=180 &amp;&amp; console.log('ç¬¦åˆæ¡ä»¶'); people.age&lt;=20 &amp;&amp; people.height &lt;180 &amp;&amp;console.log('ä¸ç¬¦åˆ') }; const people={ name:'tom', age:18, height:178, say:'hello', add:'new add', addNumber:123, goto(){ return 'hello' } }; class newPeople implements People{ name='bob'; age=19; height:190; say:'hello'; add:'new add2'; addNumber:123; goto(){ return 'hi' } }; let a=new newPeople(); console.log(a.goto()) types(people) æ¥å£çš„ç»§æ‰¿ æ¥å£ä¸æ¥å£ä¹Ÿæ˜¯å¯ä»¥ç»§æ‰¿çš„ï¼š interface People{ name:string; age:number; height:number; say?:string; [propname:string]:any; goto():string; } const types=(people:newPeople)=&gt;{ people.age&gt;=20 &amp;&amp; people.height&gt;=180 &amp;&amp; console.log('ç¬¦åˆæ¡ä»¶'); people.age&lt;=20 &amp;&amp; people.height &lt;180 &amp;&amp;console.log('ä¸ç¬¦åˆ') }; const people={ name:'tom', age:18, height:178, say:'hello', add:'new add', addNumber:123, goto(){ return 'hello' }, back(){ console.log(1) } } interface newPeople extends People{ back():void } types(people) ç±»çš„åŸºæœ¬ä½¿ç”¨ é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªç±»ï¼š class Test{ name='say' say(){ return this.name } }; è¿™å°±æ˜¯å¹³æ—¶æ‰€å†™çš„ç±»ï¼Œåœ¨tsä¸­çš„ç»§æ‰¿å’ŒES6çš„ç»§æ‰¿æ˜¯ä¸€æ ·çš„ï¼Œå…³é”®å­—ä¹Ÿæ˜¯extendsï¼Œæ¯”å¦‚æˆ‘ä»¬è¿™é‡Œæ–°å»ºä¸ªç±»ï¼Œç»§æ‰¿Text; class Test{ name='say' say(){ return this.name } }; class NewTest extends Test{ back(){ return 'hello' } } const tom=new NewTest(); console.log(tom.say()); console.log(tom.back()); superå…³é”®å­—çš„ä½¿ç”¨ å¦‚æœæƒ³åœ¨sayæ–¹æ³•ä¸­åé¢åŠ ç‚¹ä¸œè¥¿ï¼Œå¯ä»¥è¿™ä¹ˆæ“ä½œï¼š class Test{ name='say' say(){ return this.name } }; class NewTest extends Test{ back(){ return 'hello' } say(){ return super.say()+'----hello' } } const tom=new NewTest(); console.log(tom.say()); console.log(tom.back()); tsä¸­ç±»çš„è®¿é—®ç±»å‹ tsä¸­çš„è®¿é—®ç±»å‹å°±æ˜¯åŸºäºä¸‰ä¸ªå…³é”®å­—ï¼šprivateã€protectedä»¥åŠpubilcè¿™ä¸‰ç§è®¿é—®ç±»å‹ã€‚çœ‹ä¾‹å­ï¼Œå…ˆå®šä¹‰ä¸€ä¸ªç±»ï¼Œç„¶åç”¨è¿™ä¸ªç±»çš„å¯¹è±¡ï¼Œè¿›è¡Œèµ‹å€¼ï¼š class Person{ name:string } const person=new Person(); person.name='tom'; console.log(person.name) pubilc è¿è¡Œå¯ä»¥çœ‹åˆ°æ­£å¸¸çš„è¾“å‡ºå†…å®¹ï¼Œè¿™æ˜¯å› ä¸ºå¦‚æœä¸å¯¹nameçš„è®¿é—®å±æ€§è¿›è¡Œå®šä¹‰ï¼Œé‚£ä¹ˆä»–çš„é»˜è®¤å±æ€§å°±æ˜¯pubilc,ä»å­—é¢æ„æ€æ¥çœ‹ï¼Œå®ƒçš„æ„æ€å°±æ˜¯å…¬ç”¨çš„ï¼Œå…è®¸åœ¨ç±»çš„å†…éƒ¨å’Œå¤–éƒ¨è¢«è°ƒç”¨ã€‚ class Person{ public name:string } const person=new Person(); person.name='tom'; console.log(person.name) private privateçš„å±æ€§æ„æ€å°±æ˜¯åªå…è®¸åœ¨ç±»çš„å†…éƒ¨è°ƒç”¨ï¼Œä¸èƒ½åœ¨å¤–éƒ¨è°ƒç”¨ class Person{ private name:string; public say(){ console.log(this.name+'-----hello'); } } const person=new Person(); person.name='tom';//æŠ¥é”™ console.log(person.name)//æŠ¥é”™ protected protectedå…è®¸åœ¨ç±»å†…ä»¥åŠç»§æ‰¿çš„å­ç±»ä¸­ä½¿ç”¨ï¼ŒæŠŠåˆšåˆšçš„nameæ”¹æˆprotectedå±æ€§ï¼Œè¿™æ—¶å€™åœ¨å¤–éƒ¨å°±ä¼šæŠ¥é”™ï¼Œè¿™æ—¶å€™å†å†™ä¸€ä¸ªç»§æ‰¿ï¼Œä»£ç å¦‚ä¸‹ï¼š class Person{ protected name:string; public say(){ console.log(this.name+'-----hello'); } } const person=new Person(); person.name='tom';//æŠ¥é”™ console.log(person.name)//æŠ¥é”™ class NewPerson extends Person{ public back(){ console.log(this.name) } } const newperson=new NewPerson(); newperson.back()//æ­£å¸¸ ç±»çš„æ„é€ å‡½æ•° é¦–å…ˆæ–°å»ºä¸€ä¸ªç±»ï¼šPerson,å®šä¹‰ä¸€ä¸ªnameï¼Œå¹¶åœ¨newçš„æ—¶å€™è¿›è¡Œå‚æ•°ä¼ é€’ï¼Œç„¶åæ‰“å°å‡ºæ¥ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨æ„é€ å‡½æ•°constructor : class Person{ pubilc name:string; constructor(name){ this.name=name } }; const person=new Person('tom'); console.log(person.name); å¯ä»¥çœ‹åˆ°å¯ä»¥æ‰“å°å‡ºæ¥ï¼Œä½†æ˜¯ä¸Šé¢å†™æ³•æœ‰ç‚¹éº»çƒ¦ï¼Œè¿˜å¯ä»¥å†è¿›è¡Œç®€åŒ–ï¼š class Person{ constructor(pubilc name:string){} }; const person=new Person('tom'); console.log(person.name); ç±»ç»§æ‰¿ä¸­çš„æ„é€ å™¨å†™æ³• æ™®é€šçš„ä¹¦å†™æ–¹æ³•ä¸Šé¢å·²ç»æ¼”ç¤ºäº†ï¼Œåœ¨å­ç±»ä¸­ä½¿ç”¨æ„é€ å‡½æ•°éœ€è¦ç”¨**super()**è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œç›´æ¥çœ‹ä»£ç ï¼š class Person{ constructor(pubilc name:string){} }; class Teacher extends Person{ constructor(pubilc age:number){ super() } }; const teacher=new Teacher(18); console.log(teacher.age+'---'+teacher.name); tsä¸­ç±»çš„Getterã€Setterã€staticä»¥åŠreadonly åœ¨ä¸Šé¢ä¸­æåˆ°äº†è®¿é—®ç±»å‹private,å®ƒçš„æœ€å¤§ç”¨å¤„å°±æ˜¯å°è£…ä¸€ä¸ªä¹¦å†™ï¼Œç„¶åé€šè¿‡Getterå’ŒSetterå»è®¿é—®å’Œä¿®æ”¹ï¼š class Person{ constructor(private _age:number){ } } å¦‚æœæƒ³è®©åˆ«äººçŸ¥é“ï¼Œå°±å¯ä»¥ä½¿ç”¨Getteræ¥å®ç°ï¼Œä»–å¹¶ä¸æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œåªæ˜¯ä¸€ä¸ªå±æ€§ï¼š class Person{ constructor(private _age:number){ }; get age(){ return this._age } }; const person=new Person(30); console.log(person.age) è¿™æ—¶å€™ä½ å¯èƒ½ä¼šè§‰å¾—è¿™ä¸æ˜¯å¤šæ­¤ä¸€ä¸¾å—ï¼Ÿä½†åœ¨Getterä¸­å¯ä»¥å¯¹ _ageè¿›è¡Œå¤„ç†ï¼š class Person{ constructor(private _age:number){ }; get age(){ return this._age-10 } }; const person=new Person(30); console.log(person.age) æ—¢ç„¶ _ageæ˜¯ç§æœ‰çš„ï¼Œæˆ‘ä»¬æ— æ³•è¿›è¡Œæ”¹å˜ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ç”¨Setterè¿›è¡Œæ”¹å˜ï¼š class Person{ constructor(private _age:number){ }; get age(){ return this._age } set age(age:number){ this._age=age } }; const person=new Person(30); person.age=20; console.log(person.age) åœ¨ç±»ä¸­ï¼Œå¦‚æœæƒ³ç”¨è¿™ä¸ªç±»çš„å®ä¾‹ï¼Œå°±å¿…é¡»å…ˆè¿›è¡Œnewæ“ä½œï¼Œä½†æœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•ä¸éœ€è¦newå°±å¯ä»¥ï¼Ÿ //å¸¸è§„æ–¹æ³• class Person{ say(){ return 'say hello' } }; const person=new Person(); console.log(person.say()); åœ¨tsä¸­ï¼Œæˆ‘ä»¬ä¸æƒ³newçš„è¯å¯ä»¥è¿™ä¹ˆå†™ï¼š class Person{ static say(){ return 'say hello' } }; console.log(Person.say()) readonlyåœ¨åˆå§‹åŒ–åèµ‹å€¼ï¼Œä»¥åå°±ä¸èƒ½è¿›è¡Œä¿®æ”¹ class Person{ constructor(readonly name:string){} } let p=new Person('tom'); p.name='bob'//æŠ¥é”™ console.log(p.name); ç±»çš„æŠ½è±¡ç±» abstract ç”¨äºå®šä¹‰æŠ½è±¡ç±»å’Œå…¶ä¸­çš„æŠ½è±¡æ–¹æ³•ã€‚å®ƒæœ‰å‡ ä¸ªç‰¹ç‚¹ï¼š æŠ½è±¡ç±»æ˜¯ä¸å…è®¸å®ä¾‹åŒ–çš„ //é”™è¯¯æ¼”ç¤º abstract class Person { public abstract say() } const tom=new Person()//æ— æ³•åˆ›å»ºæŠ½è±¡ç±»çš„å®ä¾‹ æŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•å¿…é¡»è¢«å­ç±»å®ç°ï¼š //é”™è¯¯æ¼”ç¤º abstract class Person { abstract say(){ console.log('hello') } } class Tom extends Person{ say(){ console.log('say hello') } }; //æ­£ç¡®æ–¹æ³• abstract class Person { abstract say() } class Tom extends Person{ say(){ console.log('say hello') } }; tsconfig.jsoné…ç½® ç”Ÿæˆ æˆ‘ä»¬å¯ä»¥é€šè¿‡tsc --initå»ç”Ÿæˆtsé…ç½®æ–‡ä»¶: tsc --init //ç»ˆç«¯æ‰§è¡Œ ç¼–è¯‘ ä¼šç”Ÿæˆä¸€ä¸ªtsconfig.jsonæ–‡ä»¶ï¼Œæˆ‘ä»¬åœ¨tsæ–‡ä»¶ä¸­å¯ä»¥éšä¾¿å†™ç‚¹ä»€ä¹ˆï¼š //æµ‹è¯•tsconfig.json const test:string='tsconfig.json'; ç„¶åæ‰“å¼€tsconfig.jsonæ–‡ä»¶ï¼Œæ‰¾åˆ°complilerOptionså±æ€§ä¸‹çš„removeComments:trueï¼ˆè¿™ä¸ªé…ç½®æ˜¯ç¼–è¯‘åä¸è¾“å‡ºæ³¨é‡Šï¼‰ï¼Œå–æ¶ˆæ‰æ³¨é‡Šï¼Œç„¶åæ‰§è¡Œå‘½ä»¤ï¼š tsc è¿™æ—¶å€™æ‰“å¼€ç”Ÿæˆçš„jsæ–‡ä»¶ï¼Œå‘ç°æ²¡æœ‰æ³¨é‡Šï¼Œè¯´æ˜æˆåŠŸã€‚ include ã€exclude å’Œ files å¦‚æœæœ‰å¤šä¸ªtsæ–‡ä»¶ï¼Œåªæƒ³ç¼–è¯‘ä¸€ä¸ªå¯ä»¥åœ¨tsé…ç½®é¡¹ä¸­åŠ å…¥includeï¼š &quot;include&quot;:[&quot;text.ts&quot;], å¦‚æœæƒ³é™¤äº†æŸä¸ªæ–‡ä»¶ä¸ç¼–è¯‘ï¼Œå‰©ä¸‹çš„éƒ½ç¼–è¯‘ï¼Œå¯ä»¥ä½¿ç”¨excludeï¼š &quot;exclude&quot;:[&quot;text.ts&quot;], fileså’Œincludeæ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼š &quot;files&quot;:[&quot;text.ts&quot;], compilerOptionsé…ç½® removeComments è¿™ä¸ªé…ç½®æ„æ€å°±æ˜¯ç¼–è¯‘åä¸è¾“å‡ºæ³¨é‡Š strict è¿™ä¸ªè®¾ç½®ä¸ºtrue,å°±ä»£è¡¨ä¸¥æ ¼æ‰§è¡Œtsè¯­æ³•ï¼Œè¦ä¸¥æ ¼æŒ‰ç…§tsè¯­æ³•æ¥ç¼–å†™ã€‚ noImplicitAny å…è®¸ä½ çš„æ³¨è§£ç±»å‹ any ä¸ç”¨ç‰¹æ„è¡¨æ˜ï¼Œå¦‚æœæ­¤æ—¶è®¾ç½®äº†true,çœ‹ä¾‹å­ï¼š //è¿™æ—¶å€™ç¼–è¯‘ä¼šæŠ¥é”™ function test(name) { return name; } //æ­£ç¡® function test(name:any) { return name; } strictNullChecks æ„æ€å°±æ˜¯ï¼Œä¸å¼ºåˆ¶æ£€æŸ¥nullç±»å‹,æ­¤æ—¶å¦‚æœé…ç½®ä¸ºtrueçœ‹ä¾‹å­: //æ­¤æ—¶å°±ä¸ä¼šæŠ¥é”™ const test: string = null; outDirå’ŒrootDir æ­¤é¡¹é…ç½®æ˜¯æ¥æŒ‡å®šæ–‡ä»¶ç›®å½•å’Œæ‰“åŒ…åå­˜æ”¾ç›®å½•ï¼ŒrootDirä¸ºæ–‡ä»¶ç›®å½•ï¼ŒoutDirä¸ºæ‰“åŒ…åä¿å­˜çš„ç›®å½• { &quot;outDir&quot;: &quot;./build&quot; , &quot;rootDir&quot;: &quot;./src&quot; , } ç¼–è¯‘ES6è¯­æ³• å¯ä»¥ä½¿ç”¨targetå’ŒallowJsï¼Œtargeté»˜è®¤ä¸ºtrue &quot;target&quot;:'es5' , // è¿™ä¸€é¡¹é»˜è®¤æ˜¯å¼€å¯çš„ï¼Œä½ å¿…é¡»è¦ä¿è¯å®ƒçš„å¼€å¯ï¼Œæ‰èƒ½è½¬æ¢æˆåŠŸ &quot;allowJs&quot;:true, // è¿™ä¸ªé…ç½®é¡¹çš„æ„æ€æ˜¯è”é€š sourceMap sourceMap ç®€å•è¯´ï¼ŒSource map å°±æ˜¯ä¸€ä¸ªä¿¡æ¯æ–‡ä»¶ï¼Œé‡Œé¢å‚¨å­˜ç€ä½ç½®ä¿¡æ¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè½¬æ¢åçš„ä»£ç çš„æ¯ä¸€ä¸ªä½ç½®ï¼Œæ‰€å¯¹åº”çš„è½¬æ¢å‰çš„ä½ç½®ã€‚æœ‰äº†å®ƒï¼Œå‡ºé”™çš„æ—¶å€™ï¼Œé™¤é”™å·¥å…·å°†ç›´æ¥æ˜¾ç¤ºåŸå§‹ä»£ç ï¼Œè€Œä¸æ˜¯è½¬æ¢åçš„ä»£ç ã€‚è¿™æ— ç–‘ç»™å¼€å‘è€…å¸¦æ¥äº†å¾ˆå¤§æ–¹ä¾¿ã€‚ noUnusedLocals è®¾ç½®noUnusedLocalsä¸ºtrueï¼Œç¼–è¯‘ä»£ç ï¼š const name:tring='111'; export const age = &quot;text&quot;; è¿™æ—¶å€™å°±ä¼šæŠ¥é”™ï¼Œå› ä¸ºæœ‰nameå˜é‡æ²¡æœ‰ä½¿ç”¨ã€‚ æ›´å¤š æ›´å¤šå¯ä»¥æŸ¥çœ‹ é…ç½®æŸ¥è¯¢ç½‘ç«™ è”åˆç±»å‹å’Œç±»å‹ä¿æŠ¤ è”åˆç±»å‹ è”åˆç±»å‹çš„æ„æ€å°±æ˜¯å…è®¸ä¸€ä¸ªç±»å‹æœ‰ä¸¤ç§æˆ–è€…ä¸¤ç§ä»¥ä¸Šçš„ç±»å‹: interface Test{ name:string; say:()=&gt;{ } } interface Test2{ name:string; call:()=&gt;{}; } function Tom(fun: Test | Test2){ console.log(fun.name) } å¦‚æœæ­¤æ—¶ä¿®æ”¹ä¸€ä¸‹æ–¹æ³•ï¼š function Tom(fun: Test | Test2){ fun.say() } //æŠ¥é”™ è¿™æ˜¯å› ä¸ºåªèƒ½è®¿é—®ä¸¤ä¸ªç±»å‹çš„å…±æœ‰æ–¹æ³•ã€‚ ç±»å‹ä¿æŠ¤-ç±»å‹æ–­è¨€ ä¸Šé¢çš„æ–¹æ³•ï¼Œå¦‚æœä¿®æ”¹å®ŒæŠ¥é”™ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥ç”¨asæ¥åˆ¤æ–­ï¼š interface Test { text: boolean; say(): void } interface Test2 { text: boolean; skill():string } function judgeWho(val: Waiter | Teacher) { if (val.text) { (val as Teacher).skill(); }else{ (val as Waiter).say(); } } const a={ text:true, skill:function():void{ console.log(1) }, say:function():void{ console.log(2) } } judgeWho(a) //1 ç±»å‹ä¿æŠ¤-inè¯­æ³• inæ–¹æ³•ä¸æ–­è¨€æ¯”è¾ƒç±»ä¼¼ï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š interface Person{ name:string; say:()=&gt;{ } } interface Person2{ name:string; todo:()=&gt;{ } }; function tom(val:Person|Person2){ if('todo' in val){ val.todo() }else{ val.say() } } ç±»å‹ä¿æŠ¤-typeofè¯­æ³• å¯ä»¥ç”¨typeofæ–¹æ³•æ¥åˆ¤æ–­ï¼š function add(name:string|number,name2:string|number){ if(typeof name==='string'||typeof name2=='string'){ return name+'---'+name2 }else{ return name+name2 } } add(1,2) ç±»å‹ä¿æŠ¤-instanecofè¯­æ³• å¦‚æœè¦ä¿æŠ¤ç±»å‹æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå°±å¯ä»¥ä½¿ç”¨instanceofï¼š class NumObject{ num:number } function numbers(num1:object|NumObject,num2:object|NumObject){ if(num1 instanceof NumObject &amp;&amp; num2 instanceof NumObject){ return num1.num+num2.num } } Enumæšä¸¾ç±»å‹ æˆ‘ä»¬å¹³æ—¶ä¼šæœ‰è¿™ç§å†™æ³•ï¼š function getName(status:any){ if(status===0){ return 'one' }else if(status===1){ return 'two' }else{ return 'three' } } console.log(getName(0)) è¿™ä¹ˆå†™å¯èƒ½æœ‰ç‚¹éº»çƒ¦ï¼Œé˜…è¯»èµ·æ¥è¿˜æ˜¯æœ‰ç‚¹éº»çƒ¦ï¼Œè¿™æ—¶å€™å¯ä»¥è¿™ä¹ˆå†™ï¼š const Status={ ONE:0, TWO:1, THREE:3 } function getName(status:any){ if(status===Status.ONE){ return 'one' }else if(status===Status.TWO){ return 'two' }else{ return 'three' } } console.log(getName(0)); è¿™æ—¶å€™æˆ‘ä»¬çš„æšä¸¾å°±è¦ä¸Šåœºäº†ï¼š enum Status{ ONE, TWO, THREE } function getName(status:any){ if(status===Status.ONE){ return 'one' }else if(status===Status.TWO){ return 'two' }else{ return 'three' } } console.log(getName(1)); ä¸€æ ·ä¹Ÿå¯ä»¥è¾“å‡ºï¼Œå› ä¸ºæšä¸¾æ˜¯æœ‰å¯¹åº”æ•°å­—å€¼çš„ï¼Œé»˜è®¤ä»0å¼€å§‹ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ”¹å˜ï¼š enum Status{ ONE=1, TWO,//2 THREE//3 } ä¹Ÿå¯ä»¥è¿›è¡Œè¿”æŸ¥æ“ä½œï¼š enum Status{ ONE, TWO, THREE } function getName(status:any){ if(status===Status.ONE){ return 'one' }else if(status===Status.TWO){ return 'two' }else{ return 'three' } } console.log(Status.ONE,Status[1]); æ³›å‹ æ³›å‹ï¼ˆGenericsï¼‰æ˜¯æŒ‡åœ¨å®šä¹‰å‡½æ•°ã€æ¥å£æˆ–ç±»çš„æ—¶å€™ï¼Œä¸é¢„å…ˆæŒ‡å®šå…·ä½“çš„ç±»å‹ï¼Œè€Œåœ¨ä½¿ç”¨çš„æ—¶å€™å†æŒ‡å®šç±»å‹çš„ä¸€ç§ç‰¹æ€§ã€‚ åœ¨å‡½æ•°ä¸­ä½¿ç”¨ æˆ‘ä»¬å…ˆç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼š function add(one:string,two:string){ return `${one}${two}` } console.log(add('a','b')) è¿™æ—¶å€™æˆ‘ä»¬å¸Œæœ›å‚æ•°æ›´åŠ çµæ´»ä¸€äº›ï¼Œä¸¤ä¸ªå‚æ•°ä¸ºnumberæˆ–è€…stringï¼š function add(one:string|number,two:string|number){ return `${one}${two}` } console.log(add('a','b')) è¿™ä¹ˆä¹¦å†™æœ‰äº›éº»çƒ¦ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨æ³›å‹ï¼š function add&lt;T&gt;(one:T,two:T){ return `${one}${two}` } console.log(add&lt;string&gt;('a','b')) åœ¨ä½¿ç”¨ä¸­ï¼Œæ³›å‹é€šå¸¸ç”¨ &lt;T&gt; æ¥è¿›è¡Œè¡¨ç¤ºã€‚æ³›å‹å¯ä»¥æœ‰å¤šä¸ªå—ï¼Ÿå½“ç„¶å¯ä»¥ï¼š function add&lt;T,P&gt;(one:T,two:P){ return `${one}${two}` } console.log(add&lt;string,number&gt;('a',2)) åŒæ—¶æ³›å‹ä¹Ÿæ”¯æŒç±»å‹æ¨æ–­ï¼š function add&lt;T,P&gt;(one:T,two:P){ return `${one}${two}` } console.log(add&lt;string,number&gt;('a',2)) åœ¨ç±»ä¸­ä½¿ç”¨ é¦–å…ˆå…ˆå†™ä¸€ä¸ªç±»,ä¸”æ¥å—å‚æ•°ä¸ºä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„é‡Œé¢å­˜æ”¾stringç±»å‹çš„æ•°æ®ï¼š class List { constructor(private list:string[]) {}; getItem(index:number):string{ return this.list[index] } }; const list=new List(['girl','boy','wom']); console.log(list.getItem(1)) è¿™æ—¶å€™å¦‚æœæˆ‘ä»¬ä¼ é€’æ•°ç»„æ—¶å€™é‡Œé¢åˆæƒ³æ”¾æ•°å­—æ€ä¹ˆåŠï¼š class List { constructor(private list:string[]|number[]) {}; getItem(index:number):string|number{ return this.list[index] } }; const list=new List(['girl','boy','wom']); console.log(list.getItem(1)) è¿™ä¹ˆå†™å°±æ¯”è¾ƒå¤æ‚äº†,è¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨æ³›å‹æ¥ç®€åŒ–æˆ‘ä»¬çš„ä»£ç ï¼š class List&lt;T&gt;{ constructor(private list:T[]) {}; getItem(index:number):T{ return this.list[index] } }; const list=new List(['girl','boy','wom']); console.log(list.getItem(1)) å‘ç°ä¸Šé¢çš„ä»£ç æ²¡æœ‰æŠ¥é”™ï¼Ÿå› ä¸ºç±»å‹æ¨è®ºï¼Œæ‰€ä»¥ä¸ä¼šæŠ¥é”™ï¼Œä¸¥æ ¼æ„ä¹‰ä¸Šåº”è¯¥newçš„æ—¶å€™åŠ ä¸Šç±»å‹ï¼š const list=new List&lt;string&gt;(['girl','boy','wom']); è¿˜æœ‰ä¸€ç§åœºæ™¯ï¼Œä¼ é€’è¿‡æ¥æ˜¯ä¸€ä¸ªæ•°ç»„å¯¹è±¡ï¼Œè¿™æ—¶å€™å¯ä»¥é€šè¿‡ç»§æ‰¿æ¥è§£å†³ï¼š interface People{ name:string } class List&lt;T extends People&gt;{ constructor(private list:T[]) {}; getItem(index:number):string{ return this.list[index].name } }; const list=new List( [ {name:'boy'}, {name:'girl'} ] ); console.log(list.getItem(1)) æ³›å‹çº¦æŸ ä¸Šé¢ä¾‹å­ä¸­ï¼Œæ³›å‹å¯ä»¥ä¸ºä»»æ„å€¼ï¼Œä½†æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›è¿˜æ˜¯èƒ½ç¨å¾®çº¦æŸä¸€ä¸‹ï¼š function list&lt;T extends number|string&gt;(name:T){ return `${name}` } console.log(list&lt;number&gt;(1)) class List&lt;T extends number|string&gt; { constructor(private list:T[]) { }; getItem(index:number):T{ return this.list[index] } } const list=new List([1,2]) console.log(list.getItem(0)) Namespaceå‘½åç©ºé—´ æ–°å»ºä¸€ä¸ªtsé¡¹ç›® é¦–å…ˆï¼Œæˆ‘ä»¬å»ºç«‹ä¸€ä¸ªé¡¹ç›®æ–‡ä»¶ï¼Œç„¶ånpm init -yç”Ÿæˆpackage.jsonæ–‡ä»¶ï¼Œç„¶åå†tsc -initç”Ÿæˆtsé…ç½®æ–‡ä»¶ã€‚ åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºindex.htmlæ–‡ä»¶ï¼Œå†å»ºç«‹ä¸€ä¸ªsrcå’Œbulidç›®å½•ï¼Œåœ¨srcç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªindex.jsã€‚ é…ç½®tsconfig.jsonæ–‡ä»¶ï¼Œè®¾ç½®å…¥å£å’Œè¾“å‡ºç›®å½•ï¼ˆoutDirå’ŒrootDirï¼‰ã€‚ æ‰“å¼€index.html,å¼•å…¥jsæ–‡ä»¶ï¼š &lt;script src=&quot;./build/index.js&quot;&gt;&lt;/script&gt; åœ¨æ–°å»ºçš„tsæ–‡ä»¶ä¸­éšä¾¿å†™ç‚¹ä»€ä¹ˆï¼š console.log('hello'); ç„¶åtscç¼–è¯‘ä¸€ä¸‹ï¼Œæ‰“å¼€æ§åˆ¶å°ï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°äº† ç¼–å†™ä¸€ä¸ªå°ç»„ä»¶ åœ¨æˆ‘ä»¬åˆšåˆšå»ºç«‹çš„index.tsæ–‡ä»¶ï¼Œå†™ä¸€ä¸ªheaderã€contentå’Œfooterç»„ä»¶ï¼š class Header { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Header&quot;; document.body.appendChild(elem); } } class Content { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Content&quot;; document.body.appendChild(elem); } } class Footer { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Footer&quot;; document.body.appendChild(elem); } } class Page { constructor() { new Header(); new Content(); new Footer(); } } ç„¶ååœ¨index.htmlä¸­åŠ ä¸€è¡Œjsä»£ç ï¼š &lt;script&gt;new Page();&lt;/script&gt; è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å†…å®¹æ­£å¸¸è¾“å‡ºï¼Œä½†æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬çš„Headerã€contentå’Œfooteréƒ½æš´éœ²äº†å‡ºæ¥ï¼Œå¹¶ä¸æ˜¯åªæš´éœ²ä¸€ä¸ªpageï¼Œè¿™æ—¶å€™æˆ‘ä»¬çš„å‘½åç©ºé—´å°±æ´¾ä¸Šäº†ç”¨åœºï¼š å‘½åç©ºé—´ å‘½åç©ºé—´å£°æ˜çš„å…³é”®è¯æ˜¯namespace æ¯”å¦‚å£°æ˜ä¸€ä¸ªnamespace Home,éœ€è¦æš´éœ²å‡ºå»çš„ç±»ï¼Œå¯ä»¥ä½¿ç”¨exportå…³é”®è¯ï¼Œè¿™æ ·åªæœ‰æš´æ¼å‡ºå»çš„ç±»æ˜¯å…¨å±€çš„ï¼Œå…¶ä»–çš„ä¸ä¼šå†ç”Ÿæˆå…¨å±€æ±¡æŸ“äº†ã€‚ namespace Home { class Header { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Header&quot;; document.body.appendChild(elem); } } class Content { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Content&quot;; document.body.appendChild(elem); } } class Footer { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Footer&quot;; document.body.appendChild(elem); } } export class Page { constructor() { new Header(); new Content(); new Footer(); } } } è¿™ä¹ˆå†™ä¹Ÿæ˜¯æ¯”è¾ƒéº»çƒ¦ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦å¼•å…¥ä¸¤ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®æ¥è®©ä»–æˆä¸ºä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰“å¼€tsconfig.json,æ‰¾åˆ°è¿™ä¸€è¡Œï¼š &quot;module&quot;:&quot;commonjs&quot; //ä¿®æ”¹ä¸ºï¼š &quot;module&quot;:&quot;amd ç„¶åæ‰¾åˆ°è¿™ä¸€è¡Œï¼š { &quot;outFile&quot;: &quot;./build/index.js&quot; } å­å‘½åç©ºé—´ å¦‚æœåœ¨åˆšåˆšçš„ç»„ä»¶ä¸­å†å†™ä¸€ä¸ªä¼šæ€ä¹ˆæ ·ï¼Ÿ namespace Components { export namespace SubComponents { export class Test {} } //someting ... } //è¯»å– // Components.SubComponents.Test tsä¸­ä½¿ç”¨import é¦–å…ˆå»ºç«‹ä¸€ä¸ªæ–‡ä»¶compontent.ts,éšä¾¿å†™ç‚¹ä¸œè¥¿ï¼Œç„¶åä½¿ç”¨exportå¯¼å‡ºï¼š export class Header { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Header&quot;; document.body.appendChild(elem); } } export class Content { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Content&quot;; document.body.appendChild(elem); } } export class Footer { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Footer&quot;; document.body.appendChild(elem); } } ç„¶ååœ¨index.tsä¸­å¯¼å…¥ä¸€ä¸‹ï¼š import { Header, Content, Footer } from &quot;./compontent&quot;; export class Page{ constructor(){ new Header(); new Content(); new Footer(); } } è¿è¡Œtscç¼–è¯‘ï¼Œæ‰“å¼€buildä¸­çš„index.js,å¯ä»¥çœ‹åˆ°ä»£ç æ˜¯defineå¼€å¤´çš„ï¼Œè¿™æ˜¯ amd è§„èŒƒçš„ä»£ç ï¼Œä¸èƒ½ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼Œå¯ä»¥åœ¨ Node ä¸­ç›´æ¥è¿è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦å€ŸåŠ©require.jsçš„æ”¯æŒï¼š &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.js&quot;&gt;&lt;/script&gt; ç„¶ååœ¨index.htmlä¸­ä½¿ç”¨require.jså†™æ³•ï¼š &lt;script&gt; require([&quot;page&quot;], function (page) { new page.default(); }); &lt;/script&gt; ","link":"https://lonjinup.github.io/kuai-su-shang-shou-typescript/"},{"title":"ES6æ–°ç‰¹æ€§é€Ÿè§ˆ","content":"ES6æ–°ç‰¹æ€§é€Ÿè§ˆ è™½ç„¶ES6ç°åœ¨åŸºæœ¬éƒ½æ˜¯å‰ç«¯å¿…ä¼šå†…å®¹äº†ï¼Œç½‘ä¸Šä¹Ÿä¸€å †æ–‡ç« äº†ï¼Œä½†æœ‰äº›åˆå­¦è€…å¯èƒ½çœ‹å®Œè¿˜æ˜¯è®°ä¸ä½ï¼Œæ‰€ä»¥ä¾¿å†™ä¸€ç¯‡æ–‡ç« å¿«é€Ÿè¿‡ä¸€ä¸‹ES6çš„ä¸€äº›æ–°ç‰¹æ€§ï¼ŒåŠ æ·±å°è±¡ã€‚å¦‚æœä½ è¿˜æ²¡æœ‰å­¦ES6ï¼Œè¿˜æ˜¯æ¨èä½ é˜…è¯»ä¸€ä¸‹é˜®ä¸€å³°çš„ES6å…¥é—¨æŒ‡å—ã€‚ â˜€ï¸å¦‚æœè§‰å¾—æ–‡ç« ä¸é”™ï¼Œæ¬¢è¿ç‚¹èµâ¤ï¸ã€å…³æ³¨ğŸŒŸã€æ”¶è—ğŸ“„ï¼ ğŸš€ES6çš„æ–°ç‰¹æ€§ï¼Œå¤§è‡´å¯ä»¥å½’ä¸º4å¤§ç±»ï¼š è§£å†³åŸæœ‰è¯­æ³•ä¸Šçš„ä¸€äº›é—®é¢˜æˆ–è€…ä¸è¶³ å¯¹åŸæœ‰è¯­æ³•è¿›è¡Œå¢å¼º å…¨æ–°çš„å¯¹è±¡ã€å…¨æ–°çš„æ–¹æ³•ã€å…¨æ–°çš„åŠŸèƒ½ å…¨æ–°çš„æ•°æ®ç±»å‹å’Œæ•°æ®ç»“æ„ï¼ˆsymbolã€setã€mapã€etc.ï¼‰ å—çº§ä½œç”¨åŸŸ ä½œç”¨åŸŸâ€”â€”æŸä¸ªæˆå‘˜èƒ½å¤Ÿèµ·ä½œç”¨çš„èŒƒå›´,åœ¨ES2015ä¹‹å‰ï¼Œåªæœ‰ä¸¤ç§ä½œç”¨åŸŸï¼šå…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸã€‚åœ¨ES2015ä¸­æ–°å¢ï¼šå—çº§ä½œç”¨åŸŸ. //var ä¼šå˜é‡æå‡ï¼Œæ‰€ä»¥å€¼ä¼šæ˜¯undefined console.log(a);//undefined var a=1; //let ä¸ä¼šè¿›è¡Œå˜é‡æå‡ console.log(b)//Cannot access 'b' before initialization let b=2; //å—çº§ä½œç”¨åŸŸ { let c=20; } console.log(c) //c is not defined //const ç”³æ˜æ—¶å€™å¿…é¡»èµ‹å€¼ï¼Œä¸”å£°æ˜ä¹‹åä¸å¯ä¿®æ”¹å€¼ï¼Œä½†å¯ä»¥ä¿®æ”¹å¯¹è±¡ä¸­çš„æŸä¸ªå€¼, //const å’Œletä¸€æ ·ï¼Œä¹Ÿå­˜åœ¨å—çº§ä½œç”¨åŸŸ const a={name:'lonjin'}; a.name='tom'; console.log(a)//{ name: 'tom' } ç»å…¸é¢è¯•é¢˜ï¼š for(var i=1;i&lt;6;i++){ setTimeout(() =&gt; { console.log(i) }, 0); } // 6 6 6 6 6 for(let i=1;i&lt;6;i++){ setTimeout(() =&gt; { console.log(i) }, 0); } // 1 2 3 4 5 æ•°ç»„çš„è§£æ„ åŸºæœ¬ä½¿ç”¨ const arr=[1,2,3,4,5]; const [a, b, c] = arr; console.log(a,b,c) //1 2 3 åªè·å–æ•°ç»„ä¸­ç¬¬ä¸‰ä¸ªæˆå‘˜ï¼Œæ–¹æ³•ï¼Œå‰é¢ä¸¤ä¸ªç”¨é€—å·éš”å¼€ï¼Œåªå£°æ˜ç¬¬ä¸‰ä¸ª const arr=[1,2,3]; const [,,c]=arr; console.log(c) //3 æå–æ•°ç»„å½“å‰ä½ç½®å¼€å§‹çš„æ‰€æœ‰æˆå‘˜(æ³¨æ„ï¼šä¸‰ä¸ªç‚¹çš„ç”¨æ³•åªèƒ½åœ¨è§£æ„æˆå‘˜çš„æœ€åä½¿ç”¨) const arr=[1,2,3,4,5]; const [a,...arr2]=arr; console.log(arr2) //[ 2, 3, 4, 5 ] å¯ä»¥ç»™æå–åˆ°çš„æˆå‘˜è®¾ç½®é»˜è®¤å€¼ï¼Œå¦‚æœæ²¡æœ‰æå–åˆ°å€¼ï¼Œå°±ä¼šèµ‹ä¸ºé»˜è®¤å€¼ const arr=[1,2,3,4,5]; const [a,b,c,d,e,f=6]=arr; console.log(f) //6 å¯¹è±¡çš„è§£æ„ åŸºæœ¬ä½¿ç”¨(å’Œæ•°ç»„è§£æ„åŸºæœ¬ç›¸åŒ) const data={name:&quot;lonjin&quot;,age:18}; const {name}=data; console.log(name) //lonjin å¦‚æœè§£æ„è¿‡ç¨‹ä¸­é‡åˆ°å‘½åé‡å¤ï¼Œå¯ä½¿ç”¨é‡å‘½åçš„æ–¹å¼è§£å†³ï¼›è®¾ç½®é»˜è®¤å€¼æ–¹æ³•å¦‚ä¸‹ï¼š const data={name:&quot;lonjin&quot;,age:18}; const name='tom'; const {name:newName}=data; console.log(newName) //lonjin åŒæ ·ä¹Ÿå¯ä»¥è®¾ç½®é»˜è®¤å€¼ const data={name:&quot;lonjin&quot;,age:18}; const name='tom'; const {name:newName,say='hello'}=data; console.log(newName+','+say) //lonjin,hello è§£æ„å¸¸ç”¨æ–¹æ³•ï¼Œå¦‚console.log const {log}=console; log(1)//1 æ¨¡ç‰ˆå­—ç¬¦ä¸² åå¼•å·å®šä¹‰å­—ç¬¦ä¸²ï¼Œè‹¥å­—ç¬¦ä¸²ä¸­éœ€è¦æœ‰åå¼•å·ï¼Œå¯ä»¥ç”¨\\åæ–œæ è½¬ä¹‰ æ”¯æŒå­—ç¬¦ä¸²ä¸­ç›´æ¥æ¢è¡Œ æ”¯æŒæ’å€¼è¡¨è¾¾å¼å†™æ³• `hello, ${name} const name='lonjin'; const text=`hello ${name} \\nuser age ${17+1}`; console.log(text) /* hello lonjin user age 18 */ å¸¦æ ‡ç­¾çš„æ¨¡æ¿å­—ç¬¦ä¸² æ ‡ç­¾æ¨¡æ¿å­—ç¬¦ä¸²çš„ä½œç”¨ï¼šæ˜¯å¯¹æˆ‘ä»¬çš„æ¨¡æ¿å­—ç¬¦ä¸²è¿›è¡ŒåŠ å·¥å¤„ç†ï¼Œç„¶åè¿”å›æ–°å†…å®¹ const name='lonjin', sex=true, age=18; function fn(strings,...args){ //stringä¸ºtextä¸­æ™®é€šstringæ•°ç»„ console.log(strings) //[ 'my name is ', ',my age', ',my sex', '' ] //argsä¸ºæ’å€¼è¡¨è¾¾å¼ä¸­çš„å€¼ console.log(args) // [ 'lonjin', 18, true ] //å¯ä»¥å¤„ç†å®Œæ•°æ®returnå‡ºå» let sex=args[2]?'man':woman; return strings[0]+args[0]+strings[1]+args[1]+strings[2]+sex } const text=fn`my name is ${name}my age${age}my sex ${sex}`; console.log(text) //my name is lonjinmy age18my sex man å­—ç¬¦ä¸²çš„æ‰©å±•æ–¹æ³• includes():åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­,è¿”å›trueæˆ–è€…false const str='erro type end.'; let f1=str.includes('erro'); console.log(f1)//true startsWith():åˆ¤æ–­å½“å‰å­—ç¬¦ä¸²æ˜¯å¦ä»¥å¦å¤–ä¸€ä¸ªç»™å®šçš„å­å­—ç¬¦ä¸²å¼€å¤´ï¼Œè¿”å›trueæˆ–è€…false const str='erro type end.'; let f2=str.startsWith('erro'); console.log(f2) //true endsWith:åˆ¤æ–­å½“å‰å­—ç¬¦ä¸²æ˜¯å¦ä»¥å¦å¤–ä¸€ä¸ªç»™å®šçš„å­å­—ç¬¦ä¸²ç»“å°¾ï¼Œè¿”å›trueæˆ–è€…false const str='erro type end.'; let f3=str.endsWith('.'); console.log(f3) //true å‚æ•°é»˜è®¤å€¼ å‡½æ•°å‚æ•°é»˜è®¤å€¼ function fn(status=false){ console.log(status) } fn(true) fn() /* true false */ å‰©ä½™å‚æ•° åªèƒ½å‡ºç°åœ¨æœ€åï¼Œä¸”åªèƒ½ä½¿ç”¨ä¸€æ¬¡ function fn(...args){ console.log(args) }; fn(1,2,3,4,5) //[ 1, 2, 3, 4, 5 ] å±•å¼€æ•°ç»„ æƒ³ä¾æ¬¡æ‰“å°æ•°ç»„çš„å€¼ let arr=['a','b','c']; console.log(...arr); //a b c ç®­å¤´å‡½æ•° åŸºæœ¬ä½¿ç”¨ //æ™®é€šå‡½æ•° function fn(num){ return num+1 }; console.log(fn(2)) //3 //ç®­å¤´å‡½æ•° const fn2=n=&gt;n+1; console.log(fn2(2))//3 ç®­å¤´å‡½æ•°çš„this ç®­å¤´å‡½æ•°ä¸ä¼šæ”¹å˜thisæŒ‡å‘ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ç®­å¤´å‡½æ•°çš„å¤–é¢æ‹¿åˆ°çš„thisæ˜¯ä»€ä¹ˆï¼Œåœ¨ç®­å¤´å‡½æ•°å†…éƒ¨æ‹¿åˆ°çš„thisä¹Ÿå°±æ˜¯ä»€ä¹ˆã€‚ const name='tom' const people={ name:'lonjin', say(){ console.log(`this name is ${this.name}`) }, say2:()=&gt;{ console.log(`this name is ${this.name}`) } } people.say();//this name is lonjin people.say2()//this name is undefined å¯¹è±¡çš„æ‰©å±• å¯¹è±¡å­—é¢é‡çš„å¢å¼º å¯¹è±¡ä¸­å±æ€§åå’Œå±æ€§å€¼ç›¸åŒå°±å¯ä»¥ç¼©å†™ å‡½æ•°è¡¨è¾¾å¼ä¹Ÿå¯ä»¥ç¼©å†™ åŠ¨æ€å±æ€§åï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨è®¡ç®—å±æ€§åï¼Œä½¿ç”¨æ–¹æ‹¬å·çš„å½¢å¼ä½¿ç”¨ const username='lonjin'; const people={ age:18, username, [Math.random()]:123, } console.log(people) //{ age: 18, username: 'lonjin', '0.3692996732470484': 123 } Object.assign å°†å¤šä¸ªæºå¯¹è±¡ä¸­çš„å±æ€§å¤åˆ¶åˆ°ä¸€ä¸ªç›®æ ‡å¯¹è±¡ä¸­ï¼›ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºç›®æ ‡å¯¹è±¡ï¼Œå¦‚æœæœ‰ç›¸åŒçš„ï¼Œåé¢çš„ä¼šè¦†ç›–ä¹‹å‰çš„å€¼ã€‚ let obj={ a:123, b:456, } let obj2={ a:789, c:234 } let obj3={ d:123, c:678 } // const n=Object.assign(obj,obj2) //console.log(n)//{ a: 789, b: 456, c: 234 } const m=Object.assign(obj,obj2,obj3); console.log(m) //{ a: 789, b: 456, c: 678, d: 123 } Object.is åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œå’Œä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦(===)ç±»ä¼¼,ä½†æœ‰ä¸¤ä¸ªå€¼ä»–ä»¬åˆ¤æ–­èµ·æ¥ä¸å¤ªä¸€æ ·:+0ä¸-0ã€NaN console.log( //0==false //true //+0 === -0 // true // NaN === NaN //false //Object.is(NaN,NaN) //true Object.is(+0,-0) //false ) Proxy ä»£ç†å¯¹è±¡:ä¸ºå¯¹è±¡è®¾ç½®è®¿é—®ä»£ç†å™¨ const people={ name:&quot;lonjin&quot;, age:18, } let peopleProxy=new Proxy(people,{ //ç›‘å¬è¯»å– get(target,property){ // targetä¸ºå¯¹è±¡ // propertyä¸ºè¦è¯»å–çš„é”® console.log(target,property) //{ name: 'lonjin', age: 18 } name //è¿”å›è¯»å–çš„å†…å®¹ return property in target?target[property]:'none' }, //ç›‘å¬å±æ€§è®¾ç½® set(target,property,value){ /*target---ç›®æ ‡å¯¹è±¡ property---è¦è®¾ç½®çš„é”®å value---è¦è®¾ç½®çš„æ–°å€¼ */ if(property=='age'){ if(!Number.isInteger(value)){ throw new TypeError('Value must be a number') } } target[property]=value } }) console.log(peopleProxy.name)//lonjin console.log(peopleProxy.say)//none // peopleProxy.age='28';//throw new TypeError('Value must be a number') peopleProxy.age=20; definePropertyå’ŒProxyçš„åŒºåˆ« definePropertyåªèƒ½ç›‘è§†å±æ€§çš„è¯»å†™ï¼ŒProxyèƒ½å¤Ÿè§è¯†åˆ°æ›´å¤šå¯¹è±¡æ“ä½œã€‚æ¯”å¦‚å±æ€§çš„åˆ é™¤ï¼š const people={ name:&quot;lonjin&quot;, age:18, }; let peopleProxy=new Proxy(people,{ deleteProperty(target,property){ //target ä¸ºä»£ç†å¯¹è±¡ //property ä¸ºè¦åˆ é™¤çš„é”®å delete target[property] } }); delete peopleProxy.age; console.log(peopleProxy) //{ name: 'lonjin' } Proxyæ›´å¥½çš„æ”¯æŒæ•°ç»„å¯¹è±¡çš„ç›‘è§†,vue3ä¸­å°±é‡‡ç”¨äº†Proxyæ¥å®ç°æ•°æ®ç›‘å¬ //ç›‘å¬æ•°ç»„pushæ“ä½œ let arr=[]; let newArray=new Proxy(arr,{ set(target,property,value){ target[property]=value; return true } }); newArray.push(1); newArray.push(2); console.log(newArray) //[1,2] æ›´å¤šæ“ä½œå°±ä¸åœ¨è¿™é‡Œå†™äº†ï¼Œæ¨èå¤§å®¶ä¸€ç¯‡æ–‡ç« ä½ ä¸çŸ¥é“çš„ Proxyå¯ä»¥çœ‹ä¸€ä¸‹ã€‚ Reflect Reflectæˆå‘˜æ–¹æ³•å°±æ˜¯Proxyå¤„ç†å¯¹è±¡çš„é»˜è®¤å®ç°ï¼ŒReflectå¹¶éä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œæ‰€ä»¥ä¸èƒ½é€šè¿‡new()æ¥è°ƒç”¨ã€‚ let people={ name:'lonjin', say:'hello', } let peopleProxy=new Proxy(people,{ //å¦‚æœæˆ‘ä»¬æ²¡æœ‰å®šä¹‰getæ–¹æ³•ï¼Œé‚£ä¹ˆProxyä¼šé»˜è®¤ä¸€ä¸ªgetæ–¹æ³•å¦‚ä¸‹ï¼Œè¿”å›Reflect get(target,property){ return Reflect.get(target,property) } }) Reflectæœ€å¤§ä½œç”¨æ˜¯æä¾›äº†ä¸€å¥—å®Œæ•´çš„å¯¹è±¡è°ƒç”¨æ–¹æ³• let people={ name:'lonjin', say:'hello', } console.log('name' in people) console.log(Reflect.has(people,'name')) console.log(delete people['say']); console.log(Reflect.deleteProperty(people,'say')); console.log(Object.keys(people)); console.log(Reflect.ownKeys(people)); Reflectä¸€å…±æœ‰13ä¸ªé™æ€æ–¹æ³•ï¼Œæ›´å¤šæŸ¥çœ‹MDN-Reflect Class åŸºæœ¬ä½¿ç”¨ class People{ constructor(name){ this.name=name } say(){ console.log(`this name ${this.name}`) } }; let user=new People('lonjin'); user.say() //this name lonjin é™æ€æ–¹æ³• é™æ€æ–¹æ³•å¯ä»¥ç›´æ¥é€šè¿‡ç±»å‹æœ¬èº«å»è°ƒç”¨ï¼Œè€Œå®ä¾‹æ–¹æ³•éœ€è¦é€šè¿‡è¿™ä¸ªç±»å‹æ„é€ çš„å®ä¾‹å¯¹è±¡å»è°ƒç”¨ï¼Œåªéœ€è¦åœ¨æ–¹æ³•å‰é¢åŠ static constructor(name){ this.name=name } say(){ console.log(`this name ${this.name}`) } static created(name){ return new People(name) } }; let user=People.created('lonjin'); user.say() //this name lonjin classçš„ç»§æ‰¿ classç»§æ‰¿åªéœ€è¦ç”¨å…³é”®è¯extendså®ç°ï¼Œsuperä¸ºçˆ¶ç±»æ„é€ å‡½æ•° class People{ constructor(name){ this.name=name } say(){ console.log(`this name ${this.name}`) } }; class Child extends People{ constructor(name,age){ super(name); this.age=age; } message(){ console.log(`my name is${this.name},my age is ${this.age}`) } }; let tom=new Child('tom',18); tom.message(); //static Setæ•°æ®ç»“æ„ setçš„å†…éƒ¨æˆå‘˜æ˜¯ä¸å…è®¸é‡å¤çš„ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸€ä¸ªå€¼åœ¨setä¸­éƒ½æ˜¯å”¯ä¸€çš„ã€‚æˆ‘ä»¬å¹³æ—¶å¯ä»¥åˆ©ç”¨Setæ¥å®ç°æ•°ç»„å»é‡ //åŸºæœ¬ä½¿ç”¨ let setArray=new Set(); setArray.add(1); setArray.add(2); setArray.add(3); setArray.add(4); setArray.add(4); console.log(setArray) //Set(4) { 1, 2, 3, 4 } //éå† setArray.forEach(i=&gt;{console.log(i)}); //1 2 3 4 //è·å–æ•°é‡ console.log(setArray.size) //4 //åˆ é™¤(è¿”å›trueæˆ–è€…false) console.log(setArray.delete(1))//true //åˆ¤æ–­æ˜¯å¦æœ‰æŸä¸ªå€¼(è¿”å›trueæˆ–è€…false) console.log(setArray.has(3))//true //æ¸…ç©º setArray.clear(); æ•°ç»„å»é‡ Array.from+set //æ–¹æ³•1 let arr=[1,2,3,4,5,5,6]; let newArr=Array.from(new Set(arr)); console.log(newArr) //[ 1, 2, 3, 4, 5, 6 ] å±•å¼€è¿ç®—ç¬¦ let arr=[1,2,3,4,5,5,6]; console.log([...new Set(arr)]); //[ 1, 2, 3, 4, 5, 6 ] Map jsçš„å¯¹è±¡æœ¬è´¨ä¸Šæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†æ˜¯ä¼ ç»Ÿä¸Šåªèƒ½ç”¨å­—ç¬¦ä¸²å½“ä½œé”®ã€‚æ‰€ä»¥ES6æä¾›äº†Mapæ•°æ®ç»“æ„ã€‚å®ƒç±»ä¼¼äºå¯¹è±¡ï¼Œä¹Ÿæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†æ˜¯â€œé”®â€çš„èŒƒå›´ä¸é™äºå­—ç¬¦ä¸²ï¼Œå„ç§ç±»å‹çš„å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½å¯ä»¥å½“ä½œé”®ã€‚ä¸å¯¹è±¡æœ€å¤§çš„åŒºåˆ«å°±æ˜¯å¯ä»¥ä½¿ç”¨ä»»æ„ç±»å‹ä½œä¸ºé”®ï¼Œè€Œå¯¹è±¡åªèƒ½ä½¿ç”¨å­—ç¬¦ä¸²ä½œä¸ºé”® let m=new Map(); let n={name:'tom'}; // è®¾ç½®å€¼ m.set(n,18) //è¯»å–å€¼ console.log(m.get(n))//18 //åˆ¤æ–­æ˜¯å¦æœ‰æŸä¸ªå€¼ // m.has(); //åˆ é™¤ // m.delete() //æ¸…ç©º // m.clear() //éå† m.forEach((val,key)=&gt;{ console.log(val,key) }) Symbol ä¸€ç§å…¨æ–°çš„åŸå§‹æ•°æ®ç±»å‹ï¼Œ è¡¨ç¤ºä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å€¼ã€‚ä¸»è¦è§£å†³å¯¹è±¡ä¸­å±æ€§åå†²çªçš„é—®é¢˜ //åˆ›å»ºä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å±æ€§åï¼Œä¸”å¤–éƒ¨æ— æ³•è®¿é—®åˆ°(æ¨¡æ‹Ÿç§æœ‰æˆå‘˜) let name=Symbol(); let people={ [name]:'lonjin', say(){ console.log(this[name]) } }; people.say()//lonjin å¦‚æœæˆ‘ä»¬å¸Œæœ›é‡æ–°ä½¿ç”¨åŒä¸€ä¸ªSymbolå€¼ï¼ŒSymbol.for()æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚å®ƒæ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œç„¶åæœç´¢æœ‰æ²¡æœ‰ä»¥è¯¥å‚æ•°ä½œä¸ºåç§°çš„ Symbol å€¼ã€‚å¦‚æœæœ‰ï¼Œå°±è¿”å›è¿™ä¸ª Symbol å€¼ï¼Œå¦åˆ™å°±æ–°å»ºä¸€ä¸ªä»¥è¯¥å­—ç¬¦ä¸²ä¸ºåç§°çš„ Symbol å€¼ï¼Œå¹¶å°†å…¶æ³¨å†Œåˆ°å…¨å±€ //å…¨å±€æ³¨å†Œè¡¨ let n1=Symbol.for('name'); let n2=Symbol.for('name'); console.log(n1===n2)//true è·å–å¯¹è±¡ä¸­çš„é”®æ—¶å€™ï¼Œå¦‚æœä½¿ç”¨for inï¼Œå°±è·å–ä¸åˆ°Symbolç±»å‹çš„é”®ï¼›å¿…é¡»ä½¿ç”¨Object.getOwnPropertySymbols()è¿›è¡Œè·å–ã€‚ let people={ [Symbol()]:'tom', age:18 } console.log(Object.keys(people)) console.log(JSON.stringify(people)) console.log(Object.getOwnPropertySymbols(people)) /* [ 'age' ] {&quot;age&quot;:18} [ Symbol() ] */ for ofæ–¹æ³• ES6å€Ÿé‰´å…¶ä»–è¯­è¨€ï¼Œå¼•å…¥äº†for...ofå¾ªç¯ï¼Œä½œä¸ºéå†æ‰€æœ‰æ•°æ®ç»“æ„çš„ç»Ÿä¸€çš„æ–¹æ³•ã€‚ éå†æ•°ç»„ let arr=[1,2,3,4,5]; for(const item of arr){ console.log(item) } //1 2 3 4 5 å¯ä»¥ä½¿ç”¨breakè¿›è¡Œé€€å‡º //å¯ä»¥ä½¿ç”¨breakè¿›è¡Œé€€å‡º let arr=[1,2,3,4,5]; for(const item of arr){ console.log(item) if(item&gt;3){ break } } //1 2 3 4 éå†Set let n=new Set([1,2,3,4]); for(const item of n){ console.log(item) } //1 2 3 4 éå†Mapå¯ä»¥é…åˆæ•°ç»„ç»“æ„è¯­æ³•ï¼Œç›´æ¥è·å–é”®å€¼ let n=new Map(); n.set('name','tom'); n.set('age',18); for(const [key,value] of n){ console.log(key+'----'+value) } /* name----tom age----18 */ å¯è¿­ä»£æ¥å£ ES6æä¾›äº†Iterableæ¥å£ï¼Œå®ç°äº†Iterableæ¥å£å°±æ˜¯for...ofçš„å‰æ let arr=new Set([1,2,3,4,5]); const iterator=arr[Symbol.iterator](); console.log(iterator.next()) console.log(iterator.next()) console.log(iterator.next()) console.log(iterator.next()) console.log(iterator.next()) console.log(iterator.next()) /* { value: 1, done: false } { value: 2, done: false } { value: 3, done: false } { value: 4, done: false } { value: 5, done: false } { value: undefined, done: true } */ å®ç°å¯è¿­ä»£æ¥å£ ç”±äºfor...ofæ–¹æ³•ä¸èƒ½ä¾¿åˆ©æ™®é€šå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨å®ç°ä¸€ä¸‹ const obj = { store: ['foo', 'bar', 'baz'], [Symbol.iterator]: function () { let index = 0 const self = this return { next: function () { const result = { value: self.store[index], done: index &gt;= self.store.length } index++ return result } } } } for(const item of obj){ console.log(item) } //foo bar baz è¿­ä»£å™¨æ¨¡å¼ å¼€å‘ä¸€ä¸ªä»»åŠ¡æ¸…å•åº”ç”¨ // è¿­ä»£å™¨è®¾è®¡æ¨¡å¼ const todos = { life: ['åƒé¥­', 'ç¡è§‰', 'æ‰“è±†è±†'], learn: ['è¯­æ–‡', 'æ•°å­¦', 'å¤–è¯­'], work: ['å–èŒ¶'], // æä¾›ç»Ÿä¸€éå†è®¿é—®æ¥å£ each: function (callback) { const all = [].concat(this.life, this.learn, this.work) for (const item of all) { callback(item) } }, // æä¾›è¿­ä»£å™¨ï¼ˆES2015 ç»Ÿä¸€éå†è®¿é—®æ¥å£ï¼‰ [Symbol.iterator]: function () { const all = [...this.life, ...this.learn, ...this.work] let index = 0 return { next: function () { return { value: all[index], done: index++ &gt;= all.length } } } } } Generator Generatorå‡½æ•°æ˜¯ES6æä¾›çš„ä¸€ç§å¼‚æ­¥ç¼–ç¨‹è§£å†³æ–¹æ¡ˆ,æ¥é¿å…å¼‚æ­¥ç¼–ç¨‹ä¸­å›è°ƒåµŒå¥—è¿‡æ·±ã€‚ åŸºæœ¬ä½¿ç”¨ function * fn(){ console.log('1') yield 100 console.log('2') yield 200 console.log('3') yield 300 } const f=fn(); console.log(f.next()) console.log(f.next()) console.log(f.next()) console.log(f.next()) /* 1 { value: 100, done: false } 2 { value: 200, done: false } 3 { value: 300, done: false } { value: undefined, done: true } */ ä½¿ç”¨ Generator å‡½æ•°å®ç° iterator æ–¹æ³• const todos = { life: ['åƒé¥­', 'ç¡è§‰', 'æ‰“è±†è±†'], learn: ['è¯­æ–‡', 'æ•°å­¦', 'å¤–è¯­'], work: ['å–èŒ¶'], [Symbol.iterator]: function * () { const all = [...this.life, ...this.learn, ...this.work] for (const item of all) { yield item } } } for (const item of todos) { console.log(item) } ","link":"https://lonjinup.github.io/es6-tx/"},{"title":"JavaScript-å‡½æ•°å¼ç¼–ç¨‹","content":"å‡½æ•°å¼ç¼–ç¨‹ ä¸ºä»€ä¹ˆè¦å­¦å‡½æ•°å¼ç¼–ç¨‹ï¼Ÿ å‡½æ•°å¼è¡¨æˆæ˜¯éšç€Reactçš„æµè¡Œæ”¶åˆ°è¶Šæ¥è¶Šå¤šçš„å…³æ³¨ï¼ˆReactçš„é«˜é˜¶ç»„ä»¶ä½¿ç”¨äº†é«˜é˜¶å‡½æ•°æ¥å®ç°ï¼Œé«˜é˜¶å‡½æ•°å°±æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ä¸ªç‰¹æ€§ã€‚Reduxä¹Ÿä½¿ç”¨äº†å‡½æ•°å¼ç¼–ç¨‹çš„æ€æƒ³ã€‚ï¼‰ Vue3ä¹Ÿå¼€å§‹æ‹¥æŠ±å‡½æ•°å¼ç¼–ç¨‹ å‡½æ•°å¼ç¼–ç¨‹å¯ä»¥æŠ›å¼ƒthis æ‰“åŒ…è¿‡ç¨‹ä¸­å¯ä»¥æ›´å¥½çš„åˆ©ç”¨tree shakingè¿‡æ»¤æ— ç”¨ä»£ç  æ–¹ä¾¿æµ‹è¯•ã€æ–¹ä¾¿å¹¶è¡Œå¤„ç† æœ‰å¾ˆå¤šåº“å¯ä»¥å¸®åŠ©æˆ‘ä»¬è¿›è¡Œå‡½æ•°å¼å¼€å‘ï¼šlodashã€underscoreã€ramda ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼Ÿ å‡½æ•°å¼ç¼–ç¨‹ï¼Œç¼©å†™FPï¼Œæ˜¯ä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼Œä¹Ÿæ˜¯ä¸€ç§ç¼–ç¨‹é£æ ¼ï¼Œå’Œé¢å‘å¯¹è±¡æ˜¯å¹¶åˆ—çš„å…³ç³»ã€‚å‡½æ•°å¼ç¼–ç¨‹æˆ‘ä»¬å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç§æ€ç»´æ¨¡å¼ï¼ŒåŠ ä¸Šå®ç°æ–¹æ³•ã€‚å…¶æ€ç»´æ–¹å¼å°±æ˜¯æŠŠç°å®ä¸–ç•Œäº‹ç‰©å’Œäº‹ç‰©ä¹‹é—´çš„è”ç³»æŠ½è±¡åˆ°ç¨‹åºä¸–ç•Œï¼ˆæ˜¯å¯¹è¿ç®—è¿‡ç¨‹è¿›è¡ŒæŠ½è±¡ï¼‰ å¸¸å¬è¯´çš„ç¼–ç¨‹èŒƒå¼è¿˜æœ‰é¢å‘è¿‡ç¨‹ç¼–ç¨‹ï¼ˆæŒ‰ç…§æ­¥éª¤æ¥å®ç°ï¼‰ã€é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆæŠŠç°å®ä¸­çš„äº‹ç‰©æŠ½è±¡æˆç±»å’Œå¯¹è±¡ï¼Œé€šè¿‡å°è£…ã€ç»§æ‰¿å’Œå¤šæ€æ¥æ¼”ç¤ºä¸åŒäº‹ç‰©ä¹‹é—´çš„è”ç³»ï¼‰ã€‚ å‡½æ•°å¼ç¼–ç¨‹å’Œé¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸åŒ ä»æ€ç»´æ–¹å¼ä¸Šæ¥è¯´,é¢å‘å¯¹è±¡ç¼–ç¨‹æ˜¯å¯¹äº‹ç‰©çš„æŠ½è±¡ï¼Œè€Œå‡½æ•°å¼ç¼–ç¨‹æ˜¯å¯¹è¿ç®—è¿‡ç¨‹çš„æŠ½è±¡ å¯¹äºå‡½æ•°å¼ç¼–ç¨‹æ€ç»´æ–¹å¼çš„ç†è§£ ç¨‹åºçš„æœ¬è´¨ï¼šæ ¹æ®è¾“å…¥é€šè¿‡æŸç§è¿ç®—è·å¾—ç›¸åº”çš„è¾“å‡ºï¼Œç¨‹åºå¼€å‘è¿‡ç¨‹ä¸­ä¼šæ¶‰åŠå¾ˆå¤šè¾“å…¥å’Œè¾“å‡ºçš„å‡½æ•°ã€‚ å‡½æ•°å¼ç¼–ç¨‹ä¸­çš„å‡½æ•°æŒ‡çš„ä¸æ˜¯ç¨‹åºä¸­çš„å‡½æ•°Functionï¼Œè€Œæ˜¯æ•°å­¦ä¸­çš„å‡½æ•°å³æ˜ å°„å…³ç³»ï¼Œä¾‹å¦‚ï¼šy=sin(x)ï¼Œæ˜¯è¿™ç§xå’Œyçš„å…³ç³» ç›¸åŒçš„è¾“å…¥æ—¶é’Ÿè¦å¾—åˆ°ç›¸åŒçš„è¾“å‡ºï¼ˆçº¯å‡½æ•°ï¼‰ å‡½æ•°å¼ç¼–ç¨‹ç”¨æè¿°æ•°æ®ï¼ˆå‡½æ•°ï¼‰ä¹‹é—´çš„æ˜ å°„ //éå‡½æ•°å¼ let num1=1, num2=2; let sum=num1+num2; console.log(sum); //å‡½æ•°å¼ function add(m,n){ return m+n; }; let sum2=add(3,4); console.log(sum2); å‡½æ•°å¼ç¼–ç¨‹çš„å‰ç½®çŸ¥è¯† å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ åœ¨JSä¸­å‡½æ•°å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå‡½æ•°å­˜å‚¨åˆ°å˜é‡/æ•°ç»„ä¸­ï¼Œå®ƒè¿˜å¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼ï¼Œç”šè‡³æˆ‘ä»¬å¯ä»¥åœ¨ç¨‹åºè¿è¡Œçš„æ—¶å€™é€šè¿‡new Function('alert(1)')æ¥æ„é€ ä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚ å‡½æ•°å¯ä»¥å­˜å‚¨åœ¨å˜é‡ä¸­: // æŠŠå‡½æ•°èµ‹å€¼ç»™å˜é‡ let fn = function () { console.log(&quot;hi&quot;) } fn() // ä¸€ä¸ªç¤ºä¾‹ const BlogController = { index (posts) { return Views.index(posts) }, show (post) { return Views.show(post) }, create (attrs) { return Db.create(attrs) }, update (post, attrs) { return Db.update(post, attrs) }, destroy (post) { return Db.destroy(post) } } // ä¼˜åŒ– èµ‹å€¼çš„æ˜¯Viewsçš„indexæ–¹æ³•ï¼Œä¸æ˜¯æ–¹æ³•çš„è°ƒç”¨ const BlogController = { index: Views.index, show: Views.show, create: Db.create, update: Db.update, destroy: Db.destroy } å‡½æ•°å¯ä»¥ä½œä¸ºå‚æ•° å‡½æ•°å¯ä»¥ä½œä¸ºè¿”å›å€¼ é«˜é˜¶å‡½æ•° é«˜é˜¶å‡½æ•°è‹±æ–‡å«Higher-order functionã€‚JavaScriptçš„å‡½æ•°å…¶å®éƒ½æŒ‡å‘æŸä¸ªå˜é‡ã€‚æ—¢ç„¶å˜é‡å¯ä»¥æŒ‡å‘å‡½æ•°ï¼Œå‡½æ•°çš„å‚æ•°èƒ½æ¥æ”¶å˜é‡ï¼Œé‚£ä¹ˆä¸€ä¸ªå‡½æ•°å°±å¯ä»¥æ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿™ç§å‡½æ•°å°±ç§°ä¹‹ä¸ºé«˜é˜¶å‡½æ•°ã€‚ åœ¨æ•°å­¦å’Œè®¡ç®—æœºç§‘å­¦ä¸­ï¼Œé«˜é˜¶å‡½æ•°æ˜¯è‡³å°‘æ»¡è¶³ä¸‹åˆ—ä¸€ä¸ªæ¡ä»¶çš„å‡½æ•°ï¼š 1.æ¥å—ä¸€ä¸ªæˆ–å¤šä¸ªå‡½æ•°ä½œä¸ºè¾“å…¥ 2.è¾“å‡ºä¸€ä¸ªå‡½æ•° å‡½æ•°å¯ä»¥ä½œä¸ºå‚æ•° //æ¨¡æ‹Ÿæ•°ç»„ä¸­çš„æŸäº›æ“ä½œ // forEach // å®šä¹‰ä¸€ä¸ªéå†æ•°ç»„çš„å¹¶å¯¹æ¯ä¸€é¡¹åšå¤„ç†çš„å‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå‡½æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚ function forEach(array,fn){ for(let i=0;i&lt;array.length;i++){ fn(array[i]) } }; let arr=[1,2,3,4,5]; forEach(arr,items=&gt;{ console.log(items) }) // filter // éå†æ•°ç»„ï¼Œå¹¶æŠŠæ»¡è¶³æ¡ä»¶çš„å…ƒç´ å­˜å‚¨æˆæ•°ç»„ï¼Œå†è¿›è¡Œè¿”å› function filter(array,fn){ let newArr=[]; for(let i=0;i&lt;array.length;i++){ if(fn(array[i])){ newArr.push(array[i]) } }; return newArr } let a=filter(arr,item=&gt;item%2==0) console.log(a) å‡½æ•°åšä¸ºè¿”å›å€¼ // test1:ä¸€ä¸ªå‡½æ•°è¿”å›å¦ä¸€ä¸ªå‡½æ•° function todo(){ let text='hello world'; return function(){ console.log(text) } } //æ–¹å¼1 è°ƒç”¨ const fn=todo() fn() //æ–¹å¼2 è°ƒç”¨ todo()() //test2:è®©å‡½æ•°åªæ‰§è¡Œä¸€æ¬¡ function once(fn){ let status=false; return function(){ if(!status){ status=true; return fn.apply(this,arguments) } } }; let pay = once(function(money){ console.log(`æ”¯ä»˜äº† ${money}å…ƒ`) }) pay(100) pay(200) ä½¿ç”¨é«˜é˜¶å‡½æ•°çš„æ„ä¹‰ æŠ½è±¡å¯ä»¥å¸®æˆ‘ä»¬å±è”½ç»†èŠ‚ï¼Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“æˆ‘ä»¬çš„ç›®æ ‡å’Œè§£å†³è¿™ç±»é—®é¢˜çš„å‡½æ•°ï¼Œæˆ‘ä»¬ä¸éœ€è¦å…³å¿ƒå®ç°çš„ç»†èŠ‚ é«˜é˜¶å‡½æ•°æ˜¯ç”¨æ¥æŠ½è±¡é€šç”¨çš„é—®é¢˜ ç”¨é«˜é˜¶å‡½æ•°æ¨¡æ‹Ÿå¸¸ç”¨å‡½æ•° map:ä¾¿åˆ©æ•°ç»„ä¸­æ¯ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åç”Ÿæˆæ–°çš„æ•°ç»„ const map=(array,fn)=&gt;{ let arr=[]; for(let i of array){ arr.push(fn(i)) } return arr } let arr=[1,2,3,4,5]; arr=map(arr,v=&gt;v*v); console.log(arr) every:æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ æ˜¯å¦éƒ½åŒ¹é…æˆ‘ä»¬æŒ‡å®šçš„ä¸€ä¸ªæ¡ä»¶ï¼Œå¦‚æœéƒ½æ»¡è¶³è¿”å›trueï¼Œå¦‚æœä¸æ»¡è¶³è¿”å›false const every=(array,fn)=&gt;{ let status=true; for(let i of array){ status=fn(i) if(!status){ break } } return status } let arr=[1,2,3,4,5]; let n=every(arr,v=&gt;v&gt;=1); console.log(n) some:åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦æœ‰ä¸€ä¸ªå…ƒç´ æ»¡è¶³æˆ‘ä»¬æŒ‡å®šçš„æ¡ä»¶ï¼Œæ»¡è¶³æ˜¯trueï¼Œéƒ½ä¸æ»¡è¶³ä¸ºfalse const some=(array,fn)=&gt;{ let status=false; for(let i of array){ status=fn(i); if(status){ break; } } return status } let arr=[4,5,6,7]; let n=some(arr,v=&gt;v&gt;7); console.log(n); é—­åŒ… å‡½æ•°åœ¨æ‰§è¡Œçš„æ—¶å€™ä¼šæ”¾åˆ°ä¸€ä¸ªæ‰§è¡Œæ ˆä¸Šï¼Œå½“å‡½æ•°æ‰§è¡Œå®Œæ¯•ä¹‹åä¼šä»æ‰§è¡Œæ ˆä¸Šç§»é™¤ã€‚ä½†æ˜¯å †ä¸Šçš„ä½œç”¨åŸŸæˆå‘˜å› ä¸ºè¢«å¤–éƒ¨å¼•ç”¨ä¸èƒ½é‡Šæ”¾ï¼Œå› æ­¤å†…éƒ¨å‡½æ•°ä¾ç„¶å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°çš„æˆå‘˜ã€‚é—­åŒ…çš„æ ¸å¿ƒä½œç”¨å°±æ˜¯æŠŠå‡½æ•°å†…éƒ¨æˆå‘˜çš„ä½œç”¨èŒƒå›´å»¶é•¿ã€‚ function makeFn () { let msg = 'Hello function' } // æ­£å¸¸æƒ…å†µä¸‹ï¼Œæ‰§è¡Œå®ŒmakeFnï¼Œé‡Œé¢çš„å˜é‡msgä¼šé‡Šæ”¾æ‰ // ä½†æ˜¯ä¸‹é¢çš„æƒ…å†µ function makeFn () { let msg = 'Hello function' return function () { console.log(msg) } } // åœ¨ä¸Šé¢å‡½æ•°ä¸­ï¼Œè¿”å›äº†ä¸€ä¸ªå‡½æ•°ï¼Œè€Œä¸”åœ¨å‡½æ•°ä¸­è¿˜è®¿é—®äº†åŸæ¥å‡½æ•°å†…éƒ¨çš„æˆå‘˜ï¼Œå°±å¯ä»¥ç§°ä¸ºé—­åŒ… const fn = makeFn() fn() // fnä¸ºå¤–éƒ¨å‡½æ•°ï¼Œå½“å¤–éƒ¨å‡½æ•°å¯¹å†…éƒ¨æˆå‘˜æœ‰å¼•ç”¨çš„æ—¶å€™ï¼Œé‚£ä¹ˆå†…éƒ¨çš„æˆå‘˜msgå°±ä¸èƒ½è¢«é‡Šæ”¾ã€‚å½“æˆ‘ä»¬è°ƒç”¨fnçš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±ä¼šè®¿é—®åˆ°msgã€‚ //æ³¨æ„çš„ç‚¹ï¼š //1ã€æˆ‘ä»¬å¯ä»¥åœ¨å¦ä¸€ä¸ªä½œç”¨åŸŸè°ƒç”¨makeFnçš„å†…éƒ¨å‡½æ•° //2ã€å½“æˆ‘ä»¬è°ƒç”¨å†…éƒ¨å‡½æ•°çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥è®¿é—®åˆ°å†…éƒ¨æˆå‘˜ é—­åŒ…åº”ç”¨ è®¡ç®—æ•°å­—çš„æ¬¡æ–¹ function pow(power){ return function(number){ return Math.pow(number,power) } } //æ±‚å¹³æ–¹ let pow2=pow(2); console.log(pow2(2)) //ç«‹æ–¹ let pow3=pow(3); console.log(pow3(2)) è®¡ç®—ä¸åŒçº§åˆ«çš„å‘˜å·¥å·¥èµ„(ä¸åŒå‘˜å·¥åŸºæœ¬å·¥èµ„ç›¸ç­‰ï¼Œç»©æ•ˆä¸åŒ) function peopleMoney(moeny){ return function(value){ return moeny+value } } let lv1=peopleMoney(1000); let lv2=peopleMoney(2000); console.log(lv1(200)) console.log(lv2(1300)) çº¯å‡½æ•° ç›¸åŒçš„è¾“å…¥æ°¸è¿œä¼šå¾—åˆ°ç›¸åŒçš„è¾“å‡ºï¼Œè€Œä¸”æ²¡æœ‰ä»»ä½•å¯è§‚å¯Ÿçš„å‰¯ä½œç”¨ã€‚çº¯å‡½æ•°å°±ç±»ä¼¼æ•°å­¦ä¸­çš„å‡½æ•°(ç”¨æ¥æè¿°è¾“å…¥å’Œè¾“å‡ºä¹‹é—´çš„å…³ç³»)ï¼Œå¦‚y = f(x) let numbers = [1, 2, 3, 4, 5] // çº¯å‡½æ•° // å¯¹äºç›¸åŒçš„å‡½æ•°ï¼Œè¾“å‡ºæ˜¯ä¸€æ ·çš„ // sliceæ–¹æ³•ï¼Œæˆªå–çš„æ—¶å€™è¿”å›æˆªå–çš„å‡½æ•°ï¼Œä¸å½±å“åŸæ•°ç»„ numbers.slice(0, 3) // =&gt; [1, 2, 3] numbers.slice(0, 3) // =&gt; [1, 2, 3] numbers.slice(0, 3) // =&gt; [1, 2, 3] // ä¸çº¯çš„å‡½æ•° // å¯¹äºç›¸åŒçš„è¾“å…¥ï¼Œè¾“å‡ºæ˜¯ä¸ä¸€æ ·çš„ // spliceæ–¹æ³•ï¼Œè¿”å›åŸæ•°ç»„ï¼Œæ”¹å˜åŸæ•°ç»„ numbers.splice(0, 3) // =&gt; [1, 2, 3] numbers.splice(0, 3) // =&gt; [4, 5] numbers.splice(0, 3) // =&gt; [] // ä¸‹é¢å‡½æ•°ä¹Ÿæ˜¯çº¯å‡½æ•° function getSum (n1, n2) { return n1 + n2 } console.log(getSum(1, 2)) // 3 console.log(getSum(1, 2)) // 3 console.log(getSum(1, 2)) // 3 å‡½æ•°å¼ç¼–ç¨‹ä¸ä¼šä¿ç•™è®¡ç®—ä¸­é—´çš„ç»“æœï¼Œæ‰€ä»¥å˜é‡æ˜¯ä¸å¯å˜çš„(æ— çŠ¶æ€çš„) æˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠä¸€ä¸ªå‡½æ•°çš„æ‰§è¡Œç»“æœäº¤ç»™å¦ä¸€ä¸ªå‡½æ•°å¤„ç† Lodashâ€”â€”çº¯å‡½æ•°jsåº“ Lodashæ˜¯ä¸€ä¸ªä¸€è‡´æ€§ã€æ¨¡å—åŒ–ã€é«˜æ€§èƒ½çš„ JavaScript å®ç”¨å·¥å…·åº“ã€‚ å®‰è£…ï¼š npm init -y npm i lodash ä½¿ç”¨ï¼š var _ = require('lodash'); //æ•°ç»„åˆå¹¶ var arr=[1,2,3] var newArr=_.concat(arr,[4,5,6],[7,8,9]) console.log(newArr) //æ•°ç»„åè½¬ let className=['tom','bob','nike']; console.log(_.reserve(className)) console.log(className) // æ•°ç»„çš„ç¿»è½¬ä¸æ˜¯çº¯å‡½æ•°ï¼Œå› ä¸ºä¼šæ”¹å˜åŸæ•°ç»„ã€‚è¿™é‡Œçš„reserveæ˜¯ä½¿ç”¨äº†æ•°ç»„çš„reverseï¼Œæ‰€ä»¥ä¹Ÿä¸æ˜¯çº¯å‡½æ•° çº¯å‡½æ•°çš„å¥½å¤„ å¯ç¼“å­˜ å› ä¸ºå¯¹äºç›¸åŒçš„è¾“å…¥å§‹ç»ˆæœ‰ç›¸åŒçš„ç»“æœï¼Œé‚£ä¹ˆå¯ä»¥æŠŠçº¯å‡½æ•°çš„ç»“æœç¼“å­˜èµ·æ¥ï¼Œå¯ä»¥æé«˜æ€§èƒ½ã€‚ const _ = require('lodash'); /* _.memoize(func, [resolver]):åˆ›å»ºä¸€ä¸ªä¼šç¼“å­˜ func ç»“æœçš„å‡½æ•°ã€‚ å¦‚æœæä¾›äº† resolver ï¼Œå°±ç”¨ resolver çš„è¿”å›å€¼ä½œä¸º key ç¼“å­˜å‡½æ•°çš„ç»“æœã€‚ é»˜è®¤æƒ…å†µä¸‹ç”¨ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸ºç¼“å­˜çš„ keyã€‚ func åœ¨è°ƒç”¨æ—¶ this ä¼šç»‘å®šåœ¨ç¼“å­˜å‡½æ•°ä¸Šã€‚*/ //è®¡ç®—ä¸¤ä¸ªæ•°å­—çš„å’Œ function add(m,n){ console.log('once') return m+n } let fn=_.memoize(add); console.log(fn(4,5)); console.log(fn(4,5)); console.log(fn(4,5)); // è¾“å‡ºçš„onceåªæ‰§è¡Œäº†ä¸€æ¬¡ï¼Œå› ä¸ºå…¶ç»“æœè¢«ç¼“å­˜ä¸‹æ¥äº† æ¨¡æ‹Ÿ_.memoize const _ = require('lodash'); function add(m,n){ console.log('once') return m+n } function memoize (f) { let cache = {} return function () { // argumentsæ˜¯ä¸€ä¸ªä¼ªæ•°ç»„ï¼Œæ‰€ä»¥è¦è¿›è¡Œå­—ç¬¦ä¸²çš„è½¬åŒ– let key = JSON.stringify(arguments) console.log(key) // å¦‚æœç¼“å­˜ä¸­æœ‰å€¼å°±æŠŠå€¼èµ‹å€¼ï¼Œæ²¡æœ‰å€¼å°±è°ƒç”¨få‡½æ•°å¹¶ä¸”æŠŠå‚æ•°ä¼ é€’ç»™å®ƒ cache[key] = cache[key] || f.apply(f,arguments) console.log(cache) return cache[key] } } let getAreaWithMemory1 = memoize(add) console.log(getAreaWithMemory1(4,5)) /* è¾“å‡º {&quot;0&quot;:4,&quot;1&quot;:5} once { '{&quot;0&quot;:4,&quot;1&quot;:5}': 9 } 9 */ å¯æµ‹è¯• çº¯å‡½æ•°è®©æµ‹è¯•æ›´åŠ çš„æ–¹ä¾¿ å¹¶è¡Œå¤„ç† å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å¹¶è¡Œæ“ä½œå…±äº«çš„å†…å­˜æ•°æ®å¾ˆå¯èƒ½ä¼šå‡ºç°æ„å¤–æƒ…å†µã€‚çº¯å‡½æ•°ä¸éœ€è¦è®¿é—®å…±äº«çš„å†…å­˜æ•°æ®ï¼Œæ‰€ä»¥åœ¨å¹¶è¡Œç¯å¢ƒä¸‹å¯ä»¥ä»»æ„è¿è¡Œçº¯å‡½æ•° è™½ç„¶JSæ˜¯å•çº¿ç¨‹ï¼Œä½†æ˜¯ES6ä»¥åæœ‰ä¸€ä¸ªWeb Workerï¼Œå¯ä»¥å¼€å¯ä¸€ä¸ªæ–°çº¿ç¨‹ æŸ¯é‡ŒåŒ– æŸ¯é‡ŒåŒ–ï¼ˆCurryingï¼‰æ˜¯æŠŠæ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°å˜æ¢æˆæ¥å—ä¸€ä¸ªå•ä¸€å‚æ•°(æœ€åˆå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°)çš„å‡½æ•°ï¼Œå¹¶ä¸”è¿”å›æ¥å—ä½™ä¸‹çš„å‚æ•°ä¸”è¿”å›ç»“æœçš„æ–°å‡½æ•°çš„æŠ€æœ¯ã€‚ å½“å‡½æ•°æœ‰å¤šä¸ªå‚æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å‡½æ•°è¿›è¡Œæ”¹é€ ã€‚æˆ‘ä»¬å¯ä»¥è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œåªä¼ é€’éƒ¨åˆ†çš„å‚æ•°ï¼ˆè¿™éƒ¨åˆ†å‚æ•°ä»¥åæ°¸è¿œä¸å˜ï¼‰ï¼Œç„¶åè®©è¿™ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚æ–°çš„å‡½æ•°ä¼ é€’å‰©ä½™çš„å‚æ•°ï¼Œå¹¶ä¸”è¿”å›ç›¸åº”çš„ç»“æœã€‚ // ä¸‹é¢è¿™æ®µä»£ç æ˜¯è§£å†³äº†ä¸çº¯çš„å‡½æ•°çš„é—®é¢˜ï¼Œä½†æ˜¯é‡Œé¢å‡ºç°äº†ç¡¬ç¼–ç  function checkAge (age) { let mini = 18 return age &gt;= mini } // æ™®é€šçš„çº¯å‡½æ•° function checkAge (min, age) { return age &gt;= min } console.log(checkAge(18, 20)) //true console.log(checkAge(18, 24)) //true console.log(checkAge(20, 24)) //true // ç»å¸¸ä½¿ç”¨18ï¼Œè¿™æ®µä»£ç æ˜¯é‡å¤çš„ã€‚é¿å…é‡å¤ function checkAge (min) { return function (age) { return age &gt;= min } } let checkAge18 = checkAge(18) let checkAge20 = checkAge(20) console.log(checkAge18(20)) //true console.log(checkAge18(24)) //true Lodashä¸­çš„æŸ¯é‡ŒåŒ– â€”â€” curry() åŠŸèƒ½ï¼šåˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥æ”¶ä¸€ä¸ªæˆ–å¤šä¸ª funcçš„å‚æ•°ï¼Œå¦‚æœ func æ‰€éœ€è¦çš„å‚æ•°éƒ½è¢«æä¾›åˆ™æ‰§è¡Œ func å¹¶è¿”å›æ‰§è¡Œçš„ç»“æœã€‚å¦åˆ™ç»§ç»­è¿”å›è¯¥å‡½æ•°å¹¶ç­‰å¾…æ¥æ”¶å‰©ä½™çš„å‚æ•°ã€‚ å‚æ•°ï¼šéœ€è¦æŸ¯é‡ŒåŒ–çš„å‡½æ•° è¿”å›å€¼ï¼šæŸ¯é‡ŒåŒ–åçš„å‡½æ•° //æ¡ˆä¾‹ const _ = require('lodash'); function getSum(a,b,c){ return a+b+c } const curried=_.curry(getSum) console.log(curried(1,2,3)) console.log(curried(1)(2)(3)) console.log(curried(1)(2,3)) æŸ¯é‡ŒåŒ–çš„å®ç° å®ç°ä¸€ä¸ªæŸ¯é‡ŒåŒ–è½¬æ¢å‡½æ•°è¦è¿›è¡Œåˆ†æ 1.å…¥å‚å‡ºå‚ï¼šè°ƒç”¨ä¼ é€’ä¸€ä¸ªçº¯å‡½æ•°çš„å‚æ•°ï¼Œå®Œæˆä¹‹åè¿”å›ä¸€ä¸ªæŸ¯é‡ŒåŒ–å‡½æ•° 2.å…¥å‚æƒ…å†µåˆ†æï¼š å¦‚æœcurriedè°ƒç”¨ä¼ é€’çš„å‚æ•°å’ŒgetSumå‡½æ•°å‚æ•°ä¸ªæ•°ç›¸åŒï¼Œé‚£ä¹ˆç«‹å³æ‰§è¡Œå¹¶è¿”å›è°ƒç”¨ç»“æœ å¦‚æœcurriedè°ƒç”¨ä¼ é€’çš„å‚æ•°æ˜¯getSumå‡½æ•°çš„éƒ¨åˆ†å‚æ•°ï¼Œé‚£ä¹ˆéœ€è¦è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œå¹¶ä¸”ç­‰å¾…æ¥æ”¶getSumçš„å…¶ä»–å‚æ•° 3 é‡ç‚¹å…³æ³¨ï¼š è·å–è°ƒç”¨çš„å‚æ•° åˆ¤æ–­ä¸ªæ•°æ˜¯å¦ç›¸åŒ function getSum (a, b, c) { return a + b + c } // æ¨¡æ‹ŸæŸ¯é‡ŒåŒ–å‡½æ•° function curry (func) { // å–åå­—æ˜¯ä¸ºäº†ä¸‹é¢å®å‚å°äºå½¢å‚çš„æ—¶å€™ç”¨çš„ return function curriedFn(...args) { // åˆ¤æ–­å®å‚å’Œå½¢å‚çš„ä¸ªæ•° if(args.length &lt; func.length) { return function() { // ç­‰å¾…ä¼ é€’çš„å‰©ä½™å‚æ•°ï¼Œå¦‚æœå‰©ä½™å‡½æ•°çš„å‚æ•°åŠ ä¸Šä¹‹å‰çš„å‚æ•°ç­‰äºå½¢å‚ï¼Œé‚£ä¹ˆå°±è¿”å›func // ç¬¬ä¸€éƒ¨åˆ†å‚æ•°åœ¨argsé‡Œé¢ï¼Œç¬¬äºŒéƒ¨åˆ†å‚æ•°åœ¨argumentsé‡Œé¢ï¼Œè¦å°†ä¸¤ä¸ªåˆå¹¶å¹¶ä¸”å±•å¼€ä¼ é€’ï¼ˆä½¿ç”¨...ï¼‰ // concatå‡½æ•°è¦åˆå¹¶ä¸¤ä¸ªæ•°ç»„ï¼Œargumentsä¸ºä¼ªæ•°ç»„ï¼Œæ‰€ä»¥ç”¨Array.fromè¿›è¡Œè½¬æ¢ return curriedFn(...args.concat(Array.from(arguments))) } } // å¦‚æœå®å‚å¤§äºç­‰äºå½¢å‚çš„ä¸ªæ•° // argsæ˜¯å‰©ä½™å‚æ•°ï¼Œæ˜¯ä¸ªæ•°ç»„å½¢å¼ï¼Œè€Œè¿”å›çš„æ—¶å€™è¦å±•å¼€ï¼ˆä½¿ç”¨...ï¼‰ return func(...args) } } // test const curriedTest = curry(getSum) console.log(curriedTest(1, 2, 3)) // 6 console.log(curriedTest(1)(2, 3)) // 6 console.log(curriedTest(1, 2)(3)) // 6 æ€»ç»“ æŸ¯é‡ŒåŒ–å¯ä»¥è®©æˆ‘ä»¬ç»™ä¸€ä¸ªå‡½æ•°ä¼ é€’è¾ƒå°‘çš„å‚æ•°å¾—åˆ°ä¸€ä¸ªå·²ç»è®°ä½äº†æŸäº›å›ºå®šå‚æ•°çš„æ–°å‡½æ•°ï¼ˆæ¯”å¦‚matchå‡½æ•°æ–°ç”Ÿæˆäº†haveSpaceå‡½æ•°ï¼Œé‡Œé¢ä½¿ç”¨äº†é—­åŒ…ï¼Œè®°ä½äº†æˆ‘ä»¬ç»™ä¼ é€’çš„æ­£åˆ™è¡¨è¾¾å¼çš„å‚æ•°ï¼‰ è¿™æ˜¯ä¸€ç§å¯¹å‡½æ•°å‚æ•°çš„'ç¼“å­˜'ï¼ˆä½¿ç”¨äº†é—­åŒ…ï¼‰ è®©å‡½æ•°å˜çš„æ›´çµæ´»ï¼Œè®©å‡½æ•°çš„ç²’åº¦æ›´å° å¯ä»¥æŠŠå¤šå…ƒå‡½æ•°è½¬æ¢æˆä¸€å…ƒå‡½æ•°ï¼Œå¯ä»¥ç»„åˆä½¿ç”¨å‡½æ•°äº§ç”Ÿå¼ºå¤§çš„åŠŸèƒ½ å‡½æ•°ç»„åˆ å¦‚æœä¸€ä¸ªå‡½æ•°è¦ç»è¿‡å¤šä¸ªå‡½æ•°å¤„ç†æ‰èƒ½å¾—åˆ°æœ€ç»ˆå€¼ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥æŠŠä¸­é—´è¿‡ç¨‹çš„å‡½æ•°åˆå¹¶æˆä¸€ä¸ªå‡½æ•°ã€‚å‡½æ•°ç»„åˆé»˜è®¤æ˜¯ä»å³åˆ°å·¦æ‰§è¡Œ //ä¾‹å­ï¼šæœ‰ä¸€ä¸ªæ•°ç»„ï¼Œéœ€è¦è·å–åˆ°æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´  function reverse(array){ return array.reverse() } function first(array){ return array[0] } //es5 /* function getFirst(f,n){ return function(value){ return f(n(value)) } } */ //es6 const getFirst=(f,n)=&gt;value=&gt;f(n(value)); let compose=getFirst(first,reverse); console.log(compose([1,2,3,4,5])) //5 ç»„åˆå‡½æ•°æ¨¡æ‹Ÿ æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œéœ€è¦è·å–åˆ°æ•°ç»„ä¸­æœ€åä¸€ä¸ªå…ƒç´ å¹¶æ¢æˆå¤§å†™ const reverse = arr =&gt; arr.reverse(); const first = arr =&gt; arr[0]; const toUpper = s =&gt; s.toUpperCase(); function compose (...args) { // è¿”å›çš„å‡½æ•°ï¼Œæœ‰ä¸€ä¸ªä¼ å…¥çš„åˆå§‹å‚æ•°å³value return function (value) { // ...argsæ˜¯æ‰§è¡Œçš„å‡½æ•°çš„æ•°ç»„ï¼Œä»å³å‘å·¦æ‰§è¡Œé‚£ä¹ˆæ•°ç»„è¦è¿›è¡Œreverseç¿»è½¬ // reduce: å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œå»æ‰§è¡Œæˆ‘ä»¬æä¾›çš„ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶å°†å…¶æ±‡æ€»æˆä¸€ä¸ªå•ä¸ªç»“æœ // reduceçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯accçš„åˆå§‹å€¼ï¼Œè¿™é‡Œaccçš„åˆå§‹å€¼å°±æ˜¯value // reduceç¬¬ä¸€ä¸ªå‚æ•°çš„å›è°ƒå‡½æ•°éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ±‡æ€»çš„ä¸€ä¸ªç»“æœï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å¦‚æœå¤„ç†æ±‡æ€»çš„ç»“æœçš„å‡½æ•°å¹¶è¿”å›ä¸€ä¸ªæ–°çš„å€¼ // fnæŒ‡çš„æ˜¯æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼ˆå³å‡½æ•°ï¼‰ï¼Œæ¥å¤„ç†å‚æ•°accï¼Œå®Œæˆä¹‹åä¸‹ä¸€ä¸ªæ•°ç»„å…ƒç´ å¤„ç†çš„æ˜¯ä¸Šä¸€ä¸ªæ•°ç»„çš„ç»“æœacc return args.reverse().reduce(function (acc, fn) { return fn(acc) }, value) } } //test const fTest = compose(toUpper, first, reverse) console.log(fTest(['one', 'two', 'three'])) // THREE // ES6çš„å†™æ³•ï¼ˆå‡½æ•°éƒ½å˜æˆç®­å¤´å‡½æ•°ï¼‰ const compose = (...args) =&gt; value =&gt; args.reverse().reduce((acc, fn) =&gt; fn(acc), value) å‡½æ•°ç»„åˆ-ç»“åˆå¾‹ ä»€ä¹ˆæ˜¯å‡½æ•°ç»„åˆç»“åˆå¾‹ï¼Ÿ ä¸‹é¢ä¸‰ä¸ªæƒ…å†µç»“æœä¸€æ ·ï¼Œæˆ‘ä»¬æ—¢å¯ä»¥æŠŠ g å’Œ h ç»„åˆï¼Œè¿˜å¯ä»¥æŠŠ f å’Œ g ç»„åˆ //ä¼ªä»£ç  // ç»“åˆå¾‹ï¼ˆassociativityï¼‰ let f = compose(f, g, h) let associative = compose(compose(f, g), h) == compose(f, compose(g, h)) // true å®é™…æ¡ˆä¾‹ const _ = require('lodash'); // æ–¹å¼ä¸€ const f = _.flowRight(_.toUpper, _.first, _.reverse) // æ–¹å¼äºŒ const f = _.flowRight(_.flowRight(_.toUpper, _.first), _.reverse) // æ–¹å¼ä¸‰ const f = _.flowRight(_.toUpper, _.flowRight(_.first, _.reverse)) // æ— è®ºä¸Šé¢é‚£ç§å†™æ³•ï¼Œä¸‹é¢éƒ½è¾“å‡ºTHREEè¿™ä¸ªç›¸åŒçš„ç»“æœ console.log(f(['one', 'two', 'three'])) // THREE å¦‚ä½•æµ‹è¯•å‡½æ•°ç»„åˆ å¦‚æœæˆ‘ä»¬è¿è¡Œçš„ç»“æœå’Œæˆ‘ä»¬çš„é¢„æœŸä¸ä¸€è‡´ï¼Œæˆ‘ä»¬æ€ä¹ˆè°ƒè¯•å‘¢ï¼Ÿæˆ‘ä»¬æ€ä¹ˆèƒ½çŸ¥é“ä¸­é—´è¿è¡Œçš„ç»“æœå‘¢ï¼Ÿ ä¸‹é¢è¿™ä¸ªè¾“å…¥NEVER SAY DIEè¦å¯¹åº”è¾“å‡ºnerver-say-die const _ = require('lodash') // è¿™é‡Œsplitå‡½æ•°éœ€è¦ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œä¸”æˆ‘ä»¬æœ€åè°ƒç”¨çš„æ—¶å€™è¦ä¼ å…¥å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥å­—ç¬¦ä¸²è¦åœ¨ç¬¬äºŒä¸ªä½ç½®ä¼ å…¥ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦è‡ªå·±å°è£…ä¸€ä¸ªsplitå‡½æ•° // _.split(string, separator) // å°†å¤šä¸ªå‚æ•°è½¬æˆä¸€ä¸ªå‚æ•°ï¼Œç”¨åˆ°å‡½æ•°çš„æŸ¯é‡ŒåŒ– const split = _.curry((sep, str) =&gt; _.split(str, sep)) // å¤§å†™å˜å°å†™ï¼Œç”¨åˆ°toLower()ï¼Œå› ä¸ºè¿™ä¸ªå‡½æ•°åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œæ‰€ä»¥å¯ä»¥åœ¨å‡½æ•°ç»„åˆä¸­ç›´æ¥ä½¿ç”¨ // è¿™é‡Œjoinæ–¹æ³•ä¹Ÿéœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ•°ç»„ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯åˆ†éš”ç¬¦ï¼Œæ•°ç»„ä¹Ÿæ˜¯æœ€åçš„æ—¶å€™æ‰ä¼ é€’ï¼Œä¹Ÿéœ€è¦äº¤æ¢ const join = _.curry((sep, array) =&gt; _.join(array, sep)) const f = _.flowRight(join('-'), _.toLower, split(' ')) console.log(f('NEVER SAY DIE')) //n-e-v-e-r-,-s-a-y-,-d-i-e ä½†æ˜¯æœ€åçš„ç»“æœå´ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆè°ƒè¯•å‘¢ï¼Ÿ // NEVER SAY DIE --&gt; nerver-say-die const _ = require('lodash') const split = _.curry((sep, str) =&gt; _.split(str, sep)) const join = _.curry((sep, array) =&gt; _.join(array, sep)) // æˆ‘ä»¬éœ€è¦å¯¹ä¸­é—´å€¼è¿›è¡Œæ‰“å°ï¼Œå¹¶ä¸”çŸ¥é“å…¶ä½ç½®ï¼Œç”¨æŸ¯é‡ŒåŒ–è¾“å‡ºä¸€ä¸‹ const log = _.curry((tag, v) =&gt; { console.log(tag, v) return v }) // ä»å³å¾€å·¦åœ¨æ¯ä¸ªå‡½æ•°åé¢åŠ ä¸€ä¸ªlogï¼Œå¹¶ä¸”ä¼ å…¥tagçš„å€¼ï¼Œå°±å¯ä»¥çŸ¥é“æ¯æ¬¡ç»“æœè¾“å‡ºçš„æ˜¯ä»€ä¹ˆ const f = _.flowRight(join('-'), log('after toLower:'), _.toLower, log('after split:'), split(' ')) // ä»å³åˆ°å·¦ //ç¬¬ä¸€ä¸ªlogï¼šafter split: [ 'NEVER', 'SAY', 'DIE' ] æ­£ç¡® //ç¬¬äºŒä¸ªlog: after toLower: never,say,die è½¬åŒ–æˆå°å†™å­—æ¯çš„æ—¶å€™ï¼ŒåŒæ—¶è½¬æˆäº†å­—ç¬¦ä¸²ï¼Œè¿™é‡Œå‡ºäº†é—®é¢˜ console.log(f('NEVER SAY DIE')) //n-e-v-e-r-,-s-a-y-,-d-i-e // ä¿®æ”¹æ–¹å¼ï¼Œåˆ©ç”¨æ•°ç»„çš„mapæ–¹æ³•ï¼Œéå†æ•°ç»„çš„æ¯ä¸ªå…ƒç´ è®©å…¶å˜æˆå°å†™ // è¿™é‡Œçš„mapéœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯æ•°ç»„ï¼Œç¬¬äºŒä¸ªæ˜¯å›è°ƒå‡½æ•°ï¼Œéœ€è¦æŸ¯é‡ŒåŒ– const map = _.curry((fn, array) =&gt; _.map(array, fn)) const f1 = _.flowRight(join('-'), map(_.toLower), split(' ')) console.log(f1('NEVER SAY DIE')) // never-say-die FPæ¨¡å— å‡½æ•°ç»„åˆçš„æ—¶å€™ç”¨åˆ°å¾ˆå¤šçš„å‡½æ•°éœ€è¦æŸ¯é‡ŒåŒ–å¤„ç†ï¼Œæˆ‘ä»¬æ¯æ¬¡éƒ½å¤„ç†é‚£äº›å‡½æ•°æœ‰äº›éº»çƒ¦ï¼Œæ‰€ä»¥lodashä¸­æœ‰ä¸€ä¸ªFPæ¨¡å— lodash çš„ fp æ¨¡å—æä¾›äº†å®ç”¨çš„å¯¹å‡½æ•°å¼ç¼–ç¨‹å‹å¥½çš„æ–¹æ³• æä¾›äº†ä¸å¯å˜ auto-curried iteratee-first data-last ï¼ˆå‡½æ•°ä¹‹å…ˆï¼Œæ•°æ®ä¹‹åï¼‰çš„æ–¹æ³• const fp=require('lodash/fp'); // å‡½æ•°ç½®å…ˆï¼Œæ•°æ®ç½®å console.log(fp.map(fp.toUpper,['a','b','c','d'])) //è§„åˆ™ç½®å‰ï¼Œæ•°æ®ç½®å console.log(fp.split(' ')('hello word')) console.log(fp.split(' ','hello word')) Point Free Point Freeæ˜¯ä¸€ç§ç¼–ç¨‹é£æ ¼ï¼Œå…·ä½“çš„å®ç°æ˜¯å‡½æ•°çš„ç»„åˆã€‚Point Freeï¼š æˆ‘ä»¬å¯ä»¥æŠŠæ•°æ®å¤„ç†çš„è¿‡ç¨‹å®šä¹‰æˆä¸æ•°æ®æ— å…³çš„åˆæˆè¿ç®—ï¼Œä¸éœ€è¦ç”¨åˆ°ä»£è¡¨æ•°æ®çš„é‚£ä¸ªå‚æ•°ï¼Œåªè¦æŠŠç®€å•çš„è¿ç®—æ­¥éª¤åˆæˆåˆ°ä¸€èµ·ï¼Œåœ¨ä½¿ç”¨è¿™ç§æ¨¡å¼ä¹‹å‰æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€äº›è¾…åŠ©çš„åŸºæœ¬è¿ç®—å‡½æ•°ã€‚ ä¸éœ€è¦æŒ‡æ˜å¤„ç†çš„æ•°æ® åªéœ€è¦åˆæˆè¿ç®—è¿‡ç¨‹ éœ€è¦å®šä¹‰ä¸€äº›è¾…åŠ©çš„åŸºæœ¬è¿ç®—å‡½æ•° ä¾‹å­1 /*å°†Hello World è½¬åŒ–ä¸º hello_world */ const fp=require('lodash/fp'); const f=fp.flowRight(fp.replace(/\\s+/g,'_'),fp.toLower); console.log(f('Hello World')) //hello_world ä¾‹å­2 //world wild web --&gt;W. W. W //æ€è·¯ï¼š //æŠŠä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„é¢é¦–å­—æ¯æå–å¹¶è½¬æ¢æˆå¤§å†™ï¼Œä½¿ç”¨. ä½œä¸ºåˆ†éš”ç¬¦ const fp = require('lodash/fp') const firstLetterToUpper = fp.flowRight(fp.join('. '), fp.map(fp.first), fp.map(fp.toUpper), fp.split(' ')) console.log(firstLetterToUpper('world wild web')) //W. W. W // ä¸Šé¢çš„ä»£ç è¿›è¡Œäº†ä¸¤æ¬¡çš„éå†ï¼Œæ€§èƒ½è¾ƒä½ // ä¼˜åŒ– const firstLetterToUpper = fp.flowRight(fp.join('. '), fp.map(fp.flowRight(fp.first, fp.toUpper)), fp.split(' ')) console.log(firstLetterToUpper('world wild web')) //W. W. W Functor ä¸ºä»€ä¹ˆè¦å­¦å‡½å­ï¼Ÿ å‡½å­(representative functor)æ˜¯èŒƒç•´è®ºé‡Œçš„æ¦‚å¿µï¼ŒæŒ‡ä»ä»»æ„èŒƒç•´åˆ°é›†åˆèŒƒç•´çš„ä¸€ç§ç‰¹æ®Šå‡½å­ã€‚ æˆ‘ä»¬æ²¡æœ‰åŠæ³•é¿å…å‰¯ä½œç”¨ï¼Œä½†æ˜¯æˆ‘ä»¬å°½å¯èƒ½çš„å°†å‰¯ä½œç”¨æ§åˆ¶åœ¨å¯æ§çš„èŒƒå›´å†…ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‡½å­å»å¤„ç†å‰¯ä½œç”¨ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å‡½å­å»å¤„ç†å¼‚å¸¸ï¼Œå¼‚æ­¥æ“ä½œç­‰ã€‚ ä»€ä¹ˆæ˜¯Functor å®¹å™¨ï¼šåŒ…å«å€¼å’Œå€¼çš„å˜å½¢å…³ç³»(è¿™ä¸ªå˜å½¢å…³ç³»å°±æ˜¯å‡½æ•°) å‡½å­ï¼šæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å®¹å™¨ï¼Œé€šè¿‡ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡æ¥å®ç°ï¼Œè¯¥å¯¹è±¡å…·æœ‰ map æ–¹æ³•ï¼Œmapæ–¹æ³•å¯ä»¥è¿è¡Œä¸€ä¸ªå‡½æ•°å¯¹å€¼è¿›è¡Œå¤„ç†(å˜å½¢å…³ç³») class Container{ constructor(value){ // è¿™ä¸ªå‡½å­çš„å€¼æ˜¯ä¿å­˜åœ¨å†…éƒ¨çš„ï¼Œä¸å¯¹å¤–å…¬å¸ƒ // _ä¸‹åˆ’çº¿çš„æˆå‘˜éƒ½æ˜¯ç§æœ‰æˆå‘˜ï¼Œå¤–éƒ¨æ— æ³•è®¿é—®ï¼Œå€¼æ˜¯åˆå§‹åŒ–çš„ä¼ çš„å‚æ•° this._value=value } //æœ‰ä¸€ä¸ªå¯¹å¤–çš„æ–¹æ³•mapï¼Œæ¥æ”¶ä¸€ä¸ªå‡½æ•°ï¼ˆçº¯å‡½æ•°ï¼‰ï¼Œæ¥å¤„ç†è¿™ä¸ªå€¼ map(fn){ // è¿”å›ä¸€ä¸ªæ–°çš„å‡½å­ï¼ŒæŠŠfnå¤„ç†çš„å€¼è¿”å›ç»™å‡½å­ï¼Œç”±æ–°çš„å‡½å­æ¥ä¿å­˜ return new Container(fn(this._value)) } } // åˆ›å»ºä¸€ä¸ªå‡½å­çš„å¯¹è±¡ let r=new Container(5) .map(n=&gt;n+1) .map(n=&gt;n*n) // è¿”å›äº†ä¸€ä¸ªcontainerå‡½å­å¯¹è±¡ï¼Œé‡Œé¢æœ‰å€¼æ˜¯36ï¼Œä¸å¯¹å¤–å…¬å¸ƒ console.log(r) //Container { _value: 36 } ä¸Šé¢è¿˜æ˜¯é¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ€æƒ³ï¼Œè¦ä¿®æ”¹æˆå‡½æ•°å¼ç¼–ç¨‹çš„æ€æƒ³ï¼Œéœ€è¦é¿å…ä½¿ç”¨new class Container { //ä½¿ç”¨ç±»çš„é™æ€æ–¹æ³•ï¼Œofæ›¿ä»£äº†new Containerçš„ä½œç”¨ static of (value) { return new Container(value) } constructor (value) { this._value = value } map (fn) { return Container.of(fn(this._value)) } } const r = Container.of(5) .map(x=&gt;x+2) // 7 .map(x=&gt; x**2) // 49 console.log(r) // Container { _value: 49 } æ€»ç»“ å‡½æ•°å¼ç¼–ç¨‹çš„è¿ç®—ä¸ç›´æ¥æ“ä½œå€¼ï¼Œè€Œæ˜¯ç”±å‡½å­å®Œæˆ å‡½å­å°±æ˜¯ä¸€ä¸ªå®ç°äº† map å¥‘çº¦çš„å¯¹è±¡ æˆ‘ä»¬å¯ä»¥æŠŠå‡½å­æƒ³è±¡æˆä¸€ä¸ªç›’å­ï¼Œè¿™ä¸ªç›’å­é‡Œå°è£…äº†ä¸€ä¸ªå€¼ æƒ³è¦å¤„ç†ç›’å­ä¸­çš„å€¼ï¼Œæˆ‘ä»¬éœ€è¦ç»™ç›’å­çš„ map æ–¹æ³•ä¼ é€’ä¸€ä¸ªå¤„ç†å€¼çš„å‡½æ•°ï¼ˆçº¯å‡½æ•°ï¼‰ï¼Œç”±è¿™ä¸ªå‡½æ•°æ¥å¯¹å€¼è¿›è¡Œå¤„ç† æœ€ç»ˆ map æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«æ–°å€¼çš„ç›’å­ï¼ˆå‡½å­ï¼‰ é—ç•™é—®é¢˜ï¼šåœ¨ä¸Šé¢è¯´çš„å‡½å­ä¸­ï¼Œå¦‚æœvalueæ˜¯null undefinedï¼Œæ€ä¹ˆåŠï¼Ÿ Container.of(null) .map(x=&gt;x.toUpper) // æŠ¥é”™ï¼Œä½¿å¾—å‡½æ•°ä¸çº¯ ä¸‹é¢è¿™äº›å‡½å­å°±æ˜¯å¤„ç†ä¸åŒé—®é¢˜çš„å‡½æ•° MyBeå‡½å­ MayBe å‡½å­çš„ä½œç”¨å°±æ˜¯å¯ä»¥å¯¹å¤–éƒ¨çš„ç©ºå€¼æƒ…å†µåšå¤„ç†ï¼ˆæ§åˆ¶å‰¯ä½œç”¨åœ¨å…è®¸çš„èŒƒå›´ï¼‰ class MayBe { static of (value) { return new MayBe(value) } constructor (value) { this._value = value } map(fn) { // åˆ¤æ–­ä¸€ä¸‹valueçš„å€¼æ˜¯ä¸æ˜¯nullå’Œundefinedï¼Œå¦‚æœæ˜¯å°±è¿”å›ä¸€ä¸ªvalueä¸ºnullçš„å‡½å­ï¼Œå¦‚æœä¸æ˜¯å°±æ‰§è¡Œå‡½æ•° return this.isNothing() ? MayBe.of(null) : MayBe.of(fn(this._value)) } // å®šä¹‰ä¸€ä¸ªåˆ¤æ–­æ˜¯ä¸æ˜¯nullæˆ–è€…undefinedçš„å‡½æ•°ï¼Œè¿”å›true/false isNothing() { return this._value === null || this._value === undefined } } const r = MayBe.of('hello world') .map(x =&gt; x.toUpperCase()) console.log(r) //MayBe { _value: 'HELLO WORLD' } // å¦‚æœè¾“å…¥çš„æ˜¯nullï¼Œæ˜¯ä¸ä¼šæŠ¥é”™çš„ const rnull = MayBe.of(null) .map(x =&gt; x.toUpperCase()) console.log(rnull) //MayBe { _value: null } ä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œå¦‚æœmapä¸­é—´æœ‰å¥½å‡ æ­¥ï¼Œæœ€åè¿”å›æ˜¯nullï¼Œå¹¶ä¸çŸ¥é“æ˜¯å“ªä¸€ä¸ªæ­¥éª¤è¿”å›çš„ã€‚è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦çœ‹ä¸‹ä¸€ä¸ªå‡½å­ã€‚ Eitherå‡½å­ Either ä¸¤è€…ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œç±»ä¼¼äº if...else...çš„å¤„ç† å½“å‡ºç°é—®é¢˜çš„æ—¶å€™ï¼ŒEitherå‡½å­ä¼šç»™å‡ºæç¤ºçš„æœ‰æ•ˆä¿¡æ¯ï¼Œ å¼‚å¸¸ä¼šè®©å‡½æ•°å˜çš„ä¸çº¯ï¼ŒEither å‡½å­å¯ä»¥ç”¨æ¥åšå¼‚å¸¸å¤„ç† // å› ä¸ºæ˜¯äºŒé€‰ä¸€ï¼Œæ‰€ä»¥è¦å®šä¹‰leftå’Œrightä¸¤ä¸ªå‡½å­ class Left { static of (value) { return new Left(value) } constructor (value) { this._value = value } map (fn) { return this } } class Right { static of (value) { return new Right(value) } constructor (value) { this._value = value } map (fn) { return Right.of(fn(this._value)) } } let r1 = Right.of(12).map(x =&gt; x + 2) let r2 = Left.of(12).map(x =&gt; x + 2) console.log(r1) // Right { _value: 14 } console.log(r2) // Left { _value: 12 } // ä¸ºä»€ä¹ˆç»“æœä¼šä¸ä¸€æ ·ï¼Ÿå› ä¸ºLeftè¿”å›çš„æ˜¯å½“å‰å¯¹è±¡ï¼Œå¹¶æ²¡æœ‰ä½¿ç”¨fnå‡½æ•° // é‚£ä¹ˆè¿™é‡Œå¦‚ä½•å¤„ç†å¼‚å¸¸å‘¢ï¼Ÿ // æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢æˆå¯¹è±¡çš„å‡½æ•° function parseJSON(str) { // å¯¹äºå¯èƒ½å‡ºé”™çš„ç¯èŠ‚ä½¿ç”¨try-catch // æ­£å¸¸æƒ…å†µä½¿ç”¨Rightå‡½å­ try{ return Right.of(JSON.parse(str)) }catch (e) { // é”™è¯¯ä¹‹åä½¿ç”¨Leftå‡½å­ï¼Œå¹¶è¿”å›é”™è¯¯ä¿¡æ¯ return Left.of({ error: e.message }) } } let rE = parseJSON('{name:xm}') console.log(rE) // Left { _value: { error: 'Unexpected token n in JSON at position 1' } } let rR = parseJSON('{&quot;name&quot;:&quot;xm&quot;}') console.log(rR) // Right { _value: { name: 'xm' } } console.log(rR.map(x =&gt; x.name.toUpperCase())) // Right { _value: 'XM' } ","link":"https://lonjinup.github.io/javascript01-hssbc/"},{"title":"å°ç¨‹åºè‡ªå®šä¹‰TabBarä»¥åŠkeep-alive","content":"å°ç¨‹åºè‡ªå®šä¹‰TabBaråå¦‚ä½•å®ç°keep-alive å‰æ®µæ—¶é—´å†™äº†å°ç¨‹åºå®ç°TabBaråˆ›æ„åŠ¨ç”»å’Œå°ç¨‹åºå¼€å‘æŠ€å·§åï¼Œæœ‰å°ä¼™ä¼´æé—®åˆ°ï¼Œè‡ªå®šä¹‰TabBaræ˜¯å¯ä»¥åšå¾ˆå¤šäº¤äº’ï¼Œä½†ç‚¹å‡»åˆ‡æ¢TabBaré¡µé¢ï¼Œéƒ½ä¼šä¼´éšç€ç»„ä»¶çš„é”€æ¯å’Œé‡å»ºï¼Œè¿™ç‚¹ç¡®å®ä¼šå½±å“æ€§èƒ½ã€‚è¿™é‡Œå°±æä¾›ä¸€ä¸ªæ–¹æ¡ˆæ¥å®ç°â€œkeep-aliveâ€ã€‚å¦‚æœ‰æ›´å¥½çš„æ–¹æ¡ˆï¼Œæ¬¢è¿è¯„è®ºåŒºäº¤æµã€‚æ¬¢è¿ç‚¹èµå’Œæ”¶è—~ è‡ªå®šä¹‰TabBaræ–¹æ¡ˆ è™½ç„¶åœ¨ä¹‹å‰æ–‡ç« æåˆ°è¿‡äº†ï¼Œæœ¬æ¬¡é‡‡ç”¨ç»„ä»¶åŒ–å®ç° æˆ‘ä»¬å¯ä»¥æ–°å»ºä¸€ä¸ªhomeæ–‡ä»¶å¤¹ï¼Œåœ¨home/index.wxmlä¸­å†™ä¸€ä¸ªtabBarï¼Œç„¶åæŠŠTabBaré¡µé¢å†™æˆç»„ä»¶ï¼Œç„¶åç‚¹å‡»TabBaråˆ‡æ¢ç›¸åº”çš„ç»„ä»¶å±•ç¤ºå°±å¯ä»¥ã€‚ä»£ç å¦‚ä¸‹ï¼š wxmléƒ¨åˆ† &lt;!-- homeé¡µé¢ --&gt; &lt;view id='index'&gt; &lt;!-- è‡ªå®šä¹‰å¤´éƒ¨ --&gt; &lt;head name='{{name}}' bgshow=&quot;{{bgshow}}&quot; backShow='false'&gt;&lt;/head&gt; &lt;!-- é¦–é¡µ --&gt; &lt;index change='{{activeIndex==0}}'&gt;&lt;/index&gt; &lt;!-- è´­ç‰©è½¦ --&gt; &lt;cart change='{{activeIndex==1}}'&gt;&lt;/cart&gt; &lt;!-- è®¢å• --&gt; &lt;order change='{{activeIndex==2}}'&gt;&lt;/order&gt; &lt;!-- æˆ‘çš„ --&gt; &lt;my change='{{activeIndex==2}}'&gt;&lt;/my&gt; &lt;!-- tabbar --&gt; &lt;view class=&quot;tab ios&quot;&gt; &lt;view class=&quot;items {{activeIndex==index?'active':''}}&quot; wx:for=&quot;{{tab}}&quot; bindtap=&quot;choose&quot; data-index='{{index}}' wx:key='index' wx:for-item=&quot;items&quot;&gt; &lt;image wx:if=&quot;{{activeIndex==index}}&quot; src=&quot;{{items.activeImage}}&quot;&gt;&lt;/image&gt; &lt;image wx:else src=&quot;{{items.image}}&quot;&gt;&lt;/image&gt; &lt;text&gt;{{items.name}}&lt;/text&gt; &lt;/view&gt; &lt;/view&gt; &lt;/view&gt; homeé¡µé¢çš„ts Page({ data: { activeIndex:0, tab:[ { name:'å•†å“', image:'../../images/index.png', activeImage:'../../images/index-hover.png', }, { name:'è´­ç‰©è½¦', image:'../../images/cart.png', activeImage:'../../images/cart-hover.png', }, { name:'è®¢å•', image:'../../images/order.png', activeImage:'../../images/order-hover.png', }, { name:'æˆ‘çš„', image:'../../images/my.png', activeImage:'../../images/my-hover.png', } ] }, // åˆ‡æ¢äº‹ä»¶ choose(e:any){ const _this=this; const {activeIndex}=_this.data; if(e.currentTarget.dataset.index==activeIndex){ return }else{ _this.setData({ activeIndex:e.currentTarget.dataset.index }) } }, }) ä¸Šé¢ä»£ç ä¸éš¾ç†è§£ï¼Œç‚¹å‡»ä»¥åæ”¹å˜activeIndexä»è€Œæ§åˆ¶æ¯ä¸ªç»„ä»¶çš„æ¸²æŸ“å’Œé”€æ¯ï¼Œè¿™æ ·ä»˜å‡ºçš„ä»£ä»·è¿˜æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œéœ€è¦æˆ‘ä»¬è¿›ä¸€æ­¥çš„ä¼˜åŒ–ã€‚ å¦‚ä½•å®ç°keep-alive æˆ‘ä»¬çŸ¥é“ï¼Œè¿™é‡Œä¸»è¦æ˜¯é¿å…ç»„ä»¶åå¤åˆ›å»ºå’Œæ¸²æŸ“ï¼Œæœ‰æ•ˆæå‡ç³»ç»Ÿæ€§èƒ½ã€‚ å®ç°æ€è·¯ 1.åœ¨tabæ¯ä¸ªé€‰é¡¹å¢åŠ ä¸¤ä¸ªå€¼ï¼šstatuså’Œshowï¼Œshowæ§åˆ¶ç»„ä»¶æ˜¯å¦éœ€è¦æ¸²æŸ“ï¼Œstatusæ§åˆ¶ç»„ä»¶display 2.åˆå§‹åŒ–æ—¶å€™è®¾ç½®é¦–é¡µçš„statuså’Œshowï¼Œå…¶ä»–éƒ½ä¸ºfalse 3.å½“æˆ‘ä»¬åˆ‡æ¢æ—¶:æŠŠä¸Šä¸€ä¸ªtabé¡µé¢çš„statusæ”¹ä¸ºfalse,ç„¶åæŠŠå½“å‰è¦åˆ‡æ¢é¡µé¢çš„tabæ•°æ®ä¸­çš„statuså’Œshowéƒ½æ”¹ä¸ºtrue,æœ€åå†æ›´æ–°ä¸€ä¸‹activeIndexçš„å€¼ã€‚ wxmlä»£ç ï¼š &lt;!-- é¦–é¡µ --&gt; &lt;view wx:if=&quot;{{tab[0].show}}&quot; hidden=&quot;{{!tab[0].status}}&quot;&gt; &lt;index&gt;&lt;/index&gt; &lt;/view&gt; &lt;!-- è´­ç‰©è½¦ --&gt; &lt;view wx:if=&quot;{{tab[1].show}}&quot; hidden=&quot;{{!tab[1].status}}&quot;&gt; &lt;cart&gt;&lt;/cart&gt; &lt;/view&gt; &lt;!-- è®¢å• --&gt; &lt;view wx:if=&quot;{{tab[2].show}}&quot; hidden=&quot;{{!tab[2].status}}&quot;&gt; &lt;order&gt;&lt;/order&gt; &lt;/view&gt; &lt;!-- æˆ‘çš„ --&gt; &lt;view wx:if=&quot;{{tab[3].show}}&quot; hidden=&quot;{{!tab[3].status}}&quot;&gt; &lt;my&gt;&lt;/my&gt; &lt;/view&gt; tsä»£ç  Page({ data: { activeIndex:0, //å½“å‰é€‰ä¸­çš„index tab:[ { name:'å•†å“', image:'../../images/index.png', activeImage:'../../images/index-hover.png', status:true,//æ§åˆ¶ç»„ä»¶çš„display show:true, //æ§åˆ¶ç»„ä»¶æ˜¯å¦è¢«æ¸²æŸ“ }, { name:'è´­ç‰©è½¦', image:'../../images/cart.png', activeImage:'../../images/cart-hover.png', status:false, show:false, }, { name:'è®¢å•', image:'../../images/order.png', activeImage:'../../images/order-hover.png', status:false, show:false, }, { name:'æˆ‘çš„', image:'../../images/my.png', activeImage:'../../images/my-hover.png', status:false, show:false, } ] }, choose(e:any){ const _this=this; const {activeIndex}=_this.data; //å¦‚æœç‚¹å‡»çš„é€‰é¡¹æ˜¯å½“å‰é€‰ä¸­ï¼Œå°±ä¸æ‰§è¡Œ if(e.currentTarget.dataset.index==activeIndex){ return }else{ //ä¿®æ”¹ä¸Šä¸€ä¸ªtabé¡µé¢çš„status let prev='tab['+activeIndex+'].status', //ä¿®æ”¹å½“å‰é€‰ä¸­å…ƒç´ çš„status status='tab['+e.currentTarget.dataset.index+'].status', //ä¿®æ”¹å½“å‰é€‰ä¸­å…ƒç´ çš„show show='tab['+e.currentTarget.dataset.index+'].show'; _this.setData({ [prev]:false, [status]:true, [show]:true, activeIndex:e.currentTarget.dataset.index,//æ›´æ–°activeIndex }) } }, }) è¿™æ ·åŸºæœ¬å°±å¤§åŠŸå‘Šæˆäº†ï¼Œæ¥çœ‹ä¸€ä¸‹æ•ˆæœï¼š å½“æˆ‘ä»¬ç‚¹å‡»åˆ‡æ¢æ—¶å€™ï¼Œå¦‚æœå½“å‰ç»„ä»¶æ²¡æœ‰æ¸²æŸ“å°±ä¼šè¿›è¡Œæ¸²æŸ“ï¼Œå¦‚æœæ¸²æŸ“è¿‡åè¿›è¡Œåˆ‡æ¢åªæ˜¯æ”¹å˜displayï¼Œå®Œç¾å®ç°äº†éœ€æ±‚ï¼Œå¤§åŠŸå‘Šæˆï¼ å®é™…ä¸šåŠ¡åœºæ™¯åˆ†æ åœ¨å®é™…ä½¿ç”¨ä¸­è¿˜æœ‰ä¸¤ç§ç§æƒ…å†µï¼š æƒ…å†µ1ï¼šæ¯”å¦‚æŸäº›æ•°æ®å¹¶ä¸å¸Œæœ›ä»–é¦–æ¬¡åŠ è½½åå°±æ•°æ®ä¿æŒä¸å˜ï¼Œå½“åˆ‡æ¢é¡µé¢æ—¶å€™å¸Œæœ›æ•°æ®è¿›è¡Œæ›´æ–°ï¼Œæ¯”å¦‚ç¬”è€…åšçš„ç”µå•†å°ç¨‹åºï¼Œåœ¨é¦–é¡µç‚¹å‡»å•†å“åŠ å…¥è´­ç‰©è½¦ï¼Œç„¶ååˆ‡æ¢åˆ°è´­ç‰©è½¦ï¼Œæ¯æ¬¡åˆ‡æ¢æ—¶å€™è‚¯å®šéœ€è¦å†æ¬¡è¿›è¡Œè¯·æ±‚ã€‚ æƒ…å†µ2ï¼šåƒä¸ªäººä¸­å¿ƒè¿™ç§é¡µé¢ï¼Œæ•°æ®åŸºæœ¬è¯·æ±‚ä¸€æ¬¡å°±å¯ä»¥ï¼Œæ²¡å¿…è¦æ¯æ¬¡åˆ‡æ¢è¯·æ±‚æ•°æ®ï¼Œè¿™ç§æˆ‘ä»¬ä¸éœ€è¦è¿›è¡Œæ”¹è¿›ã€‚ æˆ‘ä»¬ç»™ç»„ä»¶ä¼ é€’ä¸€ä¸ªå€¼ï¼šstatus,ç„¶ååœ¨ç»„ä»¶ä¸­ç›‘å¬è¿™ä¸ªå€¼çš„å˜åŒ–ï¼Œå½“å€¼ä¸ºtrueæ—¶å€™ï¼Œå»è¯·æ±‚æ¥å£æ›´æ–°æ•°æ®ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š wxmlä»£ç (åªåˆ—ä¸¾å…³é”®éƒ¨åˆ†)ï¼š &lt;!-- é¦–é¡µ --&gt; &lt;view wx:if=&quot;{{tab[0].show}}&quot; hidden=&quot;{{!tab[0].status}}&quot;&gt; &lt;index change='{{tab[0].status}}'&gt;&lt;/index&gt; &lt;/view&gt; &lt;!-- è´­ç‰©è½¦ --&gt; &lt;view wx:if=&quot;{{tab[1].show}}&quot; hidden=&quot;{{!tab[1].status}}&quot;&gt; &lt;cart change='{{tab[0].status}}'&gt;&lt;/cart&gt; &lt;/view&gt; é¦–é¡µç»„ä»¶/è´­ç‰©è½¦ç»„ä»¶tsä»£ç : Component({ /** * ç»„ä»¶çš„å±æ€§åˆ—è¡¨ */ properties: { change: { type: String,//ç±»å‹ value: ''//é»˜è®¤å€¼ }, }, observers: { //ç›‘å¬æ•°æ®æ”¹å˜è¿›è¡ŒæŸç§æ“ä½œ 'change': function(change) { if(change=='true'){ console.log('æ›´æ–°é¦–é¡µæ•°æ®'+change) } } }, }) æ¥çœ‹ä¸€ä¸‹æœ€ç»ˆæ•ˆæœï¼š ç»“å°¾ ç›®å‰èƒ½æƒ³åˆ°çš„å®ç°æ–¹æ³•å°±æ˜¯è¿™æ ·ï¼Œå¦‚æœä½ æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Œæ¬¢è¿è¯„è®ºåŒºäº¤æµï¼Œæ–‡ç« å¦‚æœ‰é”™è¯¯é—®é¢˜æ¬¢è¿æŒ‡æ­£ã€‚ ğŸ‘‰å…³æ³¨å‰ç«¯365ï¼šåˆ†äº«å‰ç«¯å°æŠ€å·§ä»¥åŠå¼€å‘è¿‡ç¨‹ä¸­çš„ä¸€äº›é—®é¢˜ï¼Œæ¬¢è¿å…³æ³¨+æ”¶è—+ç‚¹èµï¼Œæ„Ÿè°¢æ”¯æŒï½ ","link":"https://lonjinup.github.io/xcx-keep-alive/"},{"title":"å‰ç«¯åŸºç¡€æ€»ç»“","content":"å¤ä¹ ç¬”è®° html ä»€ä¹ˆæ˜¯é‡ç»˜ï¼Ÿä»€ä¹ˆæ˜¯å›æµï¼Ÿ é‡ç»˜: å½“æ¸²æŸ“æ ‘ä¸­çš„ä¸€äº›å…ƒç´ éœ€è¦æ›´æ–°å±æ€§ï¼Œè€Œè¿™äº›å±æ€§åªæ˜¯å½±å“å…ƒç´ çš„å¤–è§‚ã€é£æ ¼ï¼Œè€Œ ä¸ä¼šå½±å“å¸ƒå±€çš„æ“ä½œï¼Œæ¯”å¦‚ background colorï¼Œæˆ‘ä»¬å°†è¿™æ ·çš„æ“ä½œç§°ä¸ºé‡ç»˜ã€‚ å›æµ:å½“æ¸²æŸ“æ ‘ä¸­çš„ä¸€éƒ¨åˆ†(æˆ–å…¨éƒ¨)å› ä¸ºå…ƒç´ çš„è§„æ¨¡å°ºå¯¸ã€å¸ƒå±€ã€éšè—ç­‰æ”¹å˜è€Œéœ€è¦é‡ æ–°æ„å»ºçš„æ“ä½œï¼Œä¼šå½±å“åˆ°å¸ƒå±€çš„æ“ä½œï¼Œè¿™æ ·çš„æ“ä½œæˆ‘ä»¬ç§°ä¸ºå›æµã€‚ H5æœ‰å“ªäº›æ–°ç‰¹æ€§ ç»˜ç”» canvas; ç”¨äºåª’ä»‹å›æ”¾çš„ video å’Œ audio å…ƒç´  æœ¬åœ°ç¦»çº¿å­˜å‚¨ localStorage é•¿æœŸå­˜å‚¨æ•°æ®ï¼Œæµè§ˆå™¨å…³é—­åæ•°æ®ä¸ä¸¢å¤±; sessionStorage çš„æ•°æ®åœ¨æµè§ˆå™¨å…³é—­åè‡ªåŠ¨åˆ é™¤ è¯­æ„åŒ–æ›´å¥½çš„å†…å®¹å…ƒç´ ï¼Œæ¯”å¦‚ articleã€footerã€headerã€navã€section; è¡¨å•æ§ä»¶ï¼Œcalendarã€dateã€timeã€emailã€urlã€search; æ–°çš„æŠ€æœ¯ webworker, websocket; æ–°çš„æ–‡æ¡£å±æ€§ document.visibilityState css è¯´ä¸€ä¸‹å¸¸è§çš„ç›’å­æ¨¡å‹ï¼Œå¦‚ä½•åˆ‡æ¢ä¸¤ç§ç›’å­æ¨¡å‹ï¼Ÿ æ ‡å‡†(W3C)ç›’å­æ¨¡å‹ï¼šå±æ€§ widthï¼Œheight åªåŒ…å«å†…å®¹ contentï¼Œä¸åŒ…å« border å’Œ padding IEç›’å­æ¨¡å‹ï¼šå±æ€§ widthï¼Œheight åŒ…å« contentã€border å’Œ paddingï¼ŒæŒ‡çš„æ˜¯ content +padding+borderã€‚ box-sizing:content-box; box-sizing:border-box; å¦‚ä½•è§£å†³marginå¡Œé™·/marginé‡å ï¼Ÿ æœ‰æ—¶å½“æˆ‘ä»¬è®¾ç½®å­å…ƒç´ çš„margin-topï¼Œä½†æ˜¯å´å‘ç°å­å…ƒç´ æ²¡æœ‰å‡ºç°ä¸Šå¤–è¾¹è·çš„æ•ˆæœï¼Œåè€Œæ˜¯çˆ¶å…ƒç´ å‡ºç°äº†ä¸Šå¤–è¾¹è·çš„æ•ˆæœã€‚ç¬¬ä¸€ä¸ªå­å…ƒç´ è®¾ç½®margin-topçˆ¶å…ƒç´ ä¼šè·Ÿç€ç§»åŠ¨ï¼Œè¿™å°±æ˜¯marginå¡Œé™·ï¼Œè§£å†³æ–¹æ³•ï¼š ä¸ºçˆ¶å…ƒç´ è®¾ç½®paddingã€‚---è¦è®¾ç½®paddingï¼Œè®¾ç½®marginä¸è¡Œ ä¸ºçˆ¶å…ƒç´ è®¾ç½®borderã€‚---è®¾ç½®borderä¸º0pxä¸è¡Œï¼Œborderè¦æœ‰å€¼ ä¸ºçˆ¶å…ƒç´ è®¾ç½® overflow: hidden çˆ¶çº§æˆ–å­å…ƒç´ ä½¿ç”¨æµ®åŠ¨æˆ–è€…ç»å¯¹å®šä½absolute ä»€ä¹ˆæ˜¯BFCï¼ŸBFCæ˜¯å¦‚ä½•è§¦å‘çš„ï¼Ÿ å®¹å™¨é‡Œé¢çš„å…ƒç´ ä¸ä¼šåœ¨å¸ƒå±€ä¸Šå½±å“åˆ°å¤–é¢çš„å…ƒç´  åªè¦å…ƒç´ æ»¡è¶³ä¸‹é¢ä»»ä¸€æ¡ä»¶å³å¯è§¦å‘BFCç‰¹æ€§ body æ ¹å…ƒç´  æµ®åŠ¨å…ƒç´ ï¼šfloat é™¤ none ä»¥å¤–çš„å€¼ ç»å¯¹å®šä½å…ƒç´ ï¼šposition (absoluteã€fixed) display ä¸º inline-blockã€table-cellsã€flex overflow é™¤äº† visible ä»¥å¤–çš„å€¼ (hiddenã€autoã€scroll)ã€æœ€å¸¸ç”¨ã€‘ å¦‚ä½•å®ç°å‚ç›´æ°´å¹³å±…ä¸­ flexå¸ƒå±€ .box{ display: flex; align-items: center; justify-content: center; } å®šä½ .box{ position: absolute; top: 0; left: 0; right: 0; bottom: 0; margin: auto; } JavaScript æ•°æ®ç±»å‹éƒ½æœ‰å“ªå‡ ç§ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ æ•°æ®ç±»å‹åˆ†ä¸ºåŸå§‹æ•°æ®ç±»å‹å’Œå¯¹è±¡æ•°æ®ç±»å‹ã€‚ åŸå§‹æ•°æ®ç±»å‹ï¼šnullã€Booleanã€Numberã€Stringã€undefinedã€Symbolã€BigInt å¯¹è±¡æ•°æ®ç±»å‹ï¼šObject åŒºåˆ«ï¼šåŸå§‹æ•°æ®ç±»å‹å­˜å‚¨åœ¨æ ˆåŒºï¼Œå ç”¨ç©ºé—´è¾ƒå°ï¼Œå­˜å‚¨çš„æ˜¯å€¼ï¼›å¯¹è±¡ç±»å‹åŒæ—¶å­˜å‚¨åœ¨æ ˆåŒºå’Œå †åŒºï¼Œä¸”å¤§å°ä¸å›ºå®šã€‚ å¦‚ä½•åˆ¤æ–­æ•°æ®ç±»å‹ typeOf:å¯ä»¥åˆ¤æ–­åŸºæœ¬æ•°æ®ç±»å‹ï¼Œé™¤äº†nullä»¥å¤–ï¼Œå› ä¸ºnullè®¤ä¸ºæ˜¯ç©ºå¯¹è±¡çš„å¼•ç”¨ã€‚ instanceof:å¯ä»¥åˆ¤æ–­å¯¹è±¡ç±»å‹ï¼Œå†…éƒ¨æœºåˆ¶æ˜¯é€šè¿‡åŸå‹é“¾æ¥è¿›è¡Œåˆ¤æ–­çš„ã€‚ constructor:åˆ©ç”¨åŸå‹ä¸Šçš„prototype.constructoræŒ‡å‘å®ä¾‹çš„æ„é€ å‡½æ•°æ¥è¿›è¡Œåˆ¤æ–­ã€‚å¦‚æœä¸­é€”æ”¹å˜ç±»å‹ï¼Œåˆ™åˆ¤æ–­ä¸å‡†ç¡®ã€‚ Object.prototype.toString.call:ä½¿ç”¨Objectå¯¹è±¡çš„åŸå‹æ–¹æ³•toString,è¿”å›å€¼æ˜¯[object ç±»å‹]å­—ç¬¦ä¸²ã€‚ è¯´ä¸€ä¸‹jsç±»å‹è½¬æ¢è§„åˆ™ è½¬æ¢ä¸ºå¸ƒå°”å€¼ï¼šé™¤äº†undefinedã€nullã€falseã€NaNã€''ã€0ã€-0,å‰©ä¸‹çš„éƒ½ä¸ºtrue è½¬åŒ–ä¸ºæ•°å­—ï¼š null,è¿”å›0 undefinedï¼Œè¿”å›NaN å¸ƒå°”å€¼ï¼Œ true è½¬æ¢ä¸º1ï¼Œ false è½¬æ¢ä¸º0 å­—ç¬¦ä¸²ï¼š å¦‚æœå­—ç¬¦ä¸²åŒ…å«æ•°å€¼å­—ç¬¦ï¼ŒåŒ…æ‹¬æ•°å€¼å­—ç¬¦å‰é¢å¸¦åŠ ã€å‡å·çš„æƒ…å†µï¼Œåˆ™è½¬æ¢ä¸ºä¸€ä¸ªåè¿›åˆ¶æ•°å€¼ å¦‚æœå­—ç¬¦ä¸²åŒ…å«æœ‰æ•ˆçš„æµ®ç‚¹å€¼æ ¼å¼å¦‚ &quot;1.1&quot; ï¼Œåˆ™ä¼šè½¬ æ¢ä¸ºç›¸åº”çš„æµ®ç‚¹å€¼(åŒæ ·ï¼Œå¿½ç•¥å‰é¢çš„é›¶) å¦‚æœå­—ç¬¦ä¸²åŒ…å«æœ‰æ•ˆçš„åå…­è¿›åˆ¶æ ¼å¼å¦‚ &quot;0xf&quot; ï¼Œåˆ™ä¼š è½¬æ¢ä¸ºä¸è¯¥åå…­è¿›åˆ¶å€¼å¯¹åº”çš„åè¿›åˆ¶æ•´æ•°å€¼ã€‚ å¦‚æœæ˜¯ç©ºå­—ç¬¦ä¸²(ä¸åŒ…å«å­—ç¬¦)ï¼Œåˆ™è¿”å›0ã€‚ å¦‚æœå­—ç¬¦ä¸²åŒ…å«é™¤ä¸Šè¿°æƒ…å†µä¹‹å¤–çš„å…¶ä»–å­—ç¬¦ï¼Œåˆ™è¿”å›NaNã€‚ å¦‚æœæ˜¯å¯¹è±¡ï¼Œè°ƒç”¨valueof()æ–¹æ³•ï¼Œå¹¶æŒ‰ç…§å­—ç¬¦ä¸²çš„è§„åˆ™è½¬æ¢è¿”å›çš„å€¼ã€‚å¦‚æœè½¬æ¢ç»“æœæ˜¯NaNï¼Œåˆ™è°ƒç”¨toString()æ–¹æ³•ï¼Œå†æŒ‰ç…§è½¬æ¢å­—ç¬¦ä¸²çš„è§„åˆ™è½¬æ¢ã€‚ è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œç›´æ¥è½¬åŒ– å¦‚ä½•æ­£ç¡®åˆ¤æ–­thisï¼Ÿç®­å¤´å‡½æ•°çš„thisæ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•æ”¹å˜thisæŒ‡å‘ åœ¨æµè§ˆå™¨ä¸­ï¼Œå…¨å±€ç¯å¢ƒä¸‹ï¼ŒthisæŒ‡å‘windowå¯¹è±¡ã€‚ åœ¨å‡½æ•°ä¸­ï¼ŒthisæŒ‡å‘æœ€åè°ƒç”¨å®ƒçš„é‚£ä¸ªå¯¹è±¡ã€‚ ç®­å¤´å‡½æ•°çš„thiså§‹ç»ˆæŒ‡å‘å…¶åŒ…è£¹ç®­å¤´å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‡½æ•°ã€‚ æœ‰newæ“ä½œç¬¦ï¼ŒæŒ‡å‘newå‡ºæ¥çš„é‚£ä¸ªå¯¹è±¡ã€‚ callã€applyã€bindæŒ‡å‘ç»‘å®šçš„æ–°å¯¹è±¡ä¸Šã€‚ == å’Œ === æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ ==å¦‚æœç±»å‹ä¸åŒï¼Œä¼šè¿›è¡Œéšå¼è½¬åŒ–ï¼›å†è¿›è¡Œæ¯”è¾ƒã€‚ ===ç›´æ¥åˆ¤æ–­ç±»å‹å’Œå€¼æ˜¯å¦ç›¸ç­‰ã€‚ ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿ å‡½æ•°Aå†…éƒ¨æœ‰å‡½æ•°Bï¼Œå‡½æ•°Bè®¿é—®å‡½æ•°Açš„å˜é‡ï¼Œå‡½æ•°Bå°±æ˜¯ä¸€ä¸ªé—­åŒ…ã€‚é—­åŒ…å°±æ˜¯ä¸ºäº†æˆ‘ä»¬èƒ½å¤Ÿé—´æ¥è®¿é—®å†…éƒ¨å˜é‡,é¿å…è¢«åƒåœ¾æœºåˆ¶å›æ”¶ã€‚ function a(){ let a=0; function b(){ a++; console.log(a) } return b } let n=a(); n(); //1 n(); //2 ä»€ä¹ˆæ˜¯æµ…æ‹·è´ï¼Ÿå¦‚ä½•å®ç°æµ…æ‹·è´ï¼Ÿä»€ä¹ˆæ˜¯æ·±æ‹·è´ï¼Ÿå¦‚ä½•å®ç°æ·±æ‹·è´ï¼Ÿ æµ…æ‹·è´ï¼šæ‹·è´æ‰€æœ‰çš„å€¼åˆ°æ–°å¯¹è±¡ä¸­ï¼Œå¦‚æœå±æ€§å€¼æ˜¯å¯¹è±¡ï¼Œåˆ™æ‹·è´å¯¹è±¡çš„åœ°å€ã€‚ //é€šè¿‡Object.assign let a={ name:'tom', age:18 }; let b=Object.assign({},a) console.log(b); //é€šè¿‡å±•å¼€è¿ç®—ç¬¦ let c={ name:'lonjin', age:18 }; let d={...c} console.log(d) æ·±æ‹·è´ï¼šæ‹·è´æ‰€æœ‰çš„å€¼åˆ°æ–°å¯¹è±¡ä¸­ï¼Œå¦‚æœå±æ€§å€¼æ˜¯å¯¹è±¡ï¼Œåˆ™æ‹·è´å¯¹è±¡çš„åœ°å€ã€‚ // JSON.parse(JSON.stringify(object))å®ç° /* ç¼ºç‚¹ï¼šä¼šå¿½ç•¥ undefined ä¼šå¿½ç•¥ symbol ä¸èƒ½åºåˆ—åŒ–å‡½æ•° ä¸èƒ½è§£å†³å¾ªç¯å¼•ç”¨çš„å¯¹è±¡ */ let a={ name:'tom', fnc:{ age:18 } } let b=JSON.parse(JSON.stringify(a)) a.fnc.age=19 console.log(b.fnc) å¦‚ä½•ç†è§£åŸå‹ï¼Ÿå¦‚ä½•ç†è§£åŸå‹é“¾ï¼Ÿ ä¸¾ä¸ªä¾‹å­ï¼šå½“æˆ‘ä»¬å†™ä¸€ä¸ªæ„é€ å‡½æ•°æ—¶å€™ï¼Œæ„é€ å‡½æ•°èº«ä¸Šä¼šæœ‰ä¸€ä¸ªprototypeå±æ€§ï¼Œè¿™å°±æ˜¯è¯¥æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ï¼›å®ƒå¯ä»¥å­˜ä¸€äº›è¯¥æ„é€ å‡½æ•°å…¬å‘Šçš„å±æ€§å’Œæ–¹æ³•ï¼ŒåŒæ—¶è¯¥å±æ€§èº«ä¸Šæœ‰constructorå±æ€§ï¼Œå®ƒæŒ‡å‘åˆ›å»ºå®ƒçš„æ„é€ å‡½æ•°ã€‚ å½“æˆ‘ä»¬è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„æŸä¸ªå±æ€§æ—¶å€™ï¼Œå¦‚æœåœ¨å¯¹è±¡å†…éƒ¨æ²¡æœ‰æ‰¾åˆ°ï¼Œå°±ä¼šé€šè¿‡**proto**æ²¿ç€å‘ä¸ŠæŸ¥æ‰¾ï¼Œè¿™å°±æ˜¯åŸå‹é“¾ã€‚ varã€let åŠ const åŒºåˆ« varå£°æ˜çš„å˜é‡ä¼šå˜é‡æå‡ letã€constå£°æ˜çš„å˜é‡ä¸ä¼šè¿›è¡Œå˜é‡æå‡ï¼Œä¸”æœ‰å—çº§ä½œç”¨åŸŸ constå£°æ˜æ—¶å¿…é¡»èµ‹å€¼ å¦‚ä½•å®ç°ç»§æ‰¿ ES5ç»„åˆç»§æ‰¿æ³•ï¼š function Parent(){ this.name='tom'; }; Parent.prototype.say=function(){ console.log(this.name) }; function Child(){ Parent.call(this) this.age=18; }; Child.prototype=Object.create(Parent.prototype); Child.prototype.constructor=Child; ES6ä½¿ç”¨class: class Parent{ constructor(name,age){ this.name=name; this.age=age; } } class Child extends Parent{ constructor(name,age,say){ super(name,age); this.say=say; } } let c=new Child('bob',17,'say hi') Proxy å¯ä»¥å®ç°ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ Proxy å¯ä»¥ç†è§£æˆï¼Œåœ¨ç›®æ ‡å¯¹è±¡ä¹‹å‰æ¶è®¾ä¸€å±‚â€œæ‹¦æˆªâ€ï¼Œå¤–ç•Œå¯¹è¯¥å¯¹è±¡çš„è®¿é—®ï¼Œéƒ½å¿…é¡»å…ˆé€šè¿‡è¿™å±‚æ‹¦æˆªï¼Œå› æ­¤æä¾›äº†ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥å¯¹å¤–ç•Œçš„è®¿é—®è¿›è¡Œè¿‡æ»¤å’Œæ”¹å†™ã€‚vue3ä¸­å°±æ˜¯é€šè¿‡Proxyå–ä»£Object.definePropertyæ¥å®ç°æ•°æ®å“åº”å¼ã€‚ forEachã€mapã€filterã€findã€reduceã€everyã€someéƒ½é€‚ç”¨äºå“ªç§åœºæ™¯ï¼Ÿ forEach:è¿›è¡Œéå†æ“ä½œï¼Œå¯åœ¨å½“å‰éå†å¯¹è±¡èº«ä¸Šç›´æ¥æ“ä½œï¼Œä¸ä¼šäº§ç”Ÿæ–°æ•°ç»„ã€‚ map:ç”¨äºéå†æ“ä½œï¼Œä¸”éœ€è¦è¿”å›å€¼ï¼Œå¦‚æœæ²¡æœ‰è¿”å›å€¼ï¼Œåˆ™ä¸ºundefined,mapä¼šè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚ filter:è¿›è¡Œä¸€äº›ç­›é€‰è¿‡æ»¤ï¼Œreturnç¬¦åˆæ¡ä»¶çš„å€¼äº§ç”Ÿæ–°æ•°ç»„ã€‚ find:æ ¹æ®æŒ‡å®šçš„æ¡ä»¶æ‰¾åˆ°æ•°ç»„ä¸­ç¬¦åˆæ¡ä»¶çš„å€¼ã€‚ reduce:æå–æ•°ç»„å¯¹è±¡ä¸­æŸä¸ªå€¼ï½œæ•°ç»„æ±‚å’Œ Promise çš„ç‰¹ç‚¹æ˜¯ä»€ä¹ˆï¼Œåˆ†åˆ«æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿä»€ä¹ˆæ˜¯ Promise é“¾ï¼ŸPromise æ„é€ å‡½æ•°æ‰§è¡Œå’Œ then å‡½æ•°æ‰§è¡Œæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ Promiseæœ¬è¯‘å°±æ˜¯æ‰¿è¯ºçš„æ„æ€ï¼Œè¿™ä¸ªæ‰¿è¯ºä¼šåœ¨æœªæ¥æœ‰ä¸€ä¸ªç¡®åˆ‡çš„ç­”å¤ï¼Œå¹¶ä¸”è¯¥æ‰¿è¯ºæœ‰ä¸‰ç§çŠ¶æ€ï¼š è¿›è¡Œä¸­ï¼špending å®Œæˆäº†ï¼šresolved å¤±è´¥äº†ï¼šrejected æ‰¿è¯ºçŠ¶æ€ä¸€æ—¦æ”¹å˜å°±ä¸å¯æ›´æ”¹ï¼Œä¸”åœ¨æ„é€ Promiseæ—¶å€™ï¼Œæ„é€ å‡½æ•°å†…éƒ¨ä»£ç æ˜¯ç«‹å³æ‰§è¡Œçš„ã€‚ new Promise((resolve, reject) =&gt; { console.log('Promise') }) console.log('finifsh') //Promise -&gt; finifsh Promiseå¯ä»¥è¿›è¡Œé“¾å¼è°ƒç”¨ï¼Œæ¯æ¬¡then()éƒ½æ˜¯ä¸€ä¸ªæ–°Promiseã€‚å¦‚æœåœ¨Promiseä¸­ä½¿ç”¨äº†return,ä¹Ÿä¼šè¢«è½¬åŒ–ä¸ºPromise.resolve()ã€‚ async åŠ await çš„ç‰¹ç‚¹ï¼Œå®ƒä»¬çš„ä¼˜ç‚¹å’Œç¼ºç‚¹åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿawait åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ åœ¨æ™®é€šå‡½æ•°å‰é¢åŠ ä¸Šasync,è¯¥å‡½æ•°è¿”å›å°±æˆäº†ä¸€ä¸ªPromise,å¦‚æœè¦ä½¿ç”¨å…¶è¿”å›å€¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨then(): async function fn(){ console.log('fn'); return 'i im fn' }; fn().then((val)=&gt;{ console.log(val) }) //fn ---&gt; i im fn awaitåªèƒ½åœ¨asyncå‡½æ•°å†…ä½¿ç”¨ è°ˆä¸€è°ˆjsçš„æ‰§è¡Œæœºåˆ¶ jsæ˜¯ä¸€ç§å•çº¿ç¨‹ã€å¼‚æ­¥ã€éé˜»å¡ã€è§£é‡Šå‹è„šæœ¬è¯­è¨€ï¼Œå®ƒæœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯å•çº¿ç¨‹ã€‚åœ¨jsæ‰§è¡Œæ—¶å€™ï¼Œä»ä¸Šå¾€ä¸‹ï¼Œå…ˆå§åŒæ­¥ä»»åŠ¡æ”¾åˆ°æ‰§è¡Œæ ˆä¸­æ‰§è¡Œï¼Œå½“é‡åˆ°å¼‚æ­¥ä»»åŠ¡æ—¶å€™ï¼Œä¼šæŠŠå¼‚æ­¥ä»»åŠ¡æ”¾åˆ°å¼‚æ­¥é˜Ÿåˆ—ï¼Œå½“æ‰§è¡Œæ ˆä¸ºç©ºçš„æ—¶å€™ï¼Œä¼šä»å¼‚æ­¥é˜Ÿåˆ—ä¸­å–å‡ºä¸€æ¡å‹å…¥æ‰§è¡Œæ ˆï¼Œè¿™æ ·ä¸€ç›´å¾ªç¯ï¼Œè¿™å°±æ˜¯Event Loopã€‚å¼‚æ­¥ä»»åŠ¡åˆåˆ†ä¸ºå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ï¼Œå¾®ä»»åŠ¡ä¼˜å…ˆäºå®ä»»åŠ¡ã€‚ newæ“ä½œç¬¦éƒ½å¹²äº†ä»€ä¹ˆï¼Ÿ åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ è¿™ä¸ªæ–°å¯¹è±¡å†…éƒ¨çš„[[prototype]]ç‰¹æ€§è¢«èµ‹å€¼ä¸ºæ„é€ å‡½æ•°çš„prototypeå±æ€§ æ„é€ å‡½æ•°å†…éƒ¨çš„thisè¢«èµ‹å€¼ä¸ºè¿™ä¸ªæ–°å¯¹è±¡(å³thisæŒ‡å‘æ–°å¯¹è±¡) å¦‚æœæ„é€ å‡½æ•°è¿”å›éç©º å¯¹è±¡ï¼Œåˆ™è¿”å›è¯¥å¯¹è±¡ï¼›å¦åˆ™ï¼Œè¿”å›åˆšåˆ›å»ºçš„æ–°å¯¹è±¡ function _new(fn,...args){ const newObj = Object.create(fn.prototype); const value = fn.apply(newObj,args); return value instanceof Object ? value : newObj; } ä¸ºä»€ä¹ˆ 0.1 + 0.2 != 0.3ï¼Ÿå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ å› ä¸ºç²¾åº¦é—®é¢˜å¯¼è‡´çš„ï¼Œè§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š parseFloat((0.1 + 0.2).toFixed(10)) === 0.3 // true è¯´ä¸€è¯´æµè§ˆå™¨åƒåœ¾å›æ”¶æœºåˆ¶ æµè§ˆå™¨åƒåœ¾å›æ”¶æœºåˆ¶æœ‰å¥½å‡ ç§æ–¹æ¡ˆï¼Œä¹‹å‰å¤§éƒ¨åˆ†æµè§ˆå™¨é‡‡ç”¨æ ‡è®°æ¸…ç†ï¼Œè¿˜æœ‰ä¸€éƒ¨åˆ†ä½¿ç”¨å¼•ç”¨è®¡æ•°ã€‚V8æ–°ç”Ÿä»£ç®—æ³•æŠŠå†…å†…å­˜ç©ºé—´åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šFromå’Œtoç©ºé—´ï¼Œè¿™ä¸¤ä¸ªç©ºé—´å¿…å®šæœ‰ä¸€ä¸ªæ˜¯ç©ºçš„ï¼Œå½“ä¸€ä¸ªç©ºé—´æ»¡äº†ä»¥åï¼Œå°±ä¼šæ£€æŸ¥å½“å‰ç©ºé—´å­˜æ´»çš„å¯¹è±¡æ”¾åˆ°å¦å¤–ä¸€ä¸ªç©ºé—´ã€‚ ä»€ä¹ˆæ˜¯é˜²æŠ–ï¼Ÿä»€ä¹ˆæ˜¯èŠ‚æµï¼Ÿ é˜²æŠ–ï¼šåœ¨äº‹ä»¶è¢«è§¦å‘nç§’åå†æ‰§è¡Œå›è°ƒï¼Œå¦‚æœåœ¨è¿™nç§’å†…åˆè¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡æ—¶ã€‚ function debounce(fn,wait){ let timer=null; return function(){ clearTimeout(timer); timer=setTimeout(function(){ fn.apply(this) },wait) } } document.getElementById('btn').onclick=debounce(function(){console.log('è§¦å‘'+Date.now());},1000) èŠ‚æµï¼šè§„å®šåœ¨ä¸€ä¸ªå•ä½æ—¶é—´å†…ï¼Œåªèƒ½è§¦å‘ä¸€æ¬¡å‡½æ•°ã€‚å¦‚æœè¿™ä¸ªå•ä½æ—¶é—´å†…è§¦å‘å¤šæ¬¡å‡½æ•°ï¼Œåªæœ‰ä¸€æ¬¡ç”Ÿæ•ˆã€‚ function throttle(fn,wait){ // è®°å½•ä¸Šä¸€æ¬¡å‡½æ•°æ‰§è¡Œçš„æ—¶é—´ var lastTime=0; return function(){ // ç°åœ¨æ—¶é—´ var nowTime=new Date(); if(nowTime-lastTime&gt;wait){ fn.call(this); lastTime=nowTime; } } }; document.onscroll=throttle(function(){console.log('è§¦å‘'+Date.now());},1000) Vue è°ˆä¸€è°ˆVueçš„ç”Ÿå‘½å‘¨æœŸï¼Œåœ¨å“ªä¸ªå‘¨æœŸå¯ä»¥è·å–DOMï¼Ÿå¹³æ—¶è·å–æ•°æ®å¯ä»¥åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸæ‰§è¡Œï¼Ÿ ç®€å•æ¥è¯´ï¼ŒVueçš„ç”Ÿå‘½å‘¨æœŸå¯ä»¥å½’ä¸º3ç±»ï¼Œåˆ›å»ºé˜¶æ®µã€è¿è¡Œé˜¶æ®µã€é”€æ¯é˜¶æ®µã€‚ åˆ›å»ºé˜¶æ®µ beforeCreateï¼šå®ä¾‹åˆšåœ¨å†…å­˜ä¸­åˆ›å»ºå‡ºæ¥ï¼Œè¿˜æ²¡æœ‰åˆå§‹åŒ– dataå’Œ methodsï¼ŒåªåŒ…å«ä¸€äº›è‡ªå¸¦é¢ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚ createdï¼šå®ä¾‹å·²ç»åœ¨å†…å­˜ä¸­åˆ›å»ºå®Œæˆï¼Œæ­¤æ—¶dataå’Œmethodså·²ç»åˆ›å»ºå®Œæˆã€‚ beforeMountï¼šæ­¤æ—¶å·²ç»ç¼–è¯‘æ¨¡ç‰ˆï¼Œä½†æ²¡æœ‰æ¸²æŸ“åˆ°é¡µé¢ä¸­ã€‚ mountedï¼šæ¸²æŸ“æ¨¡ç‰ˆï¼Œåˆ›å»ºé˜¶æ®µåˆ°æ­¤ç»“æŸã€‚è¿™æ—¶å€™å¯ä»¥æ“ä½œdomã€‚ è¿è¡Œé˜¶æ®µ beforeUpdateï¼šç•Œé¢ä¸­çš„æ•°æ®è¿˜æ˜¯æ—§çš„ï¼Œä½†æ˜¯dataæ•°æ®å·²ç»æ›´æ–°ï¼Œé¡µé¢ä¸­å’Œdataè¿˜æ²¡æœ‰åŒæ­¥ã€‚ä¿®æ”¹dataæ•°æ®å°±ä¼šè§¦å‘è¿™ä¸ªå‡½æ•°ã€‚ updatedï¼šé¡µé¢é‡æ–°æ¸²æŸ“å®Œæ¯•ï¼Œé¡µé¢ä¸­çš„æ•°æ®å’Œdataä¿æŒä¸€è‡´ã€‚ä¿®æ”¹dataæ•°æ®å°±ä¼šè§¦å‘è¿™ä¸ªå‡½æ•°ã€‚ é”€æ¯é˜¶æ®µ beforeDestroyï¼šæ‰§è¡Œè¯¥æ–¹æ³•çš„æ—¶å€™ï¼ŒVueçš„ç”Ÿå‘½å‘¨æœŸå·²ç»è¿›å…¥é”€æ¯é˜¶æ®µï¼Œä½†æ˜¯å®ä¾‹ä¸Šçš„å„ç§æ•°æ®è¿˜å‡ºäºå¯ç”¨çŠ¶æ€ã€‚ destroyedï¼šç»„ä»¶å·²ç»å…¨éƒ¨é”€æ¯ï¼ŒVueå®ä¾‹å·²ç»è¢«é”€æ¯ï¼ŒVueä¸­çš„ä»»ä½•æ•°æ®éƒ½ä¸å¯ç”¨ keep-alive activitedï¼škeep-alive ä¸“å±ï¼Œç»„ä»¶è¢«æ¿€æ´»æ—¶è°ƒç”¨ deactivatedï¼škeep-alive ä¸“å±ï¼Œç»„ä»¶è¢«é”€æ¯æ—¶è°ƒç”¨ ç»„ä»¶å¦‚ä½•è¿›è¡Œé€šä¿¡ï¼Ÿ çˆ¶å­ç»„ä»¶ props/$emit:çˆ¶ç»„ä»¶é€šè¿‡propsæ¥ç»™å­ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œå­ç»„ä»¶å¯ä»¥é€šè¿‡$emitå‘é€äº‹ä»¶ç»™çˆ¶ç»„ä»¶ã€‚ä½†è¿™ç§çˆ¶å­ç›´æ¥ä¼ é€’æ•°æ®æ˜¯å•å‘æ•°æ®æµ $$parent/$children:é€šè¿‡$parentæˆ–$childrenå°±å¯ä»¥è®¿é—®ç»„ä»¶çš„å®ä¾‹ ref/refs:å¦‚æœåœ¨æ™®é€šçš„ DOM å…ƒç´ ä¸Šä½¿ç”¨ï¼Œå¼•ç”¨æŒ‡å‘çš„å°±æ˜¯ DOM å…ƒç´ ï¼›å¦‚æœç”¨åœ¨å­ç»„ä»¶ä¸Šï¼Œå¼•ç”¨å°±æŒ‡å‘ç»„ä»¶å®ä¾‹ï¼Œå¯ä»¥é€šè¿‡å®ä¾‹ç›´æ¥è°ƒç”¨ç»„ä»¶çš„æ–¹æ³•æˆ–è®¿é—®æ•°æ® å…„å¼Ÿç»„ä»¶ this.$parent.$children:åœ¨$children ä¸­å¯ä»¥é€šè¿‡ç»„ä»¶nameæŸ¥è¯¢åˆ°éœ€è¦çš„ç»„ä»¶å®ä¾‹ã€‚ ä»»æ„ç»„ä»¶ Vuex Event Bus:eventBusåˆç§°ä¸ºäº‹ä»¶æ€»çº¿ï¼Œåœ¨vueä¸­å¯ä»¥ä½¿ç”¨å®ƒæ¥ä½œä¸ºæ²Ÿé€šæ¡¥æ¢çš„æ¦‚å¿µ, å°±åƒæ˜¯æ‰€æœ‰ç»„ä»¶å…±ç”¨ç›¸åŒçš„äº‹ä»¶ä¸­å¿ƒï¼Œå¯ä»¥å‘è¯¥ä¸­å¿ƒæ³¨å†Œå‘é€äº‹ä»¶æˆ–æ¥æ”¶äº‹ä»¶ï¼Œ æ‰€ä»¥ç»„ä»¶éƒ½å¯ä»¥é€šçŸ¥å…¶ä»–ç»„ä»¶ã€‚eventBusä¹Ÿæœ‰ä¸æ–¹ä¾¿ä¹‹å¤„, å½“é¡¹ç›®è¾ƒå¤§,å°±å®¹æ˜“é€ æˆéš¾ä»¥ç»´æŠ¤çš„ç¾éš¾ã€‚ vue2åŒå‘ç»‘å®šçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿvue3å’Œvue2åŒå‘ç»‘å®šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ vue2æ˜¯é‡‡ç”¨æ•°æ®åŠ«æŒç»“åˆå‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼çš„æ–¹å¼ï¼Œé€šè¿‡ Object.defineProperty() æ¥åŠ«æŒå„ä¸ªå±æ€§çš„setterï¼Œgetterï¼Œåœ¨æ•°æ®å˜åŠ¨æ—¶å‘å¸ƒæ¶ˆæ¯ç»™è®¢é˜…è€…ï¼Œè§¦å‘ç›¸åº”çš„ç›‘å¬å›è°ƒã€‚Object.defineProperty()åªèƒ½å¯¹å±æ€§è¿›è¡Œæ•°æ®åŠ«æŒï¼Œä¸èƒ½å¯¹æ•´ä¸ªå¯¹è±¡è¿›è¡ŒåŠ«æŒï¼ŒåŒç†æ— æ³•å¯¹æ•°ç»„è¿›è¡ŒåŠ«æŒã€‚vue3ä¸­åˆ™é‡‡ç”¨Proxyï¼Œå®ƒå¯ä»¥ç›‘å¬åˆ°æ•°ç»„å†…çš„æ•°æ®å˜åŒ–ã€‚ ä¸ºä»€ä¹ˆ Vue ç»„ä»¶ä¸­ data å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿ å¦‚æœ data æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå½“å¤ç”¨ç»„ä»¶æ—¶ï¼Œå› ä¸º data éƒ½ä¼šæŒ‡å‘åŒä¸€ä¸ªå¼•ç”¨ç±»å‹åœ°å€ï¼Œå…¶ä¸­ä¸€ä¸ªç»„ä»¶çš„ data ä¸€æ—¦å‘ç”Ÿä¿®æ”¹ï¼Œåˆ™å…¶ä»–é‡ç”¨çš„ç»„ä»¶ä¸­çš„ data ä¹Ÿä¼šè¢«ä¸€å¹¶ä¿®æ”¹ã€‚ å¦‚æœ data æ˜¯ä¸€ä¸ªè¿”å›å¯¹è±¡çš„å‡½æ•°ï¼Œå› ä¸ºæ¯æ¬¡é‡ç”¨ç»„ä»¶æ—¶è¿”å›çš„éƒ½æ˜¯ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¼•ç”¨åœ°å€ä¸åŒï¼Œä¾¿ä¸ä¼šå‡ºç°å¦‚ä¸Šé—®é¢˜ã€‚ Vue ä¸­ computed å’Œ watch æœ‰ä»€ä¹ˆåŒºåˆ«? è®¡ç®—å±æ€§computedï¼š ï¼ˆ1ï¼‰æ”¯æŒç¼“å­˜ï¼Œåªæœ‰ä¾èµ–æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šé‡æ–°è¿›è¡Œè®¡ç®—å‡½æ•°ï¼› ï¼ˆ2ï¼‰è®¡ç®—å±æ€§å†…ä¸æ”¯æŒå¼‚æ­¥æ“ä½œï¼› ï¼ˆ3ï¼‰è®¡ç®—å±æ€§çš„å‡½æ•°ä¸­éƒ½æœ‰ä¸€ä¸ª get(é»˜è®¤å…·æœ‰ï¼Œè·å–è®¡ç®—å±æ€§)å’Œ set(æ‰‹åŠ¨æ·»åŠ ï¼Œè®¾ç½®è®¡ç®—å±æ€§)æ–¹æ³•ï¼› ï¼ˆ4ï¼‰è®¡ç®—å±æ€§æ˜¯è‡ªåŠ¨ç›‘å¬ä¾èµ–å€¼çš„å˜åŒ–ï¼Œä»è€ŒåŠ¨æ€è¿”å›å†…å®¹ã€‚ ä¾¦å¬å±æ€§ watch: (1) ä¸æ”¯æŒç¼“å­˜ï¼Œåªè¦æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œå°±ä¼šæ‰§è¡Œä¾¦å¬å‡½æ•°ï¼› (2) ä¾¦å¬å±æ€§å†…æ”¯æŒå¼‚æ­¥æ“ä½œï¼› (3) ä¾¦å¬å±æ€§çš„å€¼å¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ¥æ”¶ handler å›è°ƒï¼Œdeepï¼Œimmediate ä¸‰ä¸ªå±æ€§ï¼› (3) ç›‘å¬æ˜¯ä¸€ä¸ªè¿‡ç¨‹ï¼Œåœ¨ç›‘å¬çš„å€¼å˜åŒ–æ—¶ï¼Œå¯ä»¥è§¦å‘ä¸€ä¸ªå›è°ƒï¼Œå¹¶åšä¸€äº›å…¶ä»–äº‹æƒ…ã€‚ vuex éƒ½æœ‰å“ªäº›éƒ¨åˆ†ç»„æˆï¼Ÿ state:ç”¨æ¥å­˜å‚¨æ•°æ® Getter:ç”¨æ¥è·å–stateä¸­çš„å€¼ Mutation:å”¯ä¸€å¯ä»¥æ”¹å˜stateä¸­çš„å€¼ï¼Œä¸”å¿…é¡»æ˜¯åŒæ­¥å‡½æ•° Action:ç”¨äºæäº¤mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ï¼Œå¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œ Module:è®¸å°†å•ä¸€çš„Storeæ‹†åˆ†ä¸ºå¤šä¸ªstoreä¸”åŒæ—¶ä¿å­˜åœ¨å•ä¸€çš„çŠ¶æ€æ ‘ä¸­ã€‚ æµè§ˆå™¨ç›¸å…³ è¾“å…¥URLåˆ°é¡µé¢æ¸²æŸ“ä¸­éƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ 1.URL è§£æ 2.DNS æŸ¥è¯¢ 3.TCP è¿æ¥ 4.å¤„ç†è¯·æ±‚ 5.æ¥å—å“åº” 6.æ¸²æŸ“é¡µé¢ ","link":"https://lonjinup.github.io/jsjczj/"},{"title":"å¦‚ä½•å¿«é€ŸæŒæ¡å…¬ä¼—å·å¼€å‘","content":"æ‰‹æŠŠæ‰‹æ•™ä½ å¾®ä¿¡å…¬ä¼—å·å¼€å‘ å¾ˆå¤šäººè‚¯å®šä¼šç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆäººå®¶æœ‰æ–‡æ¡£ä¸çœ‹ï¼Œéè¦çœ‹ä½ è¿™ä¸ªï¼Ÿæœ¬æ¥ä¹Ÿä¸æ‰“ç®—å†™è¿™ç¯‡æ–‡ç« ï¼Œé‚£å¤©åœ¨æ˜é‡‘ä¸Šæœ‰ä¸ªæ˜å‹å‘äº†ä¸ªæ²¸ç‚¹ï¼Œå¤§ä½“æ„æ€å°±è¯´å…¬ä¼—å·å¼€å‘ä¹Ÿèƒ½ç®—ä¸€é—¨æŠ€æœ¯(å› ä¸ºå…¬ä¼—å·ç½‘é¡µå¼€å‘æ–‡æ¡£å¯è¯»æ€§æ¯”è¾ƒå·®)ã€‚æœ‰æ—¶å€™è§æŠ€æœ¯ç¾¤å¥½å¤šäººä¹Ÿæé—®ï¼›æ‰€ä»¥è¿˜æ˜¯å†™ä¸€ä¸‹å¾®ä¿¡æˆæƒç™»å½•å’Œå¾®ä¿¡åˆ†äº«ä»¥åŠå¾®ä¿¡æ”¯ä»˜ã€‚ å¼€å‘å‰çš„å‡†å¤‡ å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ï¼Œæˆ‘ä»¬å…ˆå‡†å¤‡ä¸€äº›å¿…å¤‡ä¸œè¥¿ï¼Œç„¶åæ‰å¯ä»¥æ­£å¼è¿›å…¥å¼€å‘ç¯èŠ‚ã€‚é¦–å…ˆéœ€è¦æ³¨å†Œä¼ä¸šå¾®ä¿¡å…¬ä¼—å·è´¦å·ï¼Œç„¶åç»‘å®šå¼€å‘äººå‘˜ï¼Œä¸‹è½½å¼€å‘å·¥å…·ã€‚ æ³¨å†Œè´¦å· æ³¨å†Œå¾®ä¿¡å…¬ä¼—å·ï¼Œä¸€èˆ¬é€‰æ‹©æœåŠ¡å·(å…·ä½“çœ‹ä¸šåŠ¡åœºæ™¯),è¾“å…¥ç›¸å…³ä¿¡æ¯æäº¤å³å¯ï¼Œè¿™ä¸ªæ¯”è¾ƒç®€å•ï¼Œå°±ä¸å±•å¼€å™è¿°äº†ã€‚ ç»‘å®šå¼€å‘è€…è´¦å· 1.ç™»å½•å¾®ä¿¡å¼€å‘è€…å¹³å°ï¼Œå·¦ä¾§èœå•æ æ‰¾åˆ°å¼€å‘--&gt;å¼€å‘è€…å·¥å…·ï¼Œç‚¹å‡»è¿›å…¥ã€‚ 2.ç‚¹å‡»webå¼€å‘è€…å·¥å…·ï¼Œè¿™ä¸ªå°±æ˜¯ç»‘å®šæˆ‘ä»¬çš„å¼€å‘è€…å¾®ä¿¡è´¦å·ï¼Œæ–¹ä¾¿åé¢è°ƒè¯•ã€‚ g71x81.png g71vCR.png ä¸‹è½½å¼€å‘è°ƒè¯•å·¥å…· ç‚¹å‡»è¿›å…¥å¾®ä¿¡å¼€å‘è°ƒè¯•å·¥å…·ä¸‹è½½é¡µé¢ï¼Œé€‰æ‹©ç‰ˆæœ¬ä¸‹è½½å³å¯ï¼Œåˆ°ç°åœ¨ï¼Œæˆ‘ä»¬çš„å¼€å‘å‰å‡†å¤‡å·¥ä½œå°±ç®—å®Œæˆäº†ã€‚ å¾®ä¿¡æˆæƒç™»å½• å‡†å¤‡å·¥ä½œåšå®Œä»¥åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹ç€æ‰‹å¼€å‘äº†ï¼Œä¸€èˆ¬å…¬ä¼—å·å¼€å‘è‚¯å®šè¦åšå¾®ä¿¡ç½‘é¡µæˆæƒã€åˆ†äº«ç»™å¥½å‹ã€åˆ†äº«åˆ°æœ‹å‹åœˆï¼Œéƒ¨åˆ†ä¼šåšå¾®ä¿¡æ”¯ä»˜åŠŸèƒ½ã€‚ä¸‹é¢å°±åˆ†äº«ä¸€ä¸‹å¾®ä¿¡ç½‘é¡µæˆæƒå¼€å‘æµç¨‹ã€‚ å®‰å…¨åŸŸåè®¾ç½® g73FVe.png 1.ç™»å½•å…¬ä¼—å·åå°ï¼Œå·¦ä¾§èœå•æ æ‰¾åˆ°ï¼šè®¾ç½®--&gt;å…¬ä¼—å·è®¾ç½®ï¼Œè¿›å…¥é¡µé¢åé€‰æ‹©åŠŸèƒ½è®¾ç½®ï¼Œé…ç½®ä¸€ä¸‹JSæ¥å£å®‰å…¨åŸŸåå’Œç½‘é¡µæˆæƒåŸŸåï¼Œé…ç½®è§„åˆ™å¦‚ä¸‹ï¼š é…ç½®å è§„åˆ™ ç”¨é€” JSæ¥å£å®‰å…¨åŸŸå åŸŸåé¡»é€šè¿‡ICPå¤‡æ¡ˆçš„éªŒè¯ï¼Œéœ€è¦ä¸‹è½½MP_verify_jhf9FhUVRNDnBE96.txtæ”¾åœ¨æ‰€é…ç½®åŸŸåæŒ‡å‘çš„æ ¹ç›®å½• åœ¨å¾®ä¿¡å†…è®¿é—®è¯¥åŸŸåä¸‹é¡µé¢æ—¶ï¼Œä¸ä¼šè¢«é‡æ–°æ’ç‰ˆã€‚ç”¨æˆ·åœ¨è¯¥åŸŸåä¸Šè¿›è¡Œè¾“å…¥æ—¶ï¼Œä¸å‡ºç°å®‰å…¨æç¤º ç½‘é¡µæˆæƒåŸŸå éœ€è¦å§MP_verify_jhf9FhUVRNDnBE96.txtæ”¾åˆ°åŸŸåçš„æ ¹ç›®å½•ä¸‹ å¾®ä¿¡ç½‘é¡µæˆæƒæ—¶å€™å¿…é¡»é…ç½® ç™»å½•æµç¨‹ å¾®ä¿¡ç™»å½•æµç¨‹ï¼š g73PbD.png å‰ç«¯å…³é”®ä»£ç å¦‚ä¸‹(ä¸ºä¹¦å†™æ–¹ä¾¿ï¼Œè¿™é‡Œè¯·æ±‚ä½¿ç”¨jqueryçš„$ajax): &lt;script&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//è·å–åœ°å€æ å‚æ•°&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;GetURL(name)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;reg&nbsp;=&nbsp;new&nbsp;RegExp(\"(^|&amp;)\"&nbsp;+&nbsp;name&nbsp;+&nbsp;\"=([^&amp;]*)(&amp;|$)\");&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;r&nbsp;=&nbsp;window.location.search.substr(1).match(reg);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(r&nbsp;!=&nbsp;null)&nbsp;return&nbsp;unescape(r[2]);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;null;&nbsp;&nbsp;&nbsp;&nbsp;};&nbsp;&nbsp;&nbsp;&nbsp;//è·å–urlä¸­codeå‚æ•°&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;code&nbsp;=&nbsp;GetURL('code');&nbsp;&nbsp;&nbsp;&nbsp;//å¦‚æœæ²¡æœ‰codeï¼Œè½¬è·³åˆ°æˆæƒé¡µè¿›è¡Œæˆæƒ&nbsp;&nbsp;&nbsp;&nbsp;if(!code){&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;url&nbsp;=&nbsp;window.location.href;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;appid&nbsp;=&nbsp;'abckdeh129292';&nbsp;//å…¬ä¼—å·appidï¼Œåœ¨å¾®ä¿¡å…¬ä¼—å·åå°ä¸­å¯ä»¥æŸ¥çœ‹&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.location.href&nbsp;=&nbsp;'https://open.weixin.qq.com/connect/oauth2/authorize?appid='+appid+'&amp;redirect_uri='&nbsp;+&nbsp;url&nbsp;+&nbsp;'&amp;response_type=code&amp;scope=snsapi_base&amp;state=123#wechat_redirect';&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;//å¦‚æœæœ‰code&nbsp;&nbsp;&nbsp;&nbsp;$.ajax({&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;url:&nbsp;\"https://test.abcd.com/api/WXUserInfo\",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data:&nbsp;{&nbsp;code,},&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type:&nbsp;\"get\",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataType:&nbsp;\"json\",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;success:&nbsp;function&nbsp;(res)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//codeå¯ç”¨ï¼Œæ‹¿åˆ°ç”¨æˆ·ä¿¡æ¯&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(res.status)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;userInfo&nbsp;=&nbsp;res.data;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//codeè¿‡æœŸï¼Œéœ€è¦é‡æ–°æˆæƒ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.location.href&nbsp;=&nbsp;'http://test.abcd.com/juejin/index.html'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});&lt;/script&gt; å‚æ•°è¯´æ˜ï¼šå…³äºè½¬è·³åˆ°æˆæƒé¡µæ—¶å€™æ‹¼æ¥çš„å‚æ•°ï¼Œè¿™é‡Œå°±ä¸å¤šè¯´äº†ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥çœ‹ä¸€ä¸‹ğŸ‘‰å®˜æ–¹æ–‡æ¡£ å¸¸è§è¿”å›é”™è¯¯ç ï¼š 10003 æ£€æµ‹åå°å›è°ƒåŸŸåé…ç½®æ˜¯ä¸æ˜¯æ­£ç¡® 10005 å…¬ä¼—å·æ²¡æœ‰å¼€é€šè¿™ä¸ªèƒ½åŠ› 10009 æ“ä½œé¢‘ç¹ï¼Œè¿™ä¸ªå’Œå‰ç«¯å…³ç³»ä¸å¤§ï¼Œåç«¯æ£€æŸ¥ä¸€ä¸‹é€»è¾‘ ç”¨æˆ·ä¿¡æ¯ ä¸Šé¢è·å–åˆ°å¾®ä¿¡è¿”å›çš„ç”¨æˆ·ä¿¡æ¯å¯¹åº”çš„æè¿°å¦‚ä¸‹ï¼Œå…¶ä¸­æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œåç«¯ä¿å­˜ç”¨æˆ·æ˜µç§°æ—¶å€™éœ€è¦è¿›è¡Œè½¬ç ï¼Œå› ä¸ºæœ‰äº›ç”¨æˆ·å¾®ä¿¡æ˜µç§°ä¸ºè¡¨æƒ…ï¼Œå…¶æ¬¡æ˜¯å¦‚æœå…¬ä¼—å·ç½‘é¡µæƒ³è¦ä¸å°ç¨‹åºç½‘é¡µç”¨æˆ·ä¿¡æ¯äº’é€šï¼Œåˆ™éœ€è¦æ‹¿unionidæ¥å½“å”¯ä¸€idï¼ŒåŒæ—¶å°ç¨‹åºè·å–ç”¨æˆ·ä¿¡æ¯ä¹Ÿéœ€è¦ä¿å­˜unionidã€‚ å‚æ•°åç§° æè¿° openid ç”¨æˆ·çš„å”¯ä¸€æ ‡è¯† nickname ç”¨æˆ·çš„æ˜µç§° sex ç”¨æˆ·çš„æ€§åˆ«ï¼Œå€¼ä¸º1æ—¶æ˜¯ç”·æ€§ï¼Œå€¼ä¸º2æ—¶æ˜¯å¥³æ€§ï¼Œå€¼ä¸º0æ—¶æ˜¯æœªçŸ¥ province ä¸ªäººèµ„æ–™å¡«å†™çš„çœä»½ city æ™®é€šç”¨æˆ·ä¸ªäººèµ„æ–™å¡«å†™çš„åŸå¸‚ country å›½å®¶ï¼Œå¦‚ä¸­å›½ä¸ºCN headimgurl ç”¨æˆ·å¤´åƒ privilege ç”¨æˆ·ç‰¹æƒä¿¡æ¯ unionid ç”¨æˆ·æ ‡è¯† åˆ†äº«ç»™å¥½å‹ï¼Œåˆ†äº«åˆ°æœ‹å‹åœˆ å¤§å®¶è‚¯å®šè§è¿‡å¾®ä¿¡å‘ç»™æœ‹å‹çš„ç½‘é¡µä¸­æœ‰æ ‡é¢˜ã€ä»‹ç»ä»¥åŠç¼©ç•¥å›¾ï¼Œè¿™æ ·æœ‰åˆ©äºç”¨æˆ·æœªè¿›å…¥é¡µé¢æ—¶å€™å¤§æ¦‚äº†è§£é¡µé¢çš„ä¸€äº›ä¿¡æ¯ã€‚è¿™é‡Œå°±å†™ä¸€ä¸‹åˆ†äº«ç»™å¾®ä¿¡å¥½å‹å’Œåˆ†äº«åˆ°æœ‹å‹åœˆï¼Œå…¶ä»–çš„å¯ä»¥çœ‹ğŸ‘‰å®˜æ–¹æ–‡æ¡£ã€‚js-sdkç¤ºä¾‹å¯ä»¥åœ¨å¾®ä¿¡å†…è®¿é—®ğŸ‘‰ç¤ºä¾‹demoã€‚ g73CDO.jpg å¼€å‘æµç¨‹ 1.é…ç½®jså®‰å…¨åŸŸå(åœ¨ä¸Šé¢å·²ç»è¯´æ˜äº†å…·ä½“é…ç½®æ–¹æ³•) 2.å¼•å…¥js-sdk &nbsp;&nbsp;&nbsp;&nbsp;//é¡µé¢ä¸­å¼•å…¥js-sdk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;script&nbsp;src=\"http://res.wx.qq.com/open/js/jweixin-1.6.0.js\"&gt;&lt;/script&gt;&nbsp;&nbsp;&nbsp;&nbsp;//vueæˆ–è€…react&nbsp;ä¹Ÿå¯ä»¥æ’ä»¶å®‰è£…&nbsp;&nbsp;&nbsp;&nbsp;npm&nbsp;install&nbsp;weixin-js-sdk&nbsp;æˆ–&nbsp;yarn&nbsp;add&nbsp;weixin-js-sdk 3.é€šè¿‡configæ¥å£æ³¨å…¥æƒé™éªŒè¯é…ç½®ï¼Œå¤„ç†æˆåŠŸorå¤±è´¥ &nbsp;&nbsp;&nbsp;&nbsp;//æ‹¿åˆ°configæ¥å£æ³¨å…¥æƒé™éªŒè¯å‚æ•°ï¼Œè¿™äº›å‚æ•°éƒ½ç”±åç«¯è¿”å›&nbsp;&nbsp;&nbsp;&nbsp;$.ajax({&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;url:&nbsp;\"https://test.abcd.com/api/wxconfig\",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data:&nbsp;{&nbsp;url:window.location.href},&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type:&nbsp;\"get\",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataType:&nbsp;\"json\",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;success:&nbsp;function&nbsp;(data)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wx.config({&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug:&nbsp;true,&nbsp;//&nbsp;å¼€å¯è°ƒè¯•æ¨¡å¼,è°ƒç”¨çš„æ‰€æœ‰apiçš„è¿”å›å€¼ä¼šåœ¨å®¢æˆ·ç«¯alertå‡ºæ¥ï¼Œè‹¥è¦æŸ¥çœ‹ä¼ å…¥çš„å‚æ•°ï¼Œå¯ä»¥åœ¨pcç«¯æ‰“å¼€ï¼Œå‚æ•°ä¿¡æ¯ä¼šé€šè¿‡logæ‰“å‡ºï¼Œä»…åœ¨pcç«¯æ—¶æ‰ä¼šæ‰“å°ã€‚&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;appId:&nbsp;data.appId,&nbsp;//&nbsp;å¿…å¡«ï¼Œå…¬ä¼—å·çš„å”¯ä¸€æ ‡è¯†&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;timestamp:&nbsp;data.timestamp,&nbsp;//&nbsp;å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„æ—¶é—´æˆ³&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nonceStr:&nbsp;data.nonceStr,&nbsp;//&nbsp;å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„éšæœºä¸²&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;signature:&nbsp;data.signature,//&nbsp;å¿…å¡«ï¼Œç­¾å&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jsApiList:&nbsp;['updateAppMessageShareData',&nbsp;'updateTimelineShareData',]&nbsp;//&nbsp;å¿…å¡«ï¼Œéœ€è¦ä½¿ç”¨çš„JSæ¥å£åˆ—è¡¨&nbsp;å¦‚æœè¦åšåˆ†äº«ç»™å¥½å‹å’Œåˆ†äº«åˆ°æœ‹å‹åœˆå°±å†™è¿™ä¸¤ä¸ª&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//é…ç½®éªŒæ ¡æˆåŠŸå¤„ç†å‡½æ•°&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wx.ready(function(){&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;link&nbsp;=&nbsp;\"www.test.com/index.html\",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;title&nbsp;=&nbsp;'æ˜é‡‘é‚€è¯·ä½ å‚åŠ æ‰“å¡æ´»åŠ¨',&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;desc&nbsp;=&nbsp;'æ˜é‡‘é‚€è¯·ä½ å‚åŠ æ‰“å¡æ´»åŠ¨ï¼Œå¥–å“ä¸°å¯Œï¼Œå¿«æ¥çœ‹çœ‹å§ï¼',&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;imgUrl&nbsp;=&nbsp;'http://www.test.com/images/share.jpg';&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//åˆ†äº«ç»™å¥½å‹&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wx.updateAppMessageShareData({&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;title,&nbsp;//&nbsp;åˆ†äº«æ ‡é¢˜&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;desc,&nbsp;//&nbsp;åˆ†äº«æè¿°&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link,&nbsp;//&nbsp;åˆ†äº«é“¾æ¥ï¼Œè¯¥é“¾æ¥åŸŸåæˆ–è·¯å¾„å¿…é¡»ä¸å½“å‰é¡µé¢å¯¹åº”çš„å…¬ä¼—å·JSå®‰å…¨åŸŸåä¸€è‡´&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;imgUrl,&nbsp;//&nbsp;åˆ†äº«å›¾æ ‡&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;success:&nbsp;function&nbsp;()&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;è®¾ç½®æˆåŠŸå¤„ç†å‡½æ•°&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//åˆ†äº«åˆ°æœ‹å‹åœˆ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wx.updateTimelineShareData({&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;title,&nbsp;//&nbsp;åˆ†äº«æ ‡é¢˜&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link,&nbsp;//&nbsp;åˆ†äº«é“¾æ¥ï¼Œè¯¥é“¾æ¥åŸŸåæˆ–è·¯å¾„å¿…é¡»ä¸å½“å‰é¡µé¢å¯¹åº”çš„å…¬ä¼—å·JSå®‰å…¨åŸŸåä¸€è‡´&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;imgUrl,&nbsp;//&nbsp;åˆ†äº«å›¾æ ‡&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;success:&nbsp;function&nbsp;()&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;è®¾ç½®æˆåŠŸå¤„ç†å‡½æ•°&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//é…ç½®å¤±è´¥å‡½æ•°&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wx.error(function(res){&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;configä¿¡æ¯éªŒè¯å¤±è´¥ä¼šæ‰§è¡Œerrorå‡½æ•°ï¼Œå¦‚ç­¾åè¿‡æœŸå¯¼è‡´éªŒè¯å¤±è´¥ï¼Œå…·ä½“é”™è¯¯ä¿¡æ¯å¯ä»¥æ‰“å¼€configçš„debugæ¨¡å¼æŸ¥çœ‹ï¼Œä¹Ÿå¯ä»¥åœ¨è¿”å›çš„reså‚æ•°ä¸­æŸ¥çœ‹ï¼Œå¯¹äºSPAå¯ä»¥åœ¨è¿™é‡Œæ›´æ–°ç­¾åã€‚&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}); âš ï¸æ³¨æ„äº‹é¡¹ è°ƒè¯•è¿‡ç¨‹ä¸­è¦æ‰“å¼€debug,ä¸ç„¶å¤±è´¥åçœ‹ä¸åˆ°è¿”å›ä¿¡æ¯ï¼Œå¸¸è§é”™è¯¯å¤§éƒ¨åˆ†æ˜¯å› ä¸ºåç«¯ç­¾åè®¡ç®—é—®é¢˜ï¼Œå¦‚æœ‰é—®é¢˜ç›´æ¥æŠŠæŠ¥é”™ä¿¡æ¯å¤åˆ¶åˆ°æœç´¢å¼•æ“çœ‹ä¸€ä¸‹å¤„ç†æ–¹å¼å°±è¡Œã€‚ å¾®ä¿¡js-sdkä¸å¾®ä¿¡ç½‘é¡µæˆæƒæ²¡ä»»ä½•å…³è”ï¼Œä¸æˆæƒä¹Ÿå¯ä»¥ä½¿ç”¨js-sdkã€‚ å¾®ä¿¡åˆ†äº«æˆåŠŸå¤„ç†å‡½æ•°ä»…ä»£è¡¨ç”¨æˆ·ç‚¹å‡»äº†åˆ†äº«æŒ‰é’®ï¼Œå¹¶ä¸ä»£è¡¨çœŸæ­£åˆ†äº«ç»™äº†å¥½å‹ï¼Œåªè¦ç‚¹å‡»äº†å³ä¸Šè§’åˆ†äº«ï¼Œ\bsuccesså‡½æ•°å°±ä¼šæ‰§è¡Œã€‚ä¸€èˆ¬åšæ¿€åŠ±å¼åˆ†äº«éƒ½æ˜¯åˆ†äº«åæºå¸¦å‚æ•°ï¼Œå½“ç”¨æˆ·åˆ†äº«åå¥½å‹è¿›å…¥åè¿›è¡Œç›¸å…³ä¸šåŠ¡å¤„ç†ã€‚ ç»“å°¾ æœ¬æ¥æ‰“ç®—å†™ä¸€ä¸‹å¾®ä¿¡æ”¯ä»˜ï¼Œä½†æ–‡ç« ä¼šæ¯”è¾ƒé•¿ï¼Œç•™ç€ä¸‹æ¬¡å†™å§ã€‚æœ‰é—®é¢˜å¯ä»¥è¯„è®ºåŒºä¸æˆ‘äº¤æµã€‚æ¬¢è¿å…³æ³¨ğŸ‘‰å…³æ³¨å‰ç«¯365ï¼šåˆ†äº«å‰ç«¯å°æŠ€å·§ä»¥åŠå¼€å‘è¿‡ç¨‹ä¸­çš„ä¸€äº›é—®é¢˜ã€‚çœ‹å®Œè®°å¾—æ¬¢è¿å…³æ³¨+æ”¶è—+ç‚¹èµï¼Œé©¬ä¸Šå°±åˆ°LV3äº†ï¼Œæ„Ÿè°¢æ”¯æŒï½ ","link":"https://lonjinup.github.io/wxh5kf/"},{"title":"å°ç¨‹åºTabBaråˆ›æ„åŠ¨ç”»(æ–‡æœ«é™„å®Œæ•´æºä»£ç )","content":" å°ç¨‹åºå®ç°TabBaråˆ›æ„åŠ¨ç”»(æ–‡æœ«é™„å®Œæ•´æºä»£ç ) å°ç¨‹åºæ—¥ç›Šå¢å¤šçš„æƒ…å†µä¸‹ï¼ŒUIé£æ ¼æ˜¾å¾—è¶Šæ¥è¶Šé‡è¦ï¼Œåœ¨é¡µé¢ä¸­å¦‚æœèƒ½è®©TabBarä¸ªæ€§åŒ–ä¸€ç‚¹ï¼ŒåŠ ä¸€äº›å°äº¤äº’ï¼Œç”¨æˆ·ä½“éªŒä¼šå¤§å¤§æå‡ã€‚ç”±äºå°ç¨‹åºå¯¹svgä¸å¤ªå‹å¥½ï¼Œæ‰€ä»¥æˆ‘ä»¬å°½é‡ä½¿ç”¨cssåŠ¨ç”»è¿›è¡Œå®ç°ã€‚ä¹‹å‰æ–‡ç« å°ç¨‹åºå¼€å‘æŠ€å·§ä¸­æåˆ°è¿‡TabBarè‡ªå®šä¹‰æ–¹æ¡ˆï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥äº†è§£ä¸€ä¸‹ã€‚ä¸‹é¢å°±åˆ†äº«ä¸€ä¸‹ä»Šå¤©å†™çš„å‡ ä¸ªäº¤äº’æ•ˆæœï¼Œæ–‡æœ«ä¹Ÿä¼šåˆ†äº«æºä»£ç ã€‚è®°å¾—ç‚¹èµ+å…³æ³¨+æ”¶è—ï¼ NO.1 è¿™ç§æ•ˆæœä¸»è¦ä½¿ç”¨äº†transformå’Œopacityæ¥å®ç°ã€‚æ–‡å­—é»˜è®¤éšè—å¹¶ç¼©å°ï¼Œç‚¹å‡»åiconå›¾æ ‡transformçš„yè½´æ–¹å‘ä¸Šç§»ï¼ŒåŒæ—¶æ§åˆ¶æ–‡å­—çš„opacityã€‚åœ†å½¢å—æ ¹æ®ç‚¹å‡»çš„indexå»åŠ¨æ€è®¡ç®—xè½´çš„åç§»ä½ç½®å³å¯ã€‚ gRsjhj.gif æ ¸å¿ƒcssä»£ç (å®Œæ•´ä»£ç è§æ–‡æœ«)ï¼š &nbsp;&nbsp;&nbsp;&nbsp;.tabbar&nbsp;.item&nbsp;.text{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position:&nbsp;absolute;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;width:&nbsp;100%;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bottom:&nbsp;10rpx;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-align:&nbsp;center;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-size:&nbsp;22rpx;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;opacity:&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transition:&nbsp;all&nbsp;.8s;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transform:&nbsp;scale(0.8);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;width:&nbsp;100%;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;.tabbar&nbsp;.item.active&nbsp;.text{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;opacity:&nbsp;1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transform:&nbsp;scale(1);&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;.tabbar&nbsp;.item.active&nbsp;.icon{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:&nbsp;#3561f5;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transform:&nbsp;translateY(-55rpx);&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;.tabbar&nbsp;.item&nbsp;.icon{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-size:&nbsp;50rpx!important;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-align:&nbsp;center;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transition:&nbsp;all&nbsp;.8s;&nbsp;&nbsp;&nbsp;&nbsp;} NO.2 è¿™ä¸ªæ•ˆæœç”¨åˆ°ä¸€ä¸ªcssåŠ¨ç”»å·¥å…·åº“ï¼šbouncejsï¼Œå®ƒå¯ä»¥åœ¨çº¿ç”ŸæˆcssåŠ¨ç”»ï¼Œç„¶åå¤åˆ¶åˆ°é¡¹ç›®ä¸­ä½¿ç”¨å³å¯ã€‚ä¸‹æ–¹æ•ˆæœé‡‡ç”¨è·³è·ƒå¼åˆ‡æ¢ï¼Œæ•´ä½“çœ‹ä¸Šå»éå¸¸æœ‰æ´»åŠ›ã€‚ä½¿ç”¨äº†animationåŠ¨ç”»ã€‚ç”±äºcssåŠ¨ç”»ä»£ç è¿‡å¤šï¼Œæƒ³çœ‹å®Œæ•´ä»£ç è§æ–‡æœ«githubåœ°å€ã€‚ gR2KRH.gif NO.3 ä¸‹æ–¹è¿™ä¸ªæ•ˆæœè¿˜æ˜¯ç”¨bouncejsåœ¨çº¿ç¼–è¾‘ï¼Œç¼–è¾‘å®Œæˆååªéœ€è¦ç‚¹å‡»åç»™ç›¸åº”çš„å…ƒç´ æ·»åŠ ç±»åå³å¯ã€‚ gRRn00.gif ç»“å°¾ å¦‚éœ€æºä»£ç å¯ä»¥ç§»æ­¥githubã€‚ ğŸ‘‰å…³æ³¨å‰ç«¯365ï¼šåˆ†äº«å‰ç«¯å°æŠ€å·§ä»¥åŠå¼€å‘è¿‡ç¨‹ä¸­çš„ä¸€äº›é—®é¢˜ï¼Œæ¬¢è¿å…³æ³¨+æ”¶è—+ç‚¹èµï¼Œæ„Ÿè°¢æ”¯æŒï½ ","link":"https://lonjinup.github.io/wxtabbar/"},{"title":"vue-cliè‡ªåŠ¨è¡¥å…¨csså‰ç¼€","content":"vueè‡ªåŠ¨è¡¥å…¨å‰ç¼€ éœ€è¦å®‰è£…postcsså’Œautoprefixerä¸¤ä¸ªnpmåŒ…ã€‚ 1.å®‰è£… &nbsp;&nbsp;&nbsp;&nbsp;npm&nbsp;install&nbsp;postcss&nbsp;&nbsp;&nbsp;&nbsp;npm&nbsp;install&nbsp;autoprefixer 2.åœ¨package.jsonæ–‡ä»¶ä¿®æ”¹ browserslist &nbsp;\"browserslist\":&nbsp;[&nbsp;&nbsp;&nbsp;&nbsp;\"&gt;&nbsp;1%\",&nbsp;&nbsp;&nbsp;&nbsp;\"last&nbsp;3&nbsp;versions\",&nbsp;&nbsp;&nbsp;&nbsp;\"not&nbsp;ie&nbsp;&lt;=&nbsp;8\",&nbsp;&nbsp;&nbsp;&nbsp;\"chrome&nbsp;&gt;=&nbsp;14\",&nbsp;&nbsp;&nbsp;&nbsp;\"safari&nbsp;&gt;=&nbsp;3\",&nbsp;&nbsp;&nbsp;&nbsp;\"ios&nbsp;&gt;=&nbsp;8\",&nbsp;&nbsp;&nbsp;&nbsp;\"android&nbsp;&gt;=&nbsp;4.0\"&nbsp;] 3.åœ¨æ ¹ç›®å½•æ–°å»ºpostcss.config.jsæ–‡ä»¶ &nbsp;&nbsp;&nbsp;&nbsp;module.exports&nbsp;=&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plugins:&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;autoprefixer:&nbsp;{}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;} 4.é‡æ–°å¯åŠ¨é¡¹ç›®å³å¯ã€‚ tips å®‰è£…åè¿è¡Œå‘ç°æœ‰æŠ¥é”™ï¼šError: PostCSS plugin autoprefixer requires PostCSS 8.Migration guide for end-users:ã€‚å¯èƒ½æ˜¯ç‰ˆæœ¬é—®é¢˜å¯¼è‡´ä¸å…¼å®¹ï¼Œç›´æ¥å®‰è£…çš„æ˜¯æœ€æ–°ç‰ˆæœ¬(10.2.5)ï¼Œè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦é™ä½ä¸€ä¸‹ç‰ˆæœ¬å³å¯ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;npm&nbsp;i&nbsp;postcss-loader&nbsp;autoprefixer@8.0.0&nbsp;-D å®‰è£…å®Œé‡æ–°è¿è¡Œå³å¯ã€‚ ","link":"https://lonjinup.github.io/vue-cli-css/"},{"title":"webpack4å­¦ä¹ ç¬”è®° 02","content":"Entry(å…¥å£) åœ¨webpack.config.jsä¸­ï¼Œå½“æˆ‘ä»¬ä¸é…ç½®å…¥å£æ–‡ä»¶çš„è¯ï¼Œä¼šé»˜è®¤æ‰¾/src/index.jsæ–‡ä»¶ã€‚ å‚æ•°é…ç½® å¦‚æœåªé…ç½®ä¸€ä¸ªå…¥å£æ–‡ä»¶ï¼Œåˆ™åé¢ç›´æ¥ä½¿ç”¨stringå½¢å¼ï¼š &nbsp;&nbsp;entry:'./src/index.js', å¦‚æœæ˜¯å¤šä¸ªå…¥å£æ–‡ä»¶ï¼Œåˆ™ç”¨Arrayå½¢å¼ï¼Œé»˜è®¤ä¼šè¾“å‡ºä¸€ä¸ªæ–‡ä»¶ï¼š &nbsp;&nbsp;entry:['./src/index.js','./src/index2.js'], å¦‚æœå…¥å£ä¸ºå¤šä¸ªæ–‡ä»¶ï¼Œè¾“å‡ºæ—¶å€™ä¹Ÿä¸ºå¤šä¸ªå¯¹è±¡ï¼Œåˆ™ä½¿ç”¨jsonå½¢å¼ï¼Œè¿™æ—¶å€™è¦é…åˆOutputè¿›è¡Œå¤„ç† &nbsp;&nbsp;entry:{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;page1:'./src/index.js',&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;page2:'./src/index2.js',&nbsp;&nbsp;}, Output(å‡ºå£) åœ¨webpack.config.jsä¸­ï¼Œå½“æˆ‘ä»¬ä¸é…ç½®å‡ºå£æ–‡ä»¶çš„è¯ï¼Œé»˜è®¤è¾“å‡ºä¸ºï¼š/dist/main.jsã€‚ å‚æ•°é…ç½® å¦‚æœå…¥å£æ–‡ä»¶ä¸ºå¤šä¸ªï¼Œè¾“å‡ºæ—¶å€™ä¹Ÿæ˜¯å¤šä¸ªï¼Œè¿™æ—¶å€™å°±éœ€è¦é…ç½®ä¸€ä¸‹filename: &nbsp;&nbsp;&nbsp;//&nbsp;å…¥å£æ–‡ä»¶&nbsp;&nbsp;&nbsp;&nbsp;entry:{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;page1:'./src/index.js',&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;page2:'./src/index2.js'&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;å‡ºå£&nbsp;&nbsp;&nbsp;&nbsp;output:{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path:__dirname+'/dist',&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filename:'[name].js'&nbsp;&nbsp;&nbsp;&nbsp;}, æ‰“åŒ…åè¾“å‡ºä¸ºï¼š/dist/page1.jså’Œ/dist/page2.jsæ–‡ä»¶ã€‚ htmlæ‰“åŒ…-html-webpack-plugin webpacké»˜è®¤ä¸ä¼šæ‰“åŒ…htmlï¼Œéœ€è¦ç›¸åº”çš„æ’ä»¶å»å¤„ç†ï¼šhtml-webpack-plugin æ’ä»¶çš„ä½¿ç”¨ 1.ä¸‹è½½æ’ä»¶ &nbsp;&nbsp;&nbsp;npm&nbsp;i&nbsp;html-webpack-plugin&nbsp;-D 2.å¼•ç”¨æ’ä»¶ &nbsp;&nbsp;const&nbsp;HtmlWebpackPlugin=require('html-webpack-plugin'); 3.ä½¿ç”¨æ’ä»¶ åœ¨pluginsä¸­newä¸€ä¸‹ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//æ’ä»¶çš„é…ç½®&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plugins:[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;HtmlWebpackPlugin()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],&nbsp;&nbsp;} å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š &nbsp;&nbsp;const&nbsp;path=require('path');&nbsp;&nbsp;const&nbsp;HtmlWebpackPlugin=require('html-webpack-plugin');&nbsp;&nbsp;module.exports={&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;å…¥å£æ–‡ä»¶&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entry:{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;page1:'./src/index.js',&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;å‡ºå£&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output:{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path:__dirname+'/dist',&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filename:'[name].js'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;å…³äºloader&nbsp;é…ç½®&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module:{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//æ’ä»¶çš„é…ç½®&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plugins:[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;HtmlWebpackPlugin()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;æœåŠ¡å™¨çš„é…ç½®&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;devServer:{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;} æ‰§è¡Œwebpackï¼Œå°±ä¼šç”Ÿæˆ/dist/index.htmlå’Œ/dist/page1.jsæ–‡ä»¶ã€‚ é»˜è®¤ç›´æ¥ä½¿ç”¨ï¼Œä¼šè‡ªå·±ç”Ÿæˆä¸€ä¸ªindex.htmlæ–‡ä»¶ï¼Œå¹¶åœ¨æ–‡ä»¶ä¸­ç”Ÿæˆscriptæ ‡ç­¾å¼•å…¥jsæ–‡ä»¶ã€‚ html-webpack-pluginç›¸å…³é…ç½® template:ç”¨äºé…ç½®æ¨¡ç‰ˆ &nbsp;&nbsp;&nbsp;&nbsp;plugins:[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;HtmlWebpackPlugin({&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;template:'./src/index.html',&nbsp;//æ¨¡ç‰ˆ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})&nbsp;&nbsp;&nbsp;&nbsp;], title:åŠ¨æ€é…ç½®ç½‘ç«™æ ‡é¢˜ &nbsp;&nbsp;&nbsp;&nbsp;plugins:[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;HtmlWebpackPlugin({&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;template:'./src/index.html',&nbsp;//æ¨¡ç‰ˆ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;title:'æµ‹è¯•æ ‡é¢˜'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})&nbsp;&nbsp;&nbsp;&nbsp;],&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;src/index.htmlä¸­ï¼š&nbsp;&nbsp;&nbsp;&nbsp;&lt;title&gt;&nbsp;&lt;%=&nbsp;htmlWebpackPlugin.options.title&nbsp;%&gt;&lt;/title&gt; hash:ç”¨æ¥ç”Ÿæˆhashå€¼ï¼Œé¿å…ç¼“å­˜,é»˜è®¤ä¸ºfalse &nbsp;&nbsp;&nbsp;&nbsp;plugins:[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;HtmlWebpackPlugin({&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;template:'./src/index.html',&nbsp;//æ¨¡ç‰ˆ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;title:'æµ‹è¯•æ ‡é¢˜',&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash:true&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})&nbsp;&nbsp;&nbsp;&nbsp;],&nbsp;&nbsp; minify:ç”¨æ¥å‹ç¼©htmlæ–‡ä»¶ &nbsp;&nbsp;plugins:[&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;HtmlWebpackPlugin({&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;template:'./src/index.html',&nbsp;//æ¨¡ç‰ˆ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;title:'æµ‹è¯•æ ‡é¢˜',&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash:true,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minify:{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;collapseWhitespace:true,&nbsp;//æŠ˜å ç©ºç™½åŒºåŸŸ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;})&nbsp;&nbsp;], å¦‚ä½•å¤šé¡µé…ç½®æ–¹æ³• éœ€æ±‚ï¼šåœ¨srcç›®å½•ä¸‹æœ‰index.htmlå’Œindex2.htmlï¼Œè¿˜æœ‰index.jså’Œindex2.js,æƒ³åœ¨é¡µé¢ä¸­åˆ†åˆ«å¼•å…¥ã€‚ ä½¿ç”¨filenameå’Œchunkså³å¯å®ç° &nbsp;&nbsp;&nbsp;&nbsp;//æ’ä»¶çš„é…ç½®&nbsp;&nbsp;&nbsp;&nbsp;plugins:[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;HtmlWebpackPlugin({&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;template:'./src/index.html',&nbsp;//æ¨¡ç‰ˆ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;title:'é¡µé¢1',&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash:true,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filename:'index.html',&nbsp;//ç”Ÿæˆæ–‡ä»¶åå­—&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chunks:['page1']&nbsp;//å¯¹åº”å¼•å…¥çš„jsæ–‡ä»¶&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;HtmlWebpackPlugin({&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filename:'index2.html',&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;template:'./src/index2.html',&nbsp;//æ¨¡ç‰ˆ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;title:'é¡µé¢2',&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash:true,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chunks:[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'page2'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})&nbsp;&nbsp;&nbsp;&nbsp;],","link":"https://lonjinup.github.io/webpack02/"},{"title":"webpack4 å­¦ä¹ ç¬”è®°01","content":"webpack WebPackå¯ä»¥çœ‹åšæ˜¯æ¨¡å—æ‰“åŒ…æœºï¼šå®ƒåšçš„äº‹æƒ…æ˜¯ï¼Œåˆ†æä½ çš„é¡¹ç›®ç»“æ„ï¼Œæ‰¾åˆ°JavaScriptæ¨¡å—ä»¥åŠå…¶å®ƒçš„ä¸€äº›æµè§ˆå™¨ä¸èƒ½ç›´æ¥è¿è¡Œçš„æ‹“å±•è¯­è¨€ï¼ˆSassï¼ŒTypeScriptç­‰ï¼‰ï¼Œå¹¶å°†å…¶è½¬æ¢å’Œæ‰“åŒ…ä¸ºåˆé€‚çš„æ ¼å¼ä¾›æµè§ˆå™¨ä½¿ç”¨ã€‚åœ¨3.0å‡ºç°åï¼ŒWebpackè¿˜è‚©è´Ÿèµ·äº†ä¼˜åŒ–é¡¹ç›®çš„è´£ä»»ã€‚ webpackäº”ä¸ªæ ¸å¿ƒæ¦‚å¿µ Entry å…¥å£(Entry)æŒ‡ç¤ºwebapckä»¥å“ªä¸ªæ–‡ä»¶ä¸ºå…¥å£èµ·ç‚¹å¼€å§‹æ‰“åŒ…ï¼Œåˆ†ææ„å»ºå†…éƒ¨ä¾èµ–å›¾ã€‚ Output è¾“å‡º(Output)æŒ‡ç¤ºwebpackæ‰“åŒ…åçš„èµ„æºbundlesè¾“å‡ºåˆ°å“ªé‡Œå»ï¼Œä»¥åŠå¦‚ä½•å‘½åã€‚ Loader Loaderè®©webpackèƒ½å¤Ÿå¤„ç†å“ªäº›éJavaScriptæ–‡ä»¶ï¼ˆwebpackè‡ªèº«åªç†è§£JavaScriptï¼‰ Plugins æ’ä»¶(Plugins)å¯ä»¥ç”¨äºæ‰§è¡ŒèŒƒå›´æ›´å¹¿çš„ä»»åŠ¡ã€‚æ’ä»¶çš„èŒƒå›´åŒ…æ‹¬ï¼šä»ä¼˜åŒ–å’Œå‹ç¼©ã€ä¸€ç›´åˆ°é‡æ–°å®šä¹‰ç¯å¢ƒä¸­çš„å˜é‡ã€‚ Mode æ¨¡å¼æŒ‡ç¤ºwebpackä½¿ç”¨ç›¸åº”çš„æ¨¡å¼é…ç½®ã€‚ é€‰é¡¹ æè¿° ç‰¹ç‚¹ development ä¼šå°†process.env.NODE_ENVçš„å€¼è®¾ç½®ä¸ºdevelopmentã€‚å¯ç”¨NamedChunksPluginå’ŒNamedModulesPlugin èƒ½è®©ä»£ç æœ¬åœ°è°ƒè¯•è¿è¡Œçš„ç¯å¢ƒ production ä¼šå°†process.env.NODE_ENV çš„å€¼è®¾ç½®ä¸ºproductionã€‚å¯ç”¨FlagDependencyUsagePluginã€FlagIncludedChunksPluginã€ModuleConcatenationPluginã€NoEmitOnErrosPluginã€OccurrenceOrderPluginã€SideEffectsFlagPluginã€UglifyJsPlugin èƒ½è®©ä»£ç ä¼˜åŒ–ä¸Šçº¿çš„ç¯å¢ƒ å®‰è£… åˆå§‹åŒ– &nbsp;&nbsp;npm&nbsp;init&nbsp;-y å…¨å±€å®‰è£… ä½¿ç”¨ç‰ˆæœ¬webpack@4.29.5 webpack-cli@3.2.3 &nbsp;&nbsp;&nbsp;npm&nbsp;install&nbsp;webpack&nbsp;webpack-cli&nbsp;-g&nbsp;&nbsp;&nbsp;webpack&nbsp;-v&nbsp;//éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ æœ¬åœ°å®‰è£… å®‰è£…ï¼ˆ-Dè¡¨ç¤ºå¼€å‘ä¾èµ–ï¼‰ &nbsp;&nbsp;npm&nbsp;add&nbsp;webpack&nbsp;webpack-cli&nbsp;-D åˆå§‹åŒ–é¡¹ç›® &nbsp;&nbsp;npm&nbsp;init&nbsp;-y&nbsp;æˆ–è€…&nbsp;npm&nbsp;init hello word é¦–å…ˆåœ¨æ–°å»ºç«‹çš„demoæ–‡ä»¶å¤¹ä¸­åˆå§‹åŒ–é¡¹ç›®ï¼Œç„¶åå®‰è£…webpackå’Œwebpack-cli,å»ºç«‹ä¸€ä¸ªsrc/index.jsæ–‡ä»¶ï¼Œç„¶åå†å»ºç«‹ä¸€ä¸ªæ‰“åŒ…åçš„è¾“å‡ºæ–‡ä»¶ï¼šdist/index.htmlï¼Œæœ€åå»ºç«‹webpack.config.jsã€‚å¤§è‡´ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š &nbsp;&nbsp;demo&nbsp;&nbsp;&nbsp;&nbsp;--dist&nbsp;&nbsp;&nbsp;&nbsp;----index.html&nbsp;&nbsp;&nbsp;&nbsp;--src&nbsp;&nbsp;&nbsp;&nbsp;----index.js&nbsp;&nbsp;&nbsp;&nbsp;--webpack.config.js&nbsp;&nbsp;&nbsp;&nbsp;--package.json&nbsp;&nbsp;&nbsp;&nbsp;--package-lock.json æ‰“å¼€src/index.js,éšä¾¿å†™ç‚¹ä»€ä¹ˆ,ç„¶ååœ¨dist/index.htmlä¸­å¼•å…¥ä¸€ä¸‹ï¼š &nbsp;&nbsp;&nbsp;&nbsp;//src/index.js&nbsp;&nbsp;&nbsp;&nbsp;console.log('hello&nbsp;world');&nbsp;&nbsp;&nbsp;&nbsp;//dist/index.html&nbsp;&nbsp;&nbsp;&nbsp;&lt;script&nbsp;src=\"index.js\"&gt;&lt;/script&gt; æ‰“å¼€webpack.config.jsæ–‡ä»¶ï¼Œå…ˆå†™ä¸€äº›åŸºæœ¬çš„é…ç½®ï¼š &nbsp;&nbsp;module.exports={&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;å…¥å£æ–‡ä»¶&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entry:'./src/index.js',&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;å‡ºå£&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output:{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path:__dirname+'/dist',&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filename:'index.js'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;å…³äºloader&nbsp;é…ç½®&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module:{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//æ’ä»¶çš„é…ç½®&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plugins:[],&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;æœåŠ¡å™¨çš„é…ç½®&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;devServer:{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;} è¿™æ—¶å€™åœ¨ç»ˆç«¯è¾“å…¥webpackå³å¯æ‰“åŒ…ï¼Œå¯ä»¥çœ‹åˆ°åœ¨distæ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆäº†ä¸€ä¸ªindex.js,æ‰“å¼€dist/index.html,æ§åˆ¶å°ä¹Ÿé¡ºåˆ©è¾“å‡ºhello worldã€‚ tips å…³äºè¾“å‡ºè·¯å¾„ï¼Œ__dirnameæ˜¯nodeçš„ä¸€ç§æ–¹æ³•ï¼ŒæŒ‡çš„å°±æ˜¯å½“å‰æ¨¡å—çš„ç›®å½•ï¼Œæ‰€ä»¥åœ¨è¾“å‡ºè·¯å¾„ä¸­æˆ‘ä»¬ä½¿ç”¨__dirname+'dist'ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™ç§æ–¹æ³•ï¼š &nbsp;&nbsp;const&nbsp;path=require('path');&nbsp;&nbsp;module.exports={&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;å…¥å£æ–‡ä»¶&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entry:'./src/index.js',&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;å‡ºå£&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output:{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path:path.resolve(__dirname,'dist'),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filename:'index.js'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;å…³äºloader&nbsp;é…ç½®&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module:{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//æ’ä»¶çš„é…ç½®&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plugins:[],&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;æœåŠ¡å™¨çš„é…ç½®&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;devServer:{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;} ä¿®æ”¹webpack.config.jsæ–‡ä»¶åå­— webpack.config.jsæ–‡ä»¶åå­—ä¹Ÿæ˜¯å¯ä»¥è¿›è¡Œä¿®æ”¹çš„ï¼Œåªæ˜¯æ‰§è¡Œæ—¶å€™å‘½ä»¤æœ‰æ‰€æ”¹å˜,æ¯”å¦‚å§webpack.config.jsæ”¹ä¸ºdemo.config.js,æ‰§è¡Œæ—¶å€™å¦‚ä¸‹ï¼š &nbsp;&nbsp;&nbsp;&nbsp;webpack&nbsp;--config&nbsp;demo.config.js&nbsp;","link":"https://lonjinup.github.io/webpack4-01/"},{"title":"å¾®ä¿¡å°ç¨‹åºå¼€å‘æ€»ç»“","content":"å¾®ä¿¡å°ç¨‹åºæ€»ç»“ è¿‘ä¸€å¹´å†™äº†æŒºå¤šå°ç¨‹åºï¼Œä¸€ç›´æ²¡æœ‰ç³»ç»ŸåŒ–æ•´ç†è¿‡å°ç¨‹åºç›¸å…³çŸ¥è¯†ä½“ç³»ï¼Œæœ€è¿‘é¢è¯•æ—¶å€™ä¹Ÿæœ‰è¢«é—®åˆ°å°ç¨‹åºç›¸å…³çš„ä¸€äº›é—®é¢˜ã€‚è¿™é‡Œå¤§ä½“æ•´ç†ä¸€ä¸‹ï¼Œå†…å®¹ä¹Ÿä¼šä¸æ–­è¡¥å……ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥å…ˆèµåçœ‹,é¡ºä¾¿åŠ ä¸ªå…³æ³¨ï¼ å¼€å‘æŠ€å·§ è‡ªå®šä¹‰TabBar ç›®å‰å¾ˆå¤šä¸šåŠ¡åœºæ™¯ä¸‹ï¼Œéƒ½ä¸ä¼šç”¨å°ç¨‹åºåŸç”Ÿçš„TabBarï¼Œä¸€æ–¹é¢æ˜¯å¾®ä¿¡æä¾›çš„TabBaræ ·å¼å¤ªè¿‡å•ä¸€ï¼Œå¦ä¸€æ–¹é¢å¯èƒ½ä¸šåŠ¡éœ€è¦æ ¹æ®ç”¨æˆ·ç”¨æˆ·ç±»åˆ«å±•ç¤ºä¸åŒçš„TabBarã€‚ å°ç¨‹åºå®˜æ–¹è‡ªå®šä¹‰TabBar æ­¤æ–¹æ³•é€‚ç”¨äºä»…æ˜¯ä¿®æ”¹TabBaræ ·å¼ä½¿ç”¨ã€‚ åœ¨app.jsonä¸­çš„ tabBar é¡¹æŒ‡å®š custom å­—æ®µï¼ŒåŒæ—¶å…¶ä½™ tabBar ç›¸å…³é…ç½®ä¹Ÿè¡¥å……å®Œæ•´ã€‚ æ‰€æœ‰ tab é¡µçš„ json é‡Œéœ€å£°æ˜ usingComponents é¡¹ï¼Œä¹Ÿå¯ä»¥åœ¨ app.json å…¨å±€å¼€å¯ã€‚ { &quot;tabBar&quot;: { &quot;custom&quot;: true, &quot;color&quot;: &quot;#000000&quot;, &quot;selectedColor&quot;: &quot;#000000&quot;, &quot;backgroundColor&quot;: &quot;#000000&quot;, &quot;list&quot;: [{ &quot;pagePath&quot;: &quot;page/index/index&quot;, &quot;text&quot;: &quot;é¦–é¡µ&quot; }, { &quot;pagePath&quot;: &quot;page/my/index&quot;, &quot;text&quot;: &quot;æˆ‘çš„&quot; }] }, &quot;usingComponents&quot;: {} } åŒæ—¶åœ¨å°ç¨‹åºé¡¹ç›®æ–‡ä»¶æ ¹ç›®å½•ä¸‹åˆ›å»ºcustom-tab-baræ–‡ä»¶å¤¹ï¼šå†…å®¹å¦‚å›¾ï¼š ç»„ä»¶åŒ–å®ç°TabBar è¿™ç§æ–¹å¼é€‚åˆè¿™æ ·çš„ä¸šåŠ¡åœºæ™¯ï¼šæ ¹æ®ç”¨æˆ·æƒé™ä¸åŒï¼Œå±•ç¤ºç›¸åº”çš„tabBarã€‚ä¹‹å‰åšè¿‡ä¸€ä¸ªå°ç¨‹åºï¼Œæ™®é€šç”¨æˆ·ç™»å½•çš„è¯è¿›æ¥æ˜¯å•†åŸï¼ŒtabBarå¯¹åº”çš„ä¹Ÿæ˜¯å•†åŸç›¸å…³çš„é¡µé¢ï¼Œç®¡ç†å‘˜ç™»å½•çš„è¯å±•ç¤ºçš„æ˜¯ç®¡ç†ç«¯é¡µé¢ï¼ŒtabBarå¯¹åº”ä¹Ÿå°±æ˜¯ç®¡ç†ç«¯ç›¸å…³é¡µé¢ã€‚ æˆ‘ä»¬å¯ä»¥æ–°å»ºä¸€ä¸ªhomeæ–‡ä»¶å¤¹ï¼Œåœ¨home/index.wxmlä¸­å†™ä¸€ä¸ªtabBarï¼Œç„¶åæŠŠTabBaré¡µé¢å†™æˆç»„ä»¶ï¼Œç„¶åç‚¹å‡»****åˆ‡æ¢ç›¸åº”çš„ç»„ä»¶å±•ç¤ºå°±å¯ä»¥ã€‚ 1rpxé—®é¢˜ å°ç¨‹åºä¸­æœ‰æ—¶å€™éœ€è¦å®šä¹‰border:1rpx,çœŸæœºä¸Šæœ‰æ—¶å€™ä¼šæ˜¾ç¤ºä¸å…¨ï¼Œåªéœ€è¦æ”¹æˆborder:1pxå³å¯ éª¨æ¶å± ç°åœ¨ä¸ºäº†æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œå¾ˆå¤šåº”ç”¨åœ¨loadingæ—¶å€™ä¼šå±•ç¤ºå ä½å›¾ï¼Œå°ç¨‹åºä¸­ä¹Ÿæä¾›äº†ä¸€é”®ç”Ÿæˆéª¨æ¶å±ä»£ç ã€‚ ä¸‹è½½å¹¶å®‰è£… 1.03.2006032 æˆ– 1.04.2006032 ä»¥ä¸Šç‰ˆæœ¬çš„å¼€å‘è€…å·¥å…·ï¼Œç‚¹å‡»æ¨¡æ‹Ÿå™¨å³ä¸‹è§’ç”Ÿæˆéª¨æ¶å±å³å¯ã€‚ canvaså›¾ç‰‡ä¸‹è½½åæ¨¡ç³Š æœ‰æ—¶å€™æˆ‘ä»¬ç”¨canvasç»˜åˆ¶çš„å›¾ç‰‡é¢„è§ˆæ—¶å€™çœ‹èµ·æ¥å¾ˆæ¸…æ™°ï¼Œä½†æ˜¯ä¸‹è½½åˆ°æœ¬åœ°è¿˜æ˜¯ä¼šå¾ˆæ¨¡ç³Šï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸‹è½½æ—¶å€™canvasè¾“å‡ºå›¾ç‰‡å®½é«˜*2ï¼Œæ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š wx.canvasToTempFilePath({ x: 0, //æŒ‡å®šçš„ç”»å¸ƒåŒºåŸŸçš„å·¦ä¸Šè§’æ¨ªåæ ‡ y: 0, //æŒ‡å®šçš„ç”»å¸ƒåŒºåŸŸçš„å·¦ä¸Šè§’çºµåæ ‡ width: 200, //æŒ‡å®šçš„ç”»å¸ƒåŒºåŸŸçš„å®½åº¦ height: 260, //æŒ‡å®šçš„ç”»å¸ƒåŒºåŸŸçš„é«˜åº¦ destWidth: 400, //è¾“å‡ºçš„å›¾ç‰‡çš„å®½åº¦ æŒ‡å®šçš„ç”»å¸ƒåŒºåŸŸçš„å®½åº¦*2 destHeight: 520, //è¾“å‡ºçš„å›¾ç‰‡çš„é«˜åº¦ æŒ‡å®šçš„ç”»å¸ƒåŒºåŸŸçš„é«˜åº¦*2 canvasId: 'posterCanvas', fileType: 'jpg', //å›¾ç‰‡çš„è´¨é‡ï¼Œç›®å‰ä»…å¯¹ jpg æœ‰æ•ˆã€‚å–å€¼èŒƒå›´ä¸º (0, 1]ï¼Œä¸åœ¨èŒƒå›´å†…æ—¶å½“ä½œ 1.0 å¤„ç†ã€‚ quality: 1, success: function (res) { ... } }) å°ç¨‹åºåŠ¨ç”» å†™å°ç¨‹åºè‚¯å®šé¿å…ä¸äº†ä¸€äº›å°åŠ¨ç”»ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨animate.cssæ¥å®Œæˆã€‚ (1) é¦–å…ˆä¸‹è½½animate.css,ç„¶åä¿®æ”¹åç¼€ä¸ºwxss (2) åœ¨app.wxssä¸­å…¨å±€å¼•å…¥ã€‚ (3) é¡µé¢ä¸­åŠ å…¥å¯¹åº”ç±»åå³å¯ä½¿ç”¨ã€‚ &lt;!-- app.wxss --&gt; @import '/animate.wxss'; &lt;!-- é¡µé¢ä¸­ --&gt; &lt;view class=&quot;animated fadeInLeft&quot;&gt; &lt;/view&gt; ç›´æ’­åŠŸèƒ½ ç›®å‰å¾ˆå¤šå°ç¨‹åºå•†åŸéƒ½å¸¦æœ‰ç›´æ’­åŠŸèƒ½ï¼Œç„¶è€Œå¦‚æœä»0åˆ°1å†™ä¸ªç›´æ’­çš„è¯ï¼Œå·¥ä½œé‡è¿˜æ˜¯éå¸¸å¤§çš„ï¼Œå°ç¨‹åºå®˜æ–¹ä¹Ÿæä¾›äº†ç›´æ’­ç»„ä»¶ï¼Œä¼˜ç‚¹æ˜¯å¼€å‘éš¾åº¦ä½ï¼Œèƒ½å¤§å¤§é™ä½å¼€å‘å‘¨æœŸã€‚é’ˆå¯¹ä¸å¤ªå¤æ‚çš„ä¸šåŠ¡åœºæ™¯è¿˜æ˜¯å¤Ÿç”¨çš„ã€‚ æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ é…ç½®ç›´æ’­ ç›´æ¥åœ¨app.jsonä¸­å¼•å…¥æ’ä»¶ &quot;plugins&quot;: { &quot;live-player-plugin&quot;: { &quot;version&quot;: &quot;1.0.4&quot;, // æ³¨æ„å¡«å†™è¯¥ç›´æ’­ç»„ä»¶æœ€æ–°ç‰ˆæœ¬å·ï¼Œå¾®ä¿¡å¼€å‘è€…å·¥å…·è°ƒè¯•æ—¶å¯è·å–æœ€æ–°ç‰ˆæœ¬å·ï¼ˆå¤åˆ¶æ—¶è¯·å»æ‰æ³¨é‡Šï¼‰ &quot;provider&quot;: &quot;wx2b03c6e691cd7370&quot; // å¿…é¡»å¡«è¯¥ç›´æ’­ç»„ä»¶appidï¼Œè¯¥ç¤ºä¾‹å€¼å³ä¸ºç›´æ’­ç»„ä»¶appidï¼ˆå¤åˆ¶æ—¶è¯·å»æ‰æ³¨é‡Šï¼‰ } } è¿›å…¥ç›´æ’­é—´ live:function(){ let roomId = [ç›´æ’­æˆ¿é—´id] // æˆ¿é—´å· let customParams = { path: 'pages/index/index', pid: 1 } // å¼€å‘è€…åœ¨ç›´æ’­é—´é¡µé¢è·¯å¾„ä¸Šæºå¸¦è‡ªå®šä¹‰å‚æ•°ï¼ˆå¦‚ç¤ºä¾‹ä¸­çš„pathå’Œpidå‚æ•°ï¼‰ï¼Œåç»­å¯ä»¥åœ¨åˆ†äº«å¡ç‰‡é“¾æ¥å’Œè·³è½¬è‡³å•†è¯¦é¡µæ—¶è·å–ï¼Œè¯¦è§ã€è·å–è‡ªå®šä¹‰å‚æ•°ã€‘ã€ã€ç›´æ’­é—´åˆ°å•†è¯¦é¡µé¢æºå¸¦å‚æ•°ã€‘ç« èŠ‚ this.setData({ roomId, customParams: encodeURIComponent(JSON.stringify(customParams)) }) } åˆ›å»ºç›´æ’­ é—®é¢˜æ¥äº†ï¼Œåœ¨å“ªåˆ›å»ºç›´æ’­é—´å•Šï¼Ÿçœ‹å›¾å³å¯ é¦–å…ˆç™»å½•å¾®ä¿¡å°ç¨‹åºåå°ï¼Œæ‰¾åˆ°ç›´æ’­ã€‚ åˆ›å»ºç›´æ’­ é€‰æ‹©ç›´æ’­å½¢å¼ å¡«å†™åŸºæœ¬ä¿¡æ¯ é…ç½®ç›´æ’­é—´æ ·å¼ ç›´æ’­é—´æ ·å¼ å¥½äº†ï¼Œä¸€ä¸ªç›´æ’­å°±åˆ›å»ºå®Œæˆäº†ï¼Œæ­¤æ—¶ä½ ä¼šå¾—åˆ°ä¸€ä¸ªæˆ¿é—´å·ï¼Œåœ¨è‡ªå·±æ­å»ºçš„å°ç¨‹åºåå°ä¸Šä¼ ä¸€ä¸‹æˆ¿é—´å·ï¼Œå³å¯è§‚çœ‹ç›´æ’­ã€‚è¿™ç§å¯¹äºå•å•†æˆ·å¹³å°æå…¶å‹å¥½ï¼Œå¼€å‘ä¹Ÿéå¸¸çœäº‹çœåŠ›ã€‚ æ·»åŠ å•†å“ åå°å»ºç«‹å•†å“åº“ï¼Œå¡«å†™ç›¸å…³å‚æ•°å³å¯ã€‚ æ¨æµç›´æ’­ çœ‹è¿™ç¯‡æ–‡ç« å°ç¨‹åºæ¨æµé…ç½® å…¶ä»–åŠŸèƒ½ ç›´æ’­é—´è¿˜å¯ä»¥åˆ›å»ºæŠ½å¥–ï¼Œä¼˜æƒ åˆ¸ï¼Œä»¥åŠæ‹‰é»‘ç”¨æˆ·ç­‰åŠŸèƒ½ã€‚ä¹Ÿå¯ä»¥åœ¨åå°è®¾ç½®ç®¡ç†å‘˜è¿›è¡Œç®¡ç†ã€‚ å¸¸ç”¨æ–¹æ³•å°è£… å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸€äº›å¸¸ç”¨æ–¹æ³•å°è£…ä¸€ä¸‹ï¼Œè¿™æ ·åœ¨é¡µé¢ä¸­è°ƒç”¨ä¼šç®€æ´å¾ˆå¤šã€‚æˆ‘ä»¬å¯ä»¥åœ¨æ ¹ç›®å½•ä¸‹å»ºç«‹utils/utils.js,å°è£…å¸¸ç”¨æ–¹æ³•ï¼Œä¸‹é¢åˆ—ä¸¾ä¸€ä¸€äº›å¸¸ç”¨æ–¹æ³•ï¼š // utils.js //å°ç¨‹åºæç¤ºè¯­ function wxshowToast(title, icon, time, fn) { !icon?icon='none' !time?time=2000 wx.showToast({ title: String(title), icon: icon, duration: time, success: function() { fn?fn():'' }, fail:function(err){ console.log(err) } }) }; //requestè¯·æ±‚ // æ¥å£åœ°å€ const baseUrl='https://xxxx.com'; function https(method,url,data){ //loading wx.showLoading({ title: 'åŠ è½½ä¸­...' }); //è®¾ç½®è¯·æ±‚å¤´ var header = { 'Content-Type':'application/json' }; //æ£€æŸ¥ç¼“å­˜ä¸­æœ‰æ²¡æœ‰token var token = wx.getStorageSync('token'); if (token != '') { header.Authorization = token } return new Promise((resolve,reject)=&gt;{ wx.request({ url:baseUrl+url, data: data, header: header, method: method, complete: (res) =&gt; { wx.hideLoading() if(res.statusCode==200){ if(res.data.status){ resolve(res.data.data) }else{ wxshowToast(res.data.msg) reject(res.data.data) } }else if (res.statusCode === 401) { //æ²¡æœ‰ç™»å½•è½¬è·³åˆ°ç™»å½•é¡µé¢ wx.reLaunch({ url: '/pages/login/index' }) }else{ wxshowToast('è¯·æ±‚å¤±è´¥,è¯·ç¨åé‡è¯•'); } } }) }) }; //å¯¼å‡ºæ–¹æ³• module.exports = { wxshowToast, _https:https, baseUrl, }; // é¡µé¢ä¸­ä½¿ç”¨ //å¼•å…¥util.js const util=require('../../utils/utils'); // å‘é€ä¸€ä¸ªè¯·æ±‚ util._https('get','/api/login') .then((res)=&gt;{ ... }) æ€§èƒ½ä¼˜åŒ– å¤§å®¶åº”è¯¥å‘ç°æœ‰çš„å°ç¨‹åºæ‰“å¼€é€Ÿåº¦ç‰¹åˆ«å¿«ï¼Œè€Œæœ‰çš„åˆ™éå¸¸æ…¢ï¼Œæ‰€ä»¥ä¸ºäº†ç”¨æˆ·ä½“éªŒï¼Œæ€§èƒ½ä¼˜åŒ–è¿˜æ˜¯éå¸¸æœ‰å¿…è¦çš„ã€‚ä¹‹å‰ä¹Ÿçœ‹è¿‡å¤§ä½¬çš„æ–‡ç« ï¼Œå—ç›ŠåŒªæµ…ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥çœ‹ä¸€çœ‹ğŸ‘‰äº¬å–œå°ç¨‹åºçš„é«˜æ€§èƒ½æ‰“é€ ä¹‹è·¯ã€‚ æ•´ä½“ä¼˜åŒ– ï¼ˆ1ï¼‰ä¸Šä¼ ä»£ç æ—¶å€™è¿›è¡Œå‹ç¼©(å¼€å‘å·¥å…·ä¸­å³ä¾§å¯ä»¥å‹¾é€‰)ã€‚ ï¼ˆ2ï¼‰ å°½é‡æŠŠæ— ç”¨ä»£ç åˆ é™¤ï¼Œé¿å…ä»£ç å†—ä½™ã€‚ ï¼ˆ3ï¼‰éå¿…è¦å›¾ç‰‡æ”¾åœ¨æœåŠ¡å™¨ï¼Œä¸è¦æ”¾åˆ°ä»£ç åŒ…ä¸­ï¼Œä¸ç”¨çš„æœ¬åœ°å›¾ç‰‡å°½é‡åˆ é™¤ã€‚ ï¼ˆ4ï¼‰å‹ç¼©cssæ–‡ä»¶ã€‚ ï¼ˆ5ï¼‰åˆ†åŒ…é¢„åŠ è½½ï¼Œå…·ä½“ä½¿ç”¨æ–‡æ¡£ ä»£ç å±‚é¢ä¼˜åŒ– æ¥å£åˆå¹¶ åœ¨å°ç¨‹åºä¸­wx.requestæœ€å¤§å¹¶å‘æ˜¯10ä¸ªï¼Œå¦‚æœè¶…å‡º10ä¸ªå°±ä¼šé˜»å¡åé¢çš„æ‰§è¡Œï¼Œæ‰€ä»¥æŠŠç›¸ä¼¼æ¥å£å°½å¯èƒ½çš„åˆå¹¶ã€‚ setDataä¼˜åŒ– ï¼ˆ1ï¼‰åœ¨ä¸šåŠ¡é€»è¾‘ä¸­ï¼Œå°½å¯èƒ½çš„åˆå¹¶setDataè°ƒç”¨ ï¼ˆ2ï¼‰é¡µé¢æ¸²æŸ“ç›¸å…³çš„æ•°æ®æ”¾åˆ°dataä¸­ ï¼ˆ3ï¼‰é¿å…æ›´æ–°é‡å†™setDataä¸­çš„å€¼ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨dataä¸­æœ‰ä¸€ä¸ªlistæ•°ç»„ï¼Œä¿®æ”¹æ•°ç»„æŸé¡¹æˆ‘ä»¬å¯ä»¥è¿›è¡Œå±€éƒ¨ä¿®æ”¹ï¼Œä»£ç å¦‚ä¸‹ï¼š // æ¥å£è¿”å›listèµ‹å€¼ this.setData({ list }); //å±€éƒ¨æ›´æ–° this.setData({ 'list[0].name': list[0].name }); é¦–å±ä¼˜åŒ– ç›®å‰å¤§å¤šæ•°ç”µå•†å°ç¨‹åºé‡‡ç”¨çš„éƒ½æ˜¯éª¨æ¶å±+é¦–å±åˆ†å±æ¸²æŸ“ã€‚åœ¨åˆšè¿›å…¥é¡µé¢æ—¶å€™å±•ç¤ºéª¨æ¶å±ï¼Œç„¶åå±•ç¤ºé¦–å±æ‰€éœ€è¦çš„æ¨¡å—ã€‚æ¯”å¦‚ä¸€ä¸ªç”µå•†å°ç¨‹åºï¼Œé¦–é¡µå¯èƒ½ä¼šåˆ†ä¸ºï¼šbanner+å•†å“åˆ†ç±»+ç‰¹ä»·ä¼˜æƒ +æ¨èäº§å“åˆ—è¡¨ã€‚æˆ‘ä»¬ç¬¬ä¸€å±çœ‹åˆ°çš„å¯èƒ½åªæœ‰ï¼šbanner+å•†å“åˆ†ç±»+ç‰¹ä»·ä¼˜æƒ è¿™äº›ã€‚å½“æ‹¿åˆ°æ•°æ®ä»¥åï¼Œæˆ‘ä»¬ä¼˜å…ˆæ¸²æŸ“é¦–å±æ¨¡å—ï¼Œç­‰é¦–å±æ¨¡å—å…¨éƒ¨æ¸²æŸ“å®Œæˆåå†æ¸²æŸ“éé¦–å±æ¨¡å—ã€‚ å°ç¨‹åºæ€§èƒ½æ£€æµ‹å·¥å…· å°ç¨‹åºå®˜æ–¹é’ˆå¯¹å°ç¨‹åºæ€§èƒ½è¡¨ç°åˆ¶è®¢äº†æƒå¨çš„æ•°å€¼æŒ‡æ ‡ï¼Œä¸»è¦å›´ç»• æ¸²æŸ“è¡¨ç°ã€setDataæ•°æ®é‡ã€å…ƒç´ èŠ‚ç‚¹æ•°å’Œç½‘ç»œè¯·æ±‚å»¶æ—¶ è¿™å‡ ä¸ªç»´åº¦æ¥ç»™äºˆå®šä¹‰,å‚è€ƒæ–‡æ¡£ï¼šå°ç¨‹åºæ€§èƒ½ä¼˜åŒ–ã€‚ åŒæ—¶å°ç¨‹åºä¹Ÿæä¾›äº†ä½“éªŒè¯„åˆ†å·¥å…·ï¼šAuditsé¢æ¿ï¼Œä½¿ç”¨æ–¹æ³•ä¹Ÿéå¸¸ç®€å•ï¼Œåœ¨è°ƒè¯•åŒºæ‰¾åˆ°Audits,ç‚¹å‡»è¿è¡Œï¼Œç„¶åä¾æ¬¡æ‰“å¼€æ¯ä¸ªé¡µé¢ï¼Œç‚¹å‡» â€œåœæ­¢&quot; åˆ™ç»“æŸæ£€æµ‹å³å¯æŸ¥çœ‹å¾—åˆ†æƒ…å†µä»¥åŠæ£€æµ‹æŠ¥å‘Šï¼Œå¯ä»¥å¿«é€Ÿå®šä¹‰åˆ°ä¸€äº›é—®é¢˜ç‚¹ï¼Œç„¶åè¿›è¡Œä¼˜åŒ–ã€‚ ç»“å°¾ ç›®å‰å°±æ€»ç»“è¿™ä¹ˆå¤šäº†ï¼Œæœ‰æ–°å†…å®¹ä¼šéšæ—¶è¿›è¡Œè¡¥å……ï¼Œå¦‚æœæœ‰å…¶ä»–å†…å®¹ä¹Ÿå¯ä»¥è¯„è®ºæå‡ºæ¥æˆ‘è¿›è¡Œè¡¥å……ã€‚æœ€åå¸Œæœ›å¤§å®¶èƒ½å¤Ÿç‚¹èµğŸ‘+å…³æ³¨æ”¯æŒä¸€ä¸‹ã€‚ ","link":"https://lonjinup.github.io/xiaochengxu/"},{"title":"å¿«é€Ÿå…¥é—¨TypeScript","content":"TypeScriptåŸºç¡€çŸ¥è¯†æ¢³ç† ä¹‹å‰ä¸€ç›´æ‰“ç®—çœ‹çœ‹tsï¼Œä½†ä¸€ç›´æ²‰è¿·æ‘¸ğŸŸæ— æ³•è‡ªæ‹”ï¼Œå…¬å¸ç›®å‰é¡¹ç›®ä¸­ä¹Ÿæ²¡æœ‰tsé¡¹ç›®ã€‚ä»Šå¹´æ‰‹ä¸Šæ­£å¥½æœ‰ä¸¤ä¸ªå°ç¨‹åºé¡¹ç›®ï¼Œäºæ˜¯æ‰“ç®—ç”¨tså†™ä¸€ä¸‹ï¼Œæ„Ÿå—ä¸€ä¸‹tsçš„â€œé­…åŠ›â€ã€‚é¡ºä¾¿æ•´ç†äº†ä¸€ä¸‹å­¦ä¹ ç¬”è®°ï¼Œå¸Œæœ›èƒ½å¸®åˆ°æœ‰éœ€è¦çš„äººã€‚åŒæ—¶ä¹Ÿç”¨XMindåšäº†çŸ¥è¯†å›¾è°±ï¼Œæœ‰éœ€è¦æºæ–‡ä»¶çš„å¯ä»¥è”ç³»æˆ‘ã€‚ å®‰è£…ä¸ç¼–è¯‘ å®‰è£… npm install -g typescript //macä¸‹å®‰è£…å‰é¢éœ€è¦åŠ sudo ç¼–è¯‘ å¯ä»¥æ‰§è¡Œä¸‹é¢å‘½ä»¤è¿›è¡Œç¼–è¯‘ï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹äº§ç”Ÿä¸€ä¸ªtest.jsæ–‡ä»¶ tsc test.ts è¿™æ ·å¯èƒ½è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©æ’ä»¶æ–¹ä¾¿æˆ‘ä»¬æé«˜æ•ˆç‡ï¼š npm install -g ts-node å®‰è£…å®Œååªéœ€æ‰§è¡Œts-node test.tså°±å¯ä»¥åœ¨æ§åˆ¶å°æŸ¥çœ‹è¾“å‡ºç»“æœã€‚ åŸå§‹æ•°æ®ç±»å‹ jsä¸­æ•°æ®ç±»å‹åˆ†ä¸¤ç§ï¼ŒåŸå§‹æ•°æ®ç±»å‹å’Œå¯¹è±¡ç±»å‹ï¼ŒåŸå§‹ç±»å‹åŒ…æ‹¬ï¼šå¸ƒå°”å€¼ã€æ•°å­—ã€å­—ç¬¦ä¸²ã€nullã€undefinedä»¥åŠSymbolã€‚ å¸ƒå°”å€¼ åœ¨TypeScriptä¸­ï¼Œä½¿ç”¨booleanå®šä¹‰å¸ƒå°”å€¼ç±»å‹ let isStatus:boolean=true; æ•°å­— ä½¿ç”¨numberå®šä¹‰æ•°å€¼ç±»å‹ let isNumber:number=1; //16è¿›åˆ¶(ç¼–è¯‘åæ˜¾ç¤º10è¿›åˆ¶æ•°å­—) let isNumber16:number:=0b1010; å­—ç¬¦ä¸² ä½¿ç”¨stringå®šä¹‰å­—ç¬¦ä¸²ç±»å‹ï¼š let isString:string='hello word'; let year:number=2020; let add:string=`${isString},${year}!`; ç©ºå€¼ JavaScript æ²¡æœ‰ç©ºå€¼ï¼ˆVoidï¼‰çš„æ¦‚å¿µï¼Œåœ¨TypeScriptä¸­ï¼Œå¯ä»¥ç”¨voidè¡¨ç¤ºæ²¡æœ‰ä»»ä½•è¿”å›å€¼çš„å‡½æ•°. function alertName():void{ alert(&quot;my name is tom&quot;) } å£°æ˜ä¸€ä¸ª void ç±»å‹çš„å˜é‡æ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œå› ä¸ºä½ åªèƒ½å°†å®ƒèµ‹å€¼ä¸º undefined å’Œ nullã€‚ let unusable: void = undefined; Null å’Œ Undefined åœ¨TypeScriptä¸­å¯ä»¥ä½¿ç”¨nullå’Œundefinedæ¥å®šä¹‰è¿™ä¸¤ä¸ªåŸå§‹æ•°æ®ç±»å‹ let u:undefined=undefined; let n:null=null; ä¸ void çš„åŒºåˆ«æ˜¯ï¼Œundefined å’Œ null æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ã€‚ä¹Ÿå°±æ˜¯è¯´undefinedç±»å‹çš„å˜é‡ï¼Œå¯ä»¥èµ‹å€¼ç»™numberç±»å‹çš„å˜é‡ï¼Œè€Œvoidç±»å‹çš„å˜é‡ä¸èƒ½èµ‹å€¼ç»™numberç±»å‹çš„å˜é‡ï¼š let num:number=undefined;//ä¸ä¼šæŠ¥é”™ let u:undefined; let num: number = u;//ä¹Ÿä¸ä¼šæŠ¥é”™ let u:void; let num:number=u;// Type 'void' is not assignable to type 'number'. ä»»æ„å€¼ ä»»æ„å€¼ï¼ˆAnyï¼‰ç”¨æ¥è¡¨ç¤ºå…è®¸èµ‹å€¼ä¸ºä»»æ„ç±»å‹ã€‚ ä»€ä¹ˆæ˜¯ä»»æ„å€¼ç±»å‹ å¦‚æœæ˜¯ä¸€ä¸ªæ™®é€šç±»å‹ï¼Œåœ¨èµ‹å€¼è¿‡ç¨‹ä¸­æ”¹å˜ç±»å‹æ˜¯ä¸è¢«å…è®¸çš„ï¼š let renyiString:string='string'; renyiString=8; //Type 'number' is not assignable to type 'string'. ä½†å¦‚æœç±»å‹æ˜¯Any,ç±»å‹ï¼Œåˆ™å…è®¸è¢«èµ‹å€¼ä¸ºä»»æ„ç±»å‹: let renyiString:any='string'; renyiString=8; åœ¨ä»»æ„å€¼ä¸Šè®¿é—®ä»»ä½•å±æ€§éƒ½æ˜¯å…è®¸çš„ï¼š let anyThis:any='hello'; console.log(anyThis.myName) console.log(anyThis.myName.firstName) ä¹Ÿå…è®¸è°ƒç”¨ä»»ä½•æ–¹æ³•ï¼š let anyThing: any = 'Tom'; anyThing.setName('Jerry'); anyThing.setName('Jerry').sayHello(); anyThing.myName.setFirstName('Cat'); å¯ä»¥è®¤ä¸ºï¼Œå£°æ˜ä¸€ä¸ªå˜é‡ä¸ºä»»æ„å€¼ä¹‹åï¼Œå¯¹å®ƒçš„ä»»ä½•æ“ä½œï¼Œè¿”å›çš„å†…å®¹çš„ç±»å‹éƒ½æ˜¯ä»»æ„å€¼ã€‚ æœªå£°æ˜ç±»å‹çš„å˜é‡ å˜é‡å¦‚æœåœ¨å£°æ˜çš„æ—¶å€™ï¼ŒæœªæŒ‡å®šå…¶ç±»å‹ï¼Œé‚£ä¹ˆå®ƒä¼šè¢«è¯†åˆ«ä¸ºä»»æ„å€¼ç±»å‹ï¼š let something; something = 'seven'; something = 7; something.setName('Tom'); ç­‰äº let something: any; something = 'seven'; something = 7; something.setName('Tom'); æ•°ç»„çš„ç±»å‹ åŸºç¡€è¡¨ç¤º ã€Œç±»å‹ + æ–¹æ‹¬å·ã€è¡¨ç¤ºæ³• let numbers:number[]=[1,2,3,4,5] æ­¤æ—¶ä¸å…è®¸å‡ºç°å…¶ä»–ç±»å‹ï¼Œè€Œä¸”å¦‚æœä½¿ç”¨æ•°ç»„ä¸­pushç­‰æ–¹æ³•ï¼Œæ·»åŠ å…ƒç´ ä¹Ÿå¾—ç¬¦åˆç›¸åº”ç±»å‹ã€‚ æ•°ç»„æ³›å‹ æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„æ³›å‹ï¼ˆArray Genericï¼‰ Array&lt;elemType&gt; æ¥è¡¨ç¤ºæ•°ç»„ let fibonacci:Array&lt;number&gt;=[1,2,3,4,] å¦‚æœæ•°ç»„ä¸­åˆæœ‰numberç±»å‹åˆæœ‰stringç±»å‹ï¼Œåˆ™å¯ä»¥ç”¨ï½œç¬¦å·æ¥åŒºåˆ«å®šä¹‰ï¼š let arr:(number|string)[]=['tom',1]; æ•°ç»„ä¸­å¯¹è±¡ç±»å‹çš„å®šä¹‰ é¡¹ç›®ä¸­ç»å¸¸é‡åˆ°æ•°ç»„ä¸­æœ‰å¯¹è±¡çš„å­˜åœ¨ï¼Œå¯¹äºè¿™ç§å°±æ¯”è¾ƒéº»çƒ¦äº†ï¼Œæ¯”å¦‚ï¼š let arr:{name:string,age:number}[]=[ {name:'tom',age:18} ] è¿™æ ·å°±æ¯”è¾ƒéº»çƒ¦äº†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨tsä¸­çš„ç±»å‹åˆ«åæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š type PeopleType={name:String,age:Number}; let arr:PeopleType[]=[ {name:'bob',age:19} ] ä¹Ÿå¯ä»¥ç”¨ç±»å‹å®šä¹‰ä¹Ÿå¯ä»¥è§£å†³ï¼š class PeopleType{ name:string; age:number } let arr:PeopleType[]=[ {name:'bob',age:19} ] å…ƒç»„çš„ä½¿ç”¨å’Œç±»å‹çº¦æŸ åœ¨æ•°ç»„ä¸­å¦‚æœé‡Œé¢åˆæœ‰stringå’Œnumber,å¯ä»¥ä½¿ç”¨ï½œæ¥è¿›è¡Œå®šä¹‰ï¼Œä½†ä¸€å®šç¨‹åº¦ä¸Šå¹¶ä¸ä¸¥æ ¼ã€‚æ¯”å¦‚æ”¹æˆä¸‹é¢è¿™ç§æ ¼å¼ï¼š let arr:(number|string)[]=[111,'222',111]; tså¹¶æ²¡æœ‰æŠ¥é”™ï¼Œå¦‚æœæƒ³è¦ä¸¥æ ¼é™åˆ¶ï¼Œåˆ™å¯ä»¥è¿™æ ·è¿›è¡Œçº¦æŸï¼š let arr:[number,string,number]=[111,'222',111]; Interfaceæ¥å£ æ¯”å¦‚æˆ‘ä»¬è¦åšä¸€ä¸ªç­›é€‰ï¼Œå§ä¸ç¬¦åˆæ¡ä»¶çš„è¿‡æ»¤å‡ºå»ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šè¿™æ ·å†™ï¼š const types=(name:string,age:number,height:number)=&gt;{ age&gt;=20 &amp;&amp; height&gt;=180 &amp;&amp; console.log('ç¬¦åˆæ¡ä»¶'); age&lt;=20 &amp;&amp; height &lt;180 &amp;&amp;console.log('ä¸ç¬¦åˆ') }; types('tom',20,180) //ç¬¦åˆæ¡ä»¶ ä½†å¦‚æœåˆä¿®æ”¹äº†ä¸€äº›éœ€æ±‚ï¼Œå¯èƒ½è¿˜ä¼šå»å¤§é‡å˜æ›´ä»£ç ï¼Œåœ¨å¼€å‘ä¸­ï¼Œä»£ç èƒ½å¤ç”¨è‚¯å®šæ˜¯æœ€å¥½çš„ï¼Œæ‰€ä»¥å¯ä»¥æŠŠä¸€äº›é‡å¤çš„ä»£ç æŠ½ç¦»å‡ºæ¥ï¼š interface People{ name:string; age:number; height:number; } const types=(people:People)=&gt;{ people.age&gt;=20 &amp;&amp; people.height&gt;=180 &amp;&amp; console.log('ç¬¦åˆæ¡ä»¶'); people.age&lt;=20 &amp;&amp; people.height &lt;180 &amp;&amp;console.log('ä¸ç¬¦åˆ') }; const choose=(people:People)=&gt;{ console.log(people.name+'----'+people.age+'---'+people.height) } const people={ name:'tom', age:18, height:178 } types(people); choose(people); æ¥å£ä¸ç±»å‹åˆ«åçš„åŒºåˆ« çœ‹èµ·æ¥ä¸¤è€…æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œä½†æœ‰ä¸ªå°ç»†èŠ‚ï¼šç±»å‹åˆ«åå¯ä»¥ç›´æ¥ç»™ç±»å‹ï¼Œæ¥å£å¿…é¡»ä»£è¡¨å¯¹è±¡ type People=string; interface People{ name:string; age:number; height:number; } å¦‚æœä¼ å…¥çš„å‚æ•°ä¸­æœ‰ä¸ç¡®å®šé¡¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ?: æ¥è¿›è¡Œå¤„ç†ï¼š interface People{ name:string; age:number; height:number; say?:string }; const types=(people:People)=&gt;{ people.age&gt;=20 &amp;&amp; people.height&gt;=180 &amp;&amp; console.log('ç¬¦åˆæ¡ä»¶'); people.age&lt;=20 &amp;&amp; people.height &lt;180 &amp;&amp;console.log('ä¸ç¬¦åˆ') }; const people={ name:'tom', age:18, height:178 } const people2={ name:'tom', age:18, height:178, say:'hello' } types(people); types(people2); è¿™æ—¶å€™åˆæœ‰æ–°éœ€æ±‚äº†ï¼Œå¦‚ä½•åœ¨åé¢åŠ å…¥ä»»æ„å¤šçš„å­—æ®µï¼Ÿè¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥è¿™ä¹ˆå†™ï¼š interface People{ name:string; age:number; height:number; say?:string; [propname:string]:any; } const types=(people:People)=&gt;{ people.age&gt;=20 &amp;&amp; people.height&gt;=180 &amp;&amp; console.log('ç¬¦åˆæ¡ä»¶'); people.age&lt;=20 &amp;&amp; people.height &lt;180 &amp;&amp;console.log('ä¸ç¬¦åˆ') }; const people={ name:'tom', age:18, height:178, say:'hello', add:'new add', addNumber:123 } types(people); æ¥å£é‡Œçš„æ–¹æ³• æ¥å£ä¸ä»…ä»…å¯ä»¥å­˜å±æ€§ï¼Œä¹Ÿå¯ä»¥å­˜æ–¹æ³•ï¼š interface People{ name:string; age:number; height:number; goto():string; } const types=(people:People)=&gt;{ people.age&gt;=20 &amp;&amp; people.height&gt;=180 &amp;&amp; console.log('ç¬¦åˆæ¡ä»¶'); people.age&lt;=20 &amp;&amp; people.height &lt;180 &amp;&amp;console.log('ä¸ç¬¦åˆ') }; const people={ name:'tom', age:18, height:178, goto(){ return 'hello' } } types(people) æ¥å£å’Œç±»çš„çº¦æŸ åœ¨ES6ä¸­æ˜¯æœ‰ç±»çš„æ¦‚å¿µï¼Œç±»å¯ä»¥å’Œæ¥å£ç›¸ç»“åˆï¼š interface People{ name:string; age:number; height:number; goto():string; } const types=(people:People)=&gt;{ people.age&gt;=20 &amp;&amp; people.height&gt;=180 &amp;&amp; console.log('ç¬¦åˆæ¡ä»¶'); people.age&lt;=20 &amp;&amp; people.height &lt;180 &amp;&amp;console.log('ä¸ç¬¦åˆ') }; const people={ name:'tom', age:18, height:178, say:'hello', add:'new add', addNumber:123, goto(){ return 'hello' } }; class newPeople implements People{ name='bob'; age=19; height:190; say:'hello'; add:'new add2'; addNumber:123; goto(){ return 'hi' } }; let a=new newPeople(); console.log(a.goto()) types(people) æ¥å£çš„ç»§æ‰¿ æ¥å£ä¸æ¥å£ä¹Ÿæ˜¯å¯ä»¥ç»§æ‰¿çš„ï¼š interface People{ name:string; age:number; height:number; say?:string; [propname:string]:any; goto():string; } const types=(people:newPeople)=&gt;{ people.age&gt;=20 &amp;&amp; people.height&gt;=180 &amp;&amp; console.log('ç¬¦åˆæ¡ä»¶'); people.age&lt;=20 &amp;&amp; people.height &lt;180 &amp;&amp;console.log('ä¸ç¬¦åˆ') }; const people={ name:'tom', age:18, height:178, say:'hello', add:'new add', addNumber:123, goto(){ return 'hello' }, back(){ console.log(1) } } interface newPeople extends People{ back():void } types(people) ç±»çš„åŸºæœ¬ä½¿ç”¨ é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªç±»ï¼š class Test{ name='say' say(){ return this.name } }; è¿™å°±æ˜¯å¹³æ—¶æ‰€å†™çš„ç±»ï¼Œåœ¨tsä¸­çš„ç»§æ‰¿å’ŒES6çš„ç»§æ‰¿æ˜¯ä¸€æ ·çš„ï¼Œå…³é”®å­—ä¹Ÿæ˜¯extendsï¼Œæ¯”å¦‚æˆ‘ä»¬è¿™é‡Œæ–°å»ºä¸ªç±»ï¼Œç»§æ‰¿Text; class Test{ name='say' say(){ return this.name } }; class NewTest extends Test{ back(){ return 'hello' } } const tom=new NewTest(); console.log(tom.say()); console.log(tom.back()); superå…³é”®å­—çš„ä½¿ç”¨ å¦‚æœæƒ³åœ¨sayæ–¹æ³•ä¸­åé¢åŠ ç‚¹ä¸œè¥¿ï¼Œå¯ä»¥è¿™ä¹ˆæ“ä½œï¼š class Test{ name='say' say(){ return this.name } }; class NewTest extends Test{ back(){ return 'hello' } say(){ return super.say()+'----hello' } } const tom=new NewTest(); console.log(tom.say()); console.log(tom.back()); tsä¸­ç±»çš„è®¿é—®ç±»å‹ tsä¸­çš„è®¿é—®ç±»å‹å°±æ˜¯åŸºäºä¸‰ä¸ªå…³é”®å­—ï¼šprivateã€protectedä»¥åŠpubilcè¿™ä¸‰ç§è®¿é—®ç±»å‹ã€‚çœ‹ä¾‹å­ï¼Œå…ˆå®šä¹‰ä¸€ä¸ªç±»ï¼Œç„¶åç”¨è¿™ä¸ªç±»çš„å¯¹è±¡ï¼Œè¿›è¡Œèµ‹å€¼ï¼š class Person{ name:string } const person=new Person(); person.name='tom'; console.log(person.name) pubilc è¿è¡Œå¯ä»¥çœ‹åˆ°æ­£å¸¸çš„è¾“å‡ºå†…å®¹ï¼Œè¿™æ˜¯å› ä¸ºå¦‚æœä¸å¯¹nameçš„è®¿é—®å±æ€§è¿›è¡Œå®šä¹‰ï¼Œé‚£ä¹ˆä»–çš„é»˜è®¤å±æ€§å°±æ˜¯pubilc,ä»å­—é¢æ„æ€æ¥çœ‹ï¼Œå®ƒçš„æ„æ€å°±æ˜¯å…¬ç”¨çš„ï¼Œå…è®¸åœ¨ç±»çš„å†…éƒ¨å’Œå¤–éƒ¨è¢«è°ƒç”¨ã€‚ class Person{ public name:string } const person=new Person(); person.name='tom'; console.log(person.name) private privateçš„å±æ€§æ„æ€å°±æ˜¯åªå…è®¸åœ¨ç±»çš„å†…éƒ¨è°ƒç”¨ï¼Œä¸èƒ½åœ¨å¤–éƒ¨è°ƒç”¨ class Person{ private name:string; public say(){ console.log(this.name+'-----hello'); } } const person=new Person(); person.name='tom';//æŠ¥é”™ console.log(person.name)//æŠ¥é”™ protected protectedå…è®¸åœ¨ç±»å†…ä»¥åŠç»§æ‰¿çš„å­ç±»ä¸­ä½¿ç”¨ï¼ŒæŠŠåˆšåˆšçš„nameæ”¹æˆprotectedå±æ€§ï¼Œè¿™æ—¶å€™åœ¨å¤–éƒ¨å°±ä¼šæŠ¥é”™ï¼Œè¿™æ—¶å€™å†å†™ä¸€ä¸ªç»§æ‰¿ï¼Œä»£ç å¦‚ä¸‹ï¼š class Person{ protected name:string; public say(){ console.log(this.name+'-----hello'); } } const person=new Person(); person.name='tom';//æŠ¥é”™ console.log(person.name)//æŠ¥é”™ class NewPerson extends Person{ public back(){ console.log(this.name) } } const newperson=new NewPerson(); newperson.back()//æ­£å¸¸ ç±»çš„æ„é€ å‡½æ•° é¦–å…ˆæ–°å»ºä¸€ä¸ªç±»ï¼šPerson,å®šä¹‰ä¸€ä¸ªnameï¼Œå¹¶åœ¨newçš„æ—¶å€™è¿›è¡Œå‚æ•°ä¼ é€’ï¼Œç„¶åæ‰“å°å‡ºæ¥ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨æ„é€ å‡½æ•°constructor : class Person{ pubilc name:string; constructor(name){ this.name=name } }; const person=new Person('tom'); console.log(person.name); å¯ä»¥çœ‹åˆ°å¯ä»¥æ‰“å°å‡ºæ¥ï¼Œä½†æ˜¯ä¸Šé¢å†™æ³•æœ‰ç‚¹éº»çƒ¦ï¼Œè¿˜å¯ä»¥å†è¿›è¡Œç®€åŒ–ï¼š class Person{ constructor(pubilc name:string){} }; const person=new Person('tom'); console.log(person.name); ç±»ç»§æ‰¿ä¸­çš„æ„é€ å™¨å†™æ³• æ™®é€šçš„ä¹¦å†™æ–¹æ³•ä¸Šé¢å·²ç»æ¼”ç¤ºäº†ï¼Œåœ¨å­ç±»ä¸­ä½¿ç”¨æ„é€ å‡½æ•°éœ€è¦ç”¨**super()**è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œç›´æ¥çœ‹ä»£ç ï¼š class Person{ constructor(pubilc name:string){} }; class Teacher extends Person{ constructor(pubilc age:number){ super() } }; const teacher=new Teacher(18); console.log(teacher.age+'---'+teacher.name); tsä¸­ç±»çš„Getterã€Setterã€staticä»¥åŠreadonly åœ¨ä¸Šé¢ä¸­æåˆ°äº†è®¿é—®ç±»å‹private,å®ƒçš„æœ€å¤§ç”¨å¤„å°±æ˜¯å°è£…ä¸€ä¸ªä¹¦å†™ï¼Œç„¶åé€šè¿‡Getterå’ŒSetterå»è®¿é—®å’Œä¿®æ”¹ï¼š class Person{ constructor(private _age:number){ } } å¦‚æœæƒ³è®©åˆ«äººçŸ¥é“ï¼Œå°±å¯ä»¥ä½¿ç”¨Getteræ¥å®ç°ï¼Œä»–å¹¶ä¸æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œåªæ˜¯ä¸€ä¸ªå±æ€§ï¼š class Person{ constructor(private _age:number){ }; get age(){ return this._age } }; const person=new Person(30); console.log(person.age) è¿™æ—¶å€™ä½ å¯èƒ½ä¼šè§‰å¾—è¿™ä¸æ˜¯å¤šæ­¤ä¸€ä¸¾å—ï¼Ÿä½†åœ¨Getterä¸­å¯ä»¥å¯¹ _ageè¿›è¡Œå¤„ç†ï¼š class Person{ constructor(private _age:number){ }; get age(){ return this._age-10 } }; const person=new Person(30); console.log(person.age) æ—¢ç„¶ _ageæ˜¯ç§æœ‰çš„ï¼Œæˆ‘ä»¬æ— æ³•è¿›è¡Œæ”¹å˜ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ç”¨Setterè¿›è¡Œæ”¹å˜ï¼š class Person{ constructor(private _age:number){ }; get age(){ return this._age } set age(age:number){ this._age=age } }; const person=new Person(30); person.age=20; console.log(person.age) åœ¨ç±»ä¸­ï¼Œå¦‚æœæƒ³ç”¨è¿™ä¸ªç±»çš„å®ä¾‹ï¼Œå°±å¿…é¡»å…ˆè¿›è¡Œnewæ“ä½œï¼Œä½†æœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•ä¸éœ€è¦newå°±å¯ä»¥ï¼Ÿ //å¸¸è§„æ–¹æ³• class Person{ say(){ return 'say hello' } }; const person=new Person(); console.log(person.say()); åœ¨tsä¸­ï¼Œæˆ‘ä»¬ä¸æƒ³newçš„è¯å¯ä»¥è¿™ä¹ˆå†™ï¼š class Person{ static say(){ return 'say hello' } }; console.log(Person.say()) readonlyåœ¨åˆå§‹åŒ–åèµ‹å€¼ï¼Œä»¥åå°±ä¸èƒ½è¿›è¡Œä¿®æ”¹ class Person{ constructor(readonly name:string){} } let p=new Person('tom'); p.name='bob'//æŠ¥é”™ console.log(p.name); ç±»çš„æŠ½è±¡ç±» abstract ç”¨äºå®šä¹‰æŠ½è±¡ç±»å’Œå…¶ä¸­çš„æŠ½è±¡æ–¹æ³•ã€‚å®ƒæœ‰å‡ ä¸ªç‰¹ç‚¹ï¼š æŠ½è±¡ç±»æ˜¯ä¸å…è®¸å®ä¾‹åŒ–çš„ //é”™è¯¯æ¼”ç¤º abstract class Person { public abstract say() } const tom=new Person()//æ— æ³•åˆ›å»ºæŠ½è±¡ç±»çš„å®ä¾‹ æŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•å¿…é¡»è¢«å­ç±»å®ç°ï¼š //é”™è¯¯æ¼”ç¤º abstract class Person { abstract say(){ console.log('hello') } } class Tom extends Person{ say(){ console.log('say hello') } }; //æ­£ç¡®æ–¹æ³• abstract class Person { abstract say() } class Tom extends Person{ say(){ console.log('say hello') } }; tsconfig.jsoné…ç½® ç”Ÿæˆ æˆ‘ä»¬å¯ä»¥é€šè¿‡tsc --initå»ç”Ÿæˆtsé…ç½®æ–‡ä»¶: tsc --init //ç»ˆç«¯æ‰§è¡Œ ç¼–è¯‘ ä¼šç”Ÿæˆä¸€ä¸ªtsconfig.jsonæ–‡ä»¶ï¼Œæˆ‘ä»¬åœ¨tsæ–‡ä»¶ä¸­å¯ä»¥éšä¾¿å†™ç‚¹ä»€ä¹ˆï¼š //æµ‹è¯•tsconfig.json const test:string='tsconfig.json'; ç„¶åæ‰“å¼€tsconfig.jsonæ–‡ä»¶ï¼Œæ‰¾åˆ°complilerOptionså±æ€§ä¸‹çš„removeComments:trueï¼ˆè¿™ä¸ªé…ç½®æ˜¯ç¼–è¯‘åä¸è¾“å‡ºæ³¨é‡Šï¼‰ï¼Œå–æ¶ˆæ‰æ³¨é‡Šï¼Œç„¶åæ‰§è¡Œå‘½ä»¤ï¼š tsc è¿™æ—¶å€™æ‰“å¼€ç”Ÿæˆçš„jsæ–‡ä»¶ï¼Œå‘ç°æ²¡æœ‰æ³¨é‡Šï¼Œè¯´æ˜æˆåŠŸã€‚ include ã€exclude å’Œ files å¦‚æœæœ‰å¤šä¸ªtsæ–‡ä»¶ï¼Œåªæƒ³ç¼–è¯‘ä¸€ä¸ªå¯ä»¥åœ¨tsé…ç½®é¡¹ä¸­åŠ å…¥includeï¼š &quot;include&quot;:[&quot;text.ts&quot;], å¦‚æœæƒ³é™¤äº†æŸä¸ªæ–‡ä»¶ä¸ç¼–è¯‘ï¼Œå‰©ä¸‹çš„éƒ½ç¼–è¯‘ï¼Œå¯ä»¥ä½¿ç”¨excludeï¼š &quot;exclude&quot;:[&quot;text.ts&quot;], fileså’Œincludeæ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼š &quot;files&quot;:[&quot;text.ts&quot;], compilerOptionsé…ç½® removeComments è¿™ä¸ªé…ç½®æ„æ€å°±æ˜¯ç¼–è¯‘åä¸è¾“å‡ºæ³¨é‡Š strict è¿™ä¸ªè®¾ç½®ä¸ºtrue,å°±ä»£è¡¨ä¸¥æ ¼æ‰§è¡Œtsè¯­æ³•ï¼Œè¦ä¸¥æ ¼æŒ‰ç…§tsè¯­æ³•æ¥ç¼–å†™ã€‚ noImplicitAny å…è®¸ä½ çš„æ³¨è§£ç±»å‹ any ä¸ç”¨ç‰¹æ„è¡¨æ˜ï¼Œå¦‚æœæ­¤æ—¶è®¾ç½®äº†true,çœ‹ä¾‹å­ï¼š //è¿™æ—¶å€™ç¼–è¯‘ä¼šæŠ¥é”™ function test(name) { return name; } //æ­£ç¡® function test(name:any) { return name; } strictNullChecks æ„æ€å°±æ˜¯ï¼Œä¸å¼ºåˆ¶æ£€æŸ¥nullç±»å‹,æ­¤æ—¶å¦‚æœé…ç½®ä¸ºtrueçœ‹ä¾‹å­: //æ­¤æ—¶å°±ä¸ä¼šæŠ¥é”™ const test: string = null; outDirå’ŒrootDir æ­¤é¡¹é…ç½®æ˜¯æ¥æŒ‡å®šæ–‡ä»¶ç›®å½•å’Œæ‰“åŒ…åå­˜æ”¾ç›®å½•ï¼ŒrootDirä¸ºæ–‡ä»¶ç›®å½•ï¼ŒoutDirä¸ºæ‰“åŒ…åä¿å­˜çš„ç›®å½• { &quot;outDir&quot;: &quot;./build&quot; , &quot;rootDir&quot;: &quot;./src&quot; , } ç¼–è¯‘ES6è¯­æ³• å¯ä»¥ä½¿ç”¨targetå’ŒallowJsï¼Œtargeté»˜è®¤ä¸ºtrue &quot;target&quot;:'es5' , // è¿™ä¸€é¡¹é»˜è®¤æ˜¯å¼€å¯çš„ï¼Œä½ å¿…é¡»è¦ä¿è¯å®ƒçš„å¼€å¯ï¼Œæ‰èƒ½è½¬æ¢æˆåŠŸ &quot;allowJs&quot;:true, // è¿™ä¸ªé…ç½®é¡¹çš„æ„æ€æ˜¯è”é€š sourceMap sourceMap ç®€å•è¯´ï¼ŒSource map å°±æ˜¯ä¸€ä¸ªä¿¡æ¯æ–‡ä»¶ï¼Œé‡Œé¢å‚¨å­˜ç€ä½ç½®ä¿¡æ¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè½¬æ¢åçš„ä»£ç çš„æ¯ä¸€ä¸ªä½ç½®ï¼Œæ‰€å¯¹åº”çš„è½¬æ¢å‰çš„ä½ç½®ã€‚æœ‰äº†å®ƒï¼Œå‡ºé”™çš„æ—¶å€™ï¼Œé™¤é”™å·¥å…·å°†ç›´æ¥æ˜¾ç¤ºåŸå§‹ä»£ç ï¼Œè€Œä¸æ˜¯è½¬æ¢åçš„ä»£ç ã€‚è¿™æ— ç–‘ç»™å¼€å‘è€…å¸¦æ¥äº†å¾ˆå¤§æ–¹ä¾¿ã€‚ noUnusedLocals è®¾ç½®noUnusedLocalsä¸ºtrueï¼Œç¼–è¯‘ä»£ç ï¼š const name:tring='111'; export const age = &quot;text&quot;; è¿™æ—¶å€™å°±ä¼šæŠ¥é”™ï¼Œå› ä¸ºæœ‰nameå˜é‡æ²¡æœ‰ä½¿ç”¨ã€‚ æ›´å¤š æ›´å¤šå¯ä»¥æŸ¥çœ‹ é…ç½®æŸ¥è¯¢ç½‘ç«™ è”åˆç±»å‹å’Œç±»å‹ä¿æŠ¤ è”åˆç±»å‹ è”åˆç±»å‹çš„æ„æ€å°±æ˜¯å…è®¸ä¸€ä¸ªç±»å‹æœ‰ä¸¤ç§æˆ–è€…ä¸¤ç§ä»¥ä¸Šçš„ç±»å‹: interface Test{ name:string; say:()=&gt;{ } } interface Test2{ name:string; call:()=&gt;{}; } function Tom(fun: Test | Test2){ console.log(fun.name) } å¦‚æœæ­¤æ—¶ä¿®æ”¹ä¸€ä¸‹æ–¹æ³•ï¼š function Tom(fun: Test | Test2){ fun.say() } //æŠ¥é”™ è¿™æ˜¯å› ä¸ºåªèƒ½è®¿é—®ä¸¤ä¸ªç±»å‹çš„å…±æœ‰æ–¹æ³•ã€‚ ç±»å‹ä¿æŠ¤-ç±»å‹æ–­è¨€ ä¸Šé¢çš„æ–¹æ³•ï¼Œå¦‚æœä¿®æ”¹å®ŒæŠ¥é”™ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥ç”¨asæ¥åˆ¤æ–­ï¼š interface Test { text: boolean; say(): void } interface Test2 { text: boolean; skill():string } function judgeWho(val: Waiter | Teacher) { if (val.text) { (val as Teacher).skill(); }else{ (val as Waiter).say(); } } const a={ text:true, skill:function():void{ console.log(1) }, say:function():void{ console.log(2) } } judgeWho(a) //1 ç±»å‹ä¿æŠ¤-inè¯­æ³• inæ–¹æ³•ä¸æ–­è¨€æ¯”è¾ƒç±»ä¼¼ï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š interface Person{ name:string; say:()=&gt;{ } } interface Person2{ name:string; todo:()=&gt;{ } }; function tom(val:Person|Person2){ if('todo' in val){ val.todo() }else{ val.say() } } ç±»å‹ä¿æŠ¤-typeofè¯­æ³• å¯ä»¥ç”¨typeofæ–¹æ³•æ¥åˆ¤æ–­ï¼š function add(name:string|number,name2:string|number){ if(typeof name==='string'||typeof name2=='string'){ return name+'---'+name2 }else{ return name+name2 } } add(1,2) ç±»å‹ä¿æŠ¤-instanecofè¯­æ³• å¦‚æœè¦ä¿æŠ¤ç±»å‹æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå°±å¯ä»¥ä½¿ç”¨instanceofï¼š class NumObject{ num:number } function numbers(num1:object|NumObject,num2:object|NumObject){ if(num1 instanceof NumObject &amp;&amp; num2 instanceof NumObject){ return num1.num+num2.num } } Enumæšä¸¾ç±»å‹ æˆ‘ä»¬å¹³æ—¶ä¼šæœ‰è¿™ç§å†™æ³•ï¼š function getName(status:any){ if(status===0){ return 'one' }else if(status===1){ return 'two' }else{ return 'three' } } console.log(getName(0)) è¿™ä¹ˆå†™å¯èƒ½æœ‰ç‚¹éº»çƒ¦ï¼Œé˜…è¯»èµ·æ¥è¿˜æ˜¯æœ‰ç‚¹éº»çƒ¦ï¼Œè¿™æ—¶å€™å¯ä»¥è¿™ä¹ˆå†™ï¼š const Status={ ONE:0, TWO:1, THREE:3 } function getName(status:any){ if(status===Status.ONE){ return 'one' }else if(status===Status.TWO){ return 'two' }else{ return 'three' } } console.log(getName(0)); è¿™æ—¶å€™æˆ‘ä»¬çš„æšä¸¾å°±è¦ä¸Šåœºäº†ï¼š enum Status{ ONE, TWO, THREE } function getName(status:any){ if(status===Status.ONE){ return 'one' }else if(status===Status.TWO){ return 'two' }else{ return 'three' } } console.log(getName(1)); ä¸€æ ·ä¹Ÿå¯ä»¥è¾“å‡ºï¼Œå› ä¸ºæšä¸¾æ˜¯æœ‰å¯¹åº”æ•°å­—å€¼çš„ï¼Œé»˜è®¤ä»0å¼€å§‹ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ”¹å˜ï¼š enum Status{ ONE=1, TWO,//2 THREE//3 } ä¹Ÿå¯ä»¥è¿›è¡Œè¿”æŸ¥æ“ä½œï¼š enum Status{ ONE, TWO, THREE } function getName(status:any){ if(status===Status.ONE){ return 'one' }else if(status===Status.TWO){ return 'two' }else{ return 'three' } } console.log(Status.ONE,Status[1]); æ³›å‹ æ³›å‹ï¼ˆGenericsï¼‰æ˜¯æŒ‡åœ¨å®šä¹‰å‡½æ•°ã€æ¥å£æˆ–ç±»çš„æ—¶å€™ï¼Œä¸é¢„å…ˆæŒ‡å®šå…·ä½“çš„ç±»å‹ï¼Œè€Œåœ¨ä½¿ç”¨çš„æ—¶å€™å†æŒ‡å®šç±»å‹çš„ä¸€ç§ç‰¹æ€§ã€‚ åœ¨å‡½æ•°ä¸­ä½¿ç”¨ æˆ‘ä»¬å…ˆç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼š function add(one:string,two:string){ return `${one}${two}` } console.log(add('a','b')) è¿™æ—¶å€™æˆ‘ä»¬å¸Œæœ›å‚æ•°æ›´åŠ çµæ´»ä¸€äº›ï¼Œä¸¤ä¸ªå‚æ•°ä¸ºnumberæˆ–è€…stringï¼š function add(one:string|number,two:string|number){ return `${one}${two}` } console.log(add('a','b')) è¿™ä¹ˆä¹¦å†™æœ‰äº›éº»çƒ¦ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨æ³›å‹ï¼š function add&lt;T&gt;(one:T,two:T){ return `${one}${two}` } console.log(add&lt;string&gt;('a','b')) åœ¨ä½¿ç”¨ä¸­ï¼Œæ³›å‹é€šå¸¸ç”¨ &lt;T&gt; æ¥è¿›è¡Œè¡¨ç¤ºã€‚æ³›å‹å¯ä»¥æœ‰å¤šä¸ªå—ï¼Ÿå½“ç„¶å¯ä»¥ï¼š function add&lt;T,P&gt;(one:T,two:P){ return `${one}${two}` } console.log(add&lt;string,number&gt;('a',2)) åŒæ—¶æ³›å‹ä¹Ÿæ”¯æŒç±»å‹æ¨æ–­ï¼š function add&lt;T,P&gt;(one:T,two:P){ return `${one}${two}` } console.log(add&lt;string,number&gt;('a',2)) åœ¨ç±»ä¸­ä½¿ç”¨ é¦–å…ˆå…ˆå†™ä¸€ä¸ªç±»,ä¸”æ¥å—å‚æ•°ä¸ºä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„é‡Œé¢å­˜æ”¾stringç±»å‹çš„æ•°æ®ï¼š class List { constructor(private list:string[]) {}; getItem(index:number):string{ return this.list[index] } }; const list=new List(['girl','boy','wom']); console.log(list.getItem(1)) è¿™æ—¶å€™å¦‚æœæˆ‘ä»¬ä¼ é€’æ•°ç»„æ—¶å€™é‡Œé¢åˆæƒ³æ”¾æ•°å­—æ€ä¹ˆåŠï¼š class List { constructor(private list:string[]|number[]) {}; getItem(index:number):string|number{ return this.list[index] } }; const list=new List(['girl','boy','wom']); console.log(list.getItem(1)) è¿™ä¹ˆå†™å°±æ¯”è¾ƒå¤æ‚äº†,è¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨æ³›å‹æ¥ç®€åŒ–æˆ‘ä»¬çš„ä»£ç ï¼š class List&lt;T&gt;{ constructor(private list:T[]) {}; getItem(index:number):T{ return this.list[index] } }; const list=new List(['girl','boy','wom']); console.log(list.getItem(1)) å‘ç°ä¸Šé¢çš„ä»£ç æ²¡æœ‰æŠ¥é”™ï¼Ÿå› ä¸ºç±»å‹æ¨è®ºï¼Œæ‰€ä»¥ä¸ä¼šæŠ¥é”™ï¼Œä¸¥æ ¼æ„ä¹‰ä¸Šåº”è¯¥newçš„æ—¶å€™åŠ ä¸Šç±»å‹ï¼š const list=new List&lt;string&gt;(['girl','boy','wom']); è¿˜æœ‰ä¸€ç§åœºæ™¯ï¼Œä¼ é€’è¿‡æ¥æ˜¯ä¸€ä¸ªæ•°ç»„å¯¹è±¡ï¼Œè¿™æ—¶å€™å¯ä»¥é€šè¿‡ç»§æ‰¿æ¥è§£å†³ï¼š interface People{ name:string } class List&lt;T extends People&gt;{ constructor(private list:T[]) {}; getItem(index:number):string{ return this.list[index].name } }; const list=new List( [ {name:'boy'}, {name:'girl'} ] ); console.log(list.getItem(1)) æ³›å‹çº¦æŸ ä¸Šé¢ä¾‹å­ä¸­ï¼Œæ³›å‹å¯ä»¥ä¸ºä»»æ„å€¼ï¼Œä½†æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›è¿˜æ˜¯èƒ½ç¨å¾®çº¦æŸä¸€ä¸‹ï¼š function list&lt;T extends number|string&gt;(name:T){ return `${name}` } console.log(list&lt;number&gt;(1)) class List&lt;T extends number|string&gt; { constructor(private list:T[]) { }; getItem(index:number):T{ return this.list[index] } } const list=new List([1,2]) console.log(list.getItem(0)) Namespaceå‘½åç©ºé—´ æ–°å»ºä¸€ä¸ªtsé¡¹ç›® é¦–å…ˆï¼Œæˆ‘ä»¬å»ºç«‹ä¸€ä¸ªé¡¹ç›®æ–‡ä»¶ï¼Œç„¶ånpm init -yç”Ÿæˆpackage.jsonæ–‡ä»¶ï¼Œç„¶åå†tsc -initç”Ÿæˆtsé…ç½®æ–‡ä»¶ã€‚ åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºindex.htmlæ–‡ä»¶ï¼Œå†å»ºç«‹ä¸€ä¸ªsrcå’Œbulidç›®å½•ï¼Œåœ¨srcç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªindex.jsã€‚ é…ç½®tsconfig.jsonæ–‡ä»¶ï¼Œè®¾ç½®å…¥å£å’Œè¾“å‡ºç›®å½•ï¼ˆoutDirå’ŒrootDirï¼‰ã€‚ æ‰“å¼€index.html,å¼•å…¥jsæ–‡ä»¶ï¼š &lt;script src=&quot;./build/index.js&quot;&gt;&lt;/script&gt; åœ¨æ–°å»ºçš„tsæ–‡ä»¶ä¸­éšä¾¿å†™ç‚¹ä»€ä¹ˆï¼š console.log('hello'); ç„¶åtscç¼–è¯‘ä¸€ä¸‹ï¼Œæ‰“å¼€æ§åˆ¶å°ï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°äº† ç¼–å†™ä¸€ä¸ªå°ç»„ä»¶ åœ¨æˆ‘ä»¬åˆšåˆšå»ºç«‹çš„index.tsæ–‡ä»¶ï¼Œå†™ä¸€ä¸ªheaderã€contentå’Œfooterç»„ä»¶ï¼š class Header { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Header&quot;; document.body.appendChild(elem); } } class Content { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Content&quot;; document.body.appendChild(elem); } } class Footer { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Footer&quot;; document.body.appendChild(elem); } } class Page { constructor() { new Header(); new Content(); new Footer(); } } ç„¶ååœ¨index.htmlä¸­åŠ ä¸€è¡Œjsä»£ç ï¼š &lt;script&gt;new Page();&lt;/script&gt; è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å†…å®¹æ­£å¸¸è¾“å‡ºï¼Œä½†æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬çš„Headerã€contentå’Œfooteréƒ½æš´éœ²äº†å‡ºæ¥ï¼Œå¹¶ä¸æ˜¯åªæš´éœ²ä¸€ä¸ªpageï¼Œè¿™æ—¶å€™æˆ‘ä»¬çš„å‘½åç©ºé—´å°±æ´¾ä¸Šäº†ç”¨åœºï¼š å‘½åç©ºé—´ å‘½åç©ºé—´å£°æ˜çš„å…³é”®è¯æ˜¯namespace æ¯”å¦‚å£°æ˜ä¸€ä¸ªnamespace Home,éœ€è¦æš´éœ²å‡ºå»çš„ç±»ï¼Œå¯ä»¥ä½¿ç”¨exportå…³é”®è¯ï¼Œè¿™æ ·åªæœ‰æš´æ¼å‡ºå»çš„ç±»æ˜¯å…¨å±€çš„ï¼Œå…¶ä»–çš„ä¸ä¼šå†ç”Ÿæˆå…¨å±€æ±¡æŸ“äº†ã€‚ namespace Home { class Header { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Header&quot;; document.body.appendChild(elem); } } class Content { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Content&quot;; document.body.appendChild(elem); } } class Footer { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Footer&quot;; document.body.appendChild(elem); } } export class Page { constructor() { new Header(); new Content(); new Footer(); } } } è¿™ä¹ˆå†™ä¹Ÿæ˜¯æ¯”è¾ƒéº»çƒ¦ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦å¼•å…¥ä¸¤ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®æ¥è®©ä»–æˆä¸ºä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰“å¼€tsconfig.json,æ‰¾åˆ°è¿™ä¸€è¡Œï¼š &quot;module&quot;:&quot;commonjs&quot; //ä¿®æ”¹ä¸ºï¼š &quot;module&quot;:&quot;amd ç„¶åæ‰¾åˆ°è¿™ä¸€è¡Œï¼š { &quot;outFile&quot;: &quot;./build/index.js&quot; } å­å‘½åç©ºé—´ å¦‚æœåœ¨åˆšåˆšçš„ç»„ä»¶ä¸­å†å†™ä¸€ä¸ªä¼šæ€ä¹ˆæ ·ï¼Ÿ namespace Components { export namespace SubComponents { export class Test {} } //someting ... } //è¯»å– // Components.SubComponents.Test tsä¸­ä½¿ç”¨import é¦–å…ˆå»ºç«‹ä¸€ä¸ªæ–‡ä»¶compontent.ts,éšä¾¿å†™ç‚¹ä¸œè¥¿ï¼Œç„¶åä½¿ç”¨exportå¯¼å‡ºï¼š export class Header { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Header&quot;; document.body.appendChild(elem); } } export class Content { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Content&quot;; document.body.appendChild(elem); } } export class Footer { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Footer&quot;; document.body.appendChild(elem); } } ç„¶ååœ¨index.tsä¸­å¯¼å…¥ä¸€ä¸‹ï¼š import { Header, Content, Footer } from &quot;./compontent&quot;; export class Page{ constructor(){ new Header(); new Content(); new Footer(); } } è¿è¡Œtscç¼–è¯‘ï¼Œæ‰“å¼€buildä¸­çš„index.js,å¯ä»¥çœ‹åˆ°ä»£ç æ˜¯defineå¼€å¤´çš„ï¼Œè¿™æ˜¯ amd è§„èŒƒçš„ä»£ç ï¼Œä¸èƒ½ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼Œå¯ä»¥åœ¨ Node ä¸­ç›´æ¥è¿è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦å€ŸåŠ©require.jsçš„æ”¯æŒï¼š &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.js&quot;&gt;&lt;/script&gt; ç„¶ååœ¨index.htmlä¸­ä½¿ç”¨require.jså†™æ³•ï¼š &lt;script&gt; require([&quot;page&quot;], function (page) { new page.default(); }); &lt;/script&gt; ```# TypeScriptåŸºç¡€çŸ¥è¯†æ¢³ç† &gt; ä¹‹å‰ä¸€ç›´æ‰“ç®—çœ‹çœ‹tsï¼Œä½†ä¸€ç›´æ²‰è¿·æ‘¸ğŸŸæ— æ³•è‡ªæ‹”ï¼Œå…¬å¸ç›®å‰é¡¹ç›®ä¸­ä¹Ÿæ²¡æœ‰tsé¡¹ç›®ã€‚ä»Šå¹´æ‰‹ä¸Šæ­£å¥½æœ‰ä¸¤ä¸ªå°ç¨‹åºé¡¹ç›®ï¼Œäºæ˜¯æ‰“ç®—ç”¨tså†™ä¸€ä¸‹ï¼Œæ„Ÿå—ä¸€ä¸‹tsçš„â€œé­…åŠ›â€ã€‚é¡ºä¾¿æ•´ç†äº†ä¸€ä¸‹å­¦ä¹ ç¬”è®°ï¼Œå¸Œæœ›èƒ½å¸®åˆ°æœ‰éœ€è¦çš„äººã€‚åŒæ—¶ä¹Ÿç”¨**XMind**åšäº†çŸ¥è¯†å›¾è°±ï¼Œæœ‰éœ€è¦æºæ–‡ä»¶çš„å¯ä»¥è”ç³»æˆ‘ã€‚ ## å®‰è£…ä¸ç¼–è¯‘ ### å®‰è£… ```js npm install -g typescript //macä¸‹å®‰è£…å‰é¢éœ€è¦åŠ sudo ç¼–è¯‘ å¯ä»¥æ‰§è¡Œä¸‹é¢å‘½ä»¤è¿›è¡Œç¼–è¯‘ï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹äº§ç”Ÿä¸€ä¸ªtest.jsæ–‡ä»¶ tsc test.ts è¿™æ ·å¯èƒ½è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©æ’ä»¶æ–¹ä¾¿æˆ‘ä»¬æé«˜æ•ˆç‡ï¼š npm install -g ts-node å®‰è£…å®Œååªéœ€æ‰§è¡Œts-node test.tså°±å¯ä»¥åœ¨æ§åˆ¶å°æŸ¥çœ‹è¾“å‡ºç»“æœã€‚ åŸå§‹æ•°æ®ç±»å‹ jsä¸­æ•°æ®ç±»å‹åˆ†ä¸¤ç§ï¼ŒåŸå§‹æ•°æ®ç±»å‹å’Œå¯¹è±¡ç±»å‹ï¼ŒåŸå§‹ç±»å‹åŒ…æ‹¬ï¼šå¸ƒå°”å€¼ã€æ•°å­—ã€å­—ç¬¦ä¸²ã€nullã€undefinedä»¥åŠSymbolã€‚ å¸ƒå°”å€¼ åœ¨TypeScriptä¸­ï¼Œä½¿ç”¨booleanå®šä¹‰å¸ƒå°”å€¼ç±»å‹ let isStatus:boolean=true; æ•°å­— ä½¿ç”¨numberå®šä¹‰æ•°å€¼ç±»å‹ let isNumber:number=1; //16è¿›åˆ¶(ç¼–è¯‘åæ˜¾ç¤º10è¿›åˆ¶æ•°å­—) let isNumber16:number:=0b1010; å­—ç¬¦ä¸² ä½¿ç”¨stringå®šä¹‰å­—ç¬¦ä¸²ç±»å‹ï¼š let isString:string='hello word'; let year:number=2020; let add:string=`${isString},${year}!`; ç©ºå€¼ JavaScript æ²¡æœ‰ç©ºå€¼ï¼ˆVoidï¼‰çš„æ¦‚å¿µï¼Œåœ¨TypeScriptä¸­ï¼Œå¯ä»¥ç”¨voidè¡¨ç¤ºæ²¡æœ‰ä»»ä½•è¿”å›å€¼çš„å‡½æ•°. function alertName():void{ alert(&quot;my name is tom&quot;) } å£°æ˜ä¸€ä¸ª void ç±»å‹çš„å˜é‡æ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œå› ä¸ºä½ åªèƒ½å°†å®ƒèµ‹å€¼ä¸º undefined å’Œ nullã€‚ let unusable: void = undefined; Null å’Œ Undefined åœ¨TypeScriptä¸­å¯ä»¥ä½¿ç”¨nullå’Œundefinedæ¥å®šä¹‰è¿™ä¸¤ä¸ªåŸå§‹æ•°æ®ç±»å‹ let u:undefined=undefined; let n:null=null; ä¸ void çš„åŒºåˆ«æ˜¯ï¼Œundefined å’Œ null æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ã€‚ä¹Ÿå°±æ˜¯è¯´undefinedç±»å‹çš„å˜é‡ï¼Œå¯ä»¥èµ‹å€¼ç»™numberç±»å‹çš„å˜é‡ï¼Œè€Œvoidç±»å‹çš„å˜é‡ä¸èƒ½èµ‹å€¼ç»™numberç±»å‹çš„å˜é‡ï¼š let num:number=undefined;//ä¸ä¼šæŠ¥é”™ let u:undefined; let num: number = u;//ä¹Ÿä¸ä¼šæŠ¥é”™ let u:void; let num:number=u;// Type 'void' is not assignable to type 'number'. ä»»æ„å€¼ ä»»æ„å€¼ï¼ˆAnyï¼‰ç”¨æ¥è¡¨ç¤ºå…è®¸èµ‹å€¼ä¸ºä»»æ„ç±»å‹ã€‚ ä»€ä¹ˆæ˜¯ä»»æ„å€¼ç±»å‹ å¦‚æœæ˜¯ä¸€ä¸ªæ™®é€šç±»å‹ï¼Œåœ¨èµ‹å€¼è¿‡ç¨‹ä¸­æ”¹å˜ç±»å‹æ˜¯ä¸è¢«å…è®¸çš„ï¼š let renyiString:string='string'; renyiString=8; //Type 'number' is not assignable to type 'string'. ä½†å¦‚æœç±»å‹æ˜¯Any,ç±»å‹ï¼Œåˆ™å…è®¸è¢«èµ‹å€¼ä¸ºä»»æ„ç±»å‹: let renyiString:any='string'; renyiString=8; åœ¨ä»»æ„å€¼ä¸Šè®¿é—®ä»»ä½•å±æ€§éƒ½æ˜¯å…è®¸çš„ï¼š let anyThis:any='hello'; console.log(anyThis.myName) console.log(anyThis.myName.firstName) ä¹Ÿå…è®¸è°ƒç”¨ä»»ä½•æ–¹æ³•ï¼š let anyThing: any = 'Tom'; anyThing.setName('Jerry'); anyThing.setName('Jerry').sayHello(); anyThing.myName.setFirstName('Cat'); å¯ä»¥è®¤ä¸ºï¼Œå£°æ˜ä¸€ä¸ªå˜é‡ä¸ºä»»æ„å€¼ä¹‹åï¼Œå¯¹å®ƒçš„ä»»ä½•æ“ä½œï¼Œè¿”å›çš„å†…å®¹çš„ç±»å‹éƒ½æ˜¯ä»»æ„å€¼ã€‚ æœªå£°æ˜ç±»å‹çš„å˜é‡ å˜é‡å¦‚æœåœ¨å£°æ˜çš„æ—¶å€™ï¼ŒæœªæŒ‡å®šå…¶ç±»å‹ï¼Œé‚£ä¹ˆå®ƒä¼šè¢«è¯†åˆ«ä¸ºä»»æ„å€¼ç±»å‹ï¼š let something; something = 'seven'; something = 7; something.setName('Tom'); ç­‰äº let something: any; something = 'seven'; something = 7; something.setName('Tom'); æ•°ç»„çš„ç±»å‹ åŸºç¡€è¡¨ç¤º ã€Œç±»å‹ + æ–¹æ‹¬å·ã€è¡¨ç¤ºæ³• let numbers:number[]=[1,2,3,4,5] æ­¤æ—¶ä¸å…è®¸å‡ºç°å…¶ä»–ç±»å‹ï¼Œè€Œä¸”å¦‚æœä½¿ç”¨æ•°ç»„ä¸­pushç­‰æ–¹æ³•ï¼Œæ·»åŠ å…ƒç´ ä¹Ÿå¾—ç¬¦åˆç›¸åº”ç±»å‹ã€‚ æ•°ç»„æ³›å‹ æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„æ³›å‹ï¼ˆArray Genericï¼‰ Array&lt;elemType&gt; æ¥è¡¨ç¤ºæ•°ç»„ let fibonacci:Array&lt;number&gt;=[1,2,3,4,] å¦‚æœæ•°ç»„ä¸­åˆæœ‰numberç±»å‹åˆæœ‰stringç±»å‹ï¼Œåˆ™å¯ä»¥ç”¨ï½œç¬¦å·æ¥åŒºåˆ«å®šä¹‰ï¼š let arr:(number|string)[]=['tom',1]; æ•°ç»„ä¸­å¯¹è±¡ç±»å‹çš„å®šä¹‰ é¡¹ç›®ä¸­ç»å¸¸é‡åˆ°æ•°ç»„ä¸­æœ‰å¯¹è±¡çš„å­˜åœ¨ï¼Œå¯¹äºè¿™ç§å°±æ¯”è¾ƒéº»çƒ¦äº†ï¼Œæ¯”å¦‚ï¼š let arr:{name:string,age:number}[]=[ {name:'tom',age:18} ] è¿™æ ·å°±æ¯”è¾ƒéº»çƒ¦äº†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨tsä¸­çš„ç±»å‹åˆ«åæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š type PeopleType={name:String,age:Number}; let arr:PeopleType[]=[ {name:'bob',age:19} ] ä¹Ÿå¯ä»¥ç”¨ç±»å‹å®šä¹‰ä¹Ÿå¯ä»¥è§£å†³ï¼š class PeopleType{ name:string; age:number } let arr:PeopleType[]=[ {name:'bob',age:19} ] å…ƒç»„çš„ä½¿ç”¨å’Œç±»å‹çº¦æŸ åœ¨æ•°ç»„ä¸­å¦‚æœé‡Œé¢åˆæœ‰stringå’Œnumber,å¯ä»¥ä½¿ç”¨ï½œæ¥è¿›è¡Œå®šä¹‰ï¼Œä½†ä¸€å®šç¨‹åº¦ä¸Šå¹¶ä¸ä¸¥æ ¼ã€‚æ¯”å¦‚æ”¹æˆä¸‹é¢è¿™ç§æ ¼å¼ï¼š let arr:(number|string)[]=[111,'222',111]; tså¹¶æ²¡æœ‰æŠ¥é”™ï¼Œå¦‚æœæƒ³è¦ä¸¥æ ¼é™åˆ¶ï¼Œåˆ™å¯ä»¥è¿™æ ·è¿›è¡Œçº¦æŸï¼š let arr:[number,string,number]=[111,'222',111]; Interfaceæ¥å£ æ¯”å¦‚æˆ‘ä»¬è¦åšä¸€ä¸ªç­›é€‰ï¼Œå§ä¸ç¬¦åˆæ¡ä»¶çš„è¿‡æ»¤å‡ºå»ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šè¿™æ ·å†™ï¼š const types=(name:string,age:number,height:number)=&gt;{ age&gt;=20 &amp;&amp; height&gt;=180 &amp;&amp; console.log('ç¬¦åˆæ¡ä»¶'); age&lt;=20 &amp;&amp; height &lt;180 &amp;&amp;console.log('ä¸ç¬¦åˆ') }; types('tom',20,180) //ç¬¦åˆæ¡ä»¶ ä½†å¦‚æœåˆä¿®æ”¹äº†ä¸€äº›éœ€æ±‚ï¼Œå¯èƒ½è¿˜ä¼šå»å¤§é‡å˜æ›´ä»£ç ï¼Œåœ¨å¼€å‘ä¸­ï¼Œä»£ç èƒ½å¤ç”¨è‚¯å®šæ˜¯æœ€å¥½çš„ï¼Œæ‰€ä»¥å¯ä»¥æŠŠä¸€äº›é‡å¤çš„ä»£ç æŠ½ç¦»å‡ºæ¥ï¼š interface People{ name:string; age:number; height:number; } const types=(people:People)=&gt;{ people.age&gt;=20 &amp;&amp; people.height&gt;=180 &amp;&amp; console.log('ç¬¦åˆæ¡ä»¶'); people.age&lt;=20 &amp;&amp; people.height &lt;180 &amp;&amp;console.log('ä¸ç¬¦åˆ') }; const choose=(people:People)=&gt;{ console.log(people.name+'----'+people.age+'---'+people.height) } const people={ name:'tom', age:18, height:178 } types(people); choose(people); æ¥å£ä¸ç±»å‹åˆ«åçš„åŒºåˆ« çœ‹èµ·æ¥ä¸¤è€…æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œä½†æœ‰ä¸ªå°ç»†èŠ‚ï¼šç±»å‹åˆ«åå¯ä»¥ç›´æ¥ç»™ç±»å‹ï¼Œæ¥å£å¿…é¡»ä»£è¡¨å¯¹è±¡ type People=string; interface People{ name:string; age:number; height:number; } å¦‚æœä¼ å…¥çš„å‚æ•°ä¸­æœ‰ä¸ç¡®å®šé¡¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ?: æ¥è¿›è¡Œå¤„ç†ï¼š interface People{ name:string; age:number; height:number; say?:string }; const types=(people:People)=&gt;{ people.age&gt;=20 &amp;&amp; people.height&gt;=180 &amp;&amp; console.log('ç¬¦åˆæ¡ä»¶'); people.age&lt;=20 &amp;&amp; people.height &lt;180 &amp;&amp;console.log('ä¸ç¬¦åˆ') }; const people={ name:'tom', age:18, height:178 } const people2={ name:'tom', age:18, height:178, say:'hello' } types(people); types(people2); è¿™æ—¶å€™åˆæœ‰æ–°éœ€æ±‚äº†ï¼Œå¦‚ä½•åœ¨åé¢åŠ å…¥ä»»æ„å¤šçš„å­—æ®µï¼Ÿè¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥è¿™ä¹ˆå†™ï¼š interface People{ name:string; age:number; height:number; say?:string; [propname:string]:any; } const types=(people:People)=&gt;{ people.age&gt;=20 &amp;&amp; people.height&gt;=180 &amp;&amp; console.log('ç¬¦åˆæ¡ä»¶'); people.age&lt;=20 &amp;&amp; people.height &lt;180 &amp;&amp;console.log('ä¸ç¬¦åˆ') }; const people={ name:'tom', age:18, height:178, say:'hello', add:'new add', addNumber:123 } types(people); æ¥å£é‡Œçš„æ–¹æ³• æ¥å£ä¸ä»…ä»…å¯ä»¥å­˜å±æ€§ï¼Œä¹Ÿå¯ä»¥å­˜æ–¹æ³•ï¼š interface People{ name:string; age:number; height:number; goto():string; } const types=(people:People)=&gt;{ people.age&gt;=20 &amp;&amp; people.height&gt;=180 &amp;&amp; console.log('ç¬¦åˆæ¡ä»¶'); people.age&lt;=20 &amp;&amp; people.height &lt;180 &amp;&amp;console.log('ä¸ç¬¦åˆ') }; const people={ name:'tom', age:18, height:178, goto(){ return 'hello' } } types(people) æ¥å£å’Œç±»çš„çº¦æŸ åœ¨ES6ä¸­æ˜¯æœ‰ç±»çš„æ¦‚å¿µï¼Œç±»å¯ä»¥å’Œæ¥å£ç›¸ç»“åˆï¼š interface People{ name:string; age:number; height:number; goto():string; } const types=(people:People)=&gt;{ people.age&gt;=20 &amp;&amp; people.height&gt;=180 &amp;&amp; console.log('ç¬¦åˆæ¡ä»¶'); people.age&lt;=20 &amp;&amp; people.height &lt;180 &amp;&amp;console.log('ä¸ç¬¦åˆ') }; const people={ name:'tom', age:18, height:178, say:'hello', add:'new add', addNumber:123, goto(){ return 'hello' } }; class newPeople implements People{ name='bob'; age=19; height:190; say:'hello'; add:'new add2'; addNumber:123; goto(){ return 'hi' } }; let a=new newPeople(); console.log(a.goto()) types(people) æ¥å£çš„ç»§æ‰¿ æ¥å£ä¸æ¥å£ä¹Ÿæ˜¯å¯ä»¥ç»§æ‰¿çš„ï¼š interface People{ name:string; age:number; height:number; say?:string; [propname:string]:any; goto():string; } const types=(people:newPeople)=&gt;{ people.age&gt;=20 &amp;&amp; people.height&gt;=180 &amp;&amp; console.log('ç¬¦åˆæ¡ä»¶'); people.age&lt;=20 &amp;&amp; people.height &lt;180 &amp;&amp;console.log('ä¸ç¬¦åˆ') }; const people={ name:'tom', age:18, height:178, say:'hello', add:'new add', addNumber:123, goto(){ return 'hello' }, back(){ console.log(1) } } interface newPeople extends People{ back():void } types(people) ç±»çš„åŸºæœ¬ä½¿ç”¨ é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªç±»ï¼š class Test{ name='say' say(){ return this.name } }; è¿™å°±æ˜¯å¹³æ—¶æ‰€å†™çš„ç±»ï¼Œåœ¨tsä¸­çš„ç»§æ‰¿å’ŒES6çš„ç»§æ‰¿æ˜¯ä¸€æ ·çš„ï¼Œå…³é”®å­—ä¹Ÿæ˜¯extendsï¼Œæ¯”å¦‚æˆ‘ä»¬è¿™é‡Œæ–°å»ºä¸ªç±»ï¼Œç»§æ‰¿Text; class Test{ name='say' say(){ return this.name } }; class NewTest extends Test{ back(){ return 'hello' } } const tom=new NewTest(); console.log(tom.say()); console.log(tom.back()); superå…³é”®å­—çš„ä½¿ç”¨ å¦‚æœæƒ³åœ¨sayæ–¹æ³•ä¸­åé¢åŠ ç‚¹ä¸œè¥¿ï¼Œå¯ä»¥è¿™ä¹ˆæ“ä½œï¼š class Test{ name='say' say(){ return this.name } }; class NewTest extends Test{ back(){ return 'hello' } say(){ return super.say()+'----hello' } } const tom=new NewTest(); console.log(tom.say()); console.log(tom.back()); tsä¸­ç±»çš„è®¿é—®ç±»å‹ tsä¸­çš„è®¿é—®ç±»å‹å°±æ˜¯åŸºäºä¸‰ä¸ªå…³é”®å­—ï¼šprivateã€protectedä»¥åŠpubilcè¿™ä¸‰ç§è®¿é—®ç±»å‹ã€‚çœ‹ä¾‹å­ï¼Œå…ˆå®šä¹‰ä¸€ä¸ªç±»ï¼Œç„¶åç”¨è¿™ä¸ªç±»çš„å¯¹è±¡ï¼Œè¿›è¡Œèµ‹å€¼ï¼š class Person{ name:string } const person=new Person(); person.name='tom'; console.log(person.name) pubilc è¿è¡Œå¯ä»¥çœ‹åˆ°æ­£å¸¸çš„è¾“å‡ºå†…å®¹ï¼Œè¿™æ˜¯å› ä¸ºå¦‚æœä¸å¯¹nameçš„è®¿é—®å±æ€§è¿›è¡Œå®šä¹‰ï¼Œé‚£ä¹ˆä»–çš„é»˜è®¤å±æ€§å°±æ˜¯pubilc,ä»å­—é¢æ„æ€æ¥çœ‹ï¼Œå®ƒçš„æ„æ€å°±æ˜¯å…¬ç”¨çš„ï¼Œå…è®¸åœ¨ç±»çš„å†…éƒ¨å’Œå¤–éƒ¨è¢«è°ƒç”¨ã€‚ class Person{ public name:string } const person=new Person(); person.name='tom'; console.log(person.name) private privateçš„å±æ€§æ„æ€å°±æ˜¯åªå…è®¸åœ¨ç±»çš„å†…éƒ¨è°ƒç”¨ï¼Œä¸èƒ½åœ¨å¤–éƒ¨è°ƒç”¨ class Person{ private name:string; public say(){ console.log(this.name+'-----hello'); } } const person=new Person(); person.name='tom';//æŠ¥é”™ console.log(person.name)//æŠ¥é”™ protected protectedå…è®¸åœ¨ç±»å†…ä»¥åŠç»§æ‰¿çš„å­ç±»ä¸­ä½¿ç”¨ï¼ŒæŠŠåˆšåˆšçš„nameæ”¹æˆprotectedå±æ€§ï¼Œè¿™æ—¶å€™åœ¨å¤–éƒ¨å°±ä¼šæŠ¥é”™ï¼Œè¿™æ—¶å€™å†å†™ä¸€ä¸ªç»§æ‰¿ï¼Œä»£ç å¦‚ä¸‹ï¼š class Person{ protected name:string; public say(){ console.log(this.name+'-----hello'); } } const person=new Person(); person.name='tom';//æŠ¥é”™ console.log(person.name)//æŠ¥é”™ class NewPerson extends Person{ public back(){ console.log(this.name) } } const newperson=new NewPerson(); newperson.back()//æ­£å¸¸ ç±»çš„æ„é€ å‡½æ•° é¦–å…ˆæ–°å»ºä¸€ä¸ªç±»ï¼šPerson,å®šä¹‰ä¸€ä¸ªnameï¼Œå¹¶åœ¨newçš„æ—¶å€™è¿›è¡Œå‚æ•°ä¼ é€’ï¼Œç„¶åæ‰“å°å‡ºæ¥ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨æ„é€ å‡½æ•°constructor : class Person{ pubilc name:string; constructor(name){ this.name=name } }; const person=new Person('tom'); console.log(person.name); å¯ä»¥çœ‹åˆ°å¯ä»¥æ‰“å°å‡ºæ¥ï¼Œä½†æ˜¯ä¸Šé¢å†™æ³•æœ‰ç‚¹éº»çƒ¦ï¼Œè¿˜å¯ä»¥å†è¿›è¡Œç®€åŒ–ï¼š class Person{ constructor(pubilc name:string){} }; const person=new Person('tom'); console.log(person.name); ç±»ç»§æ‰¿ä¸­çš„æ„é€ å™¨å†™æ³• æ™®é€šçš„ä¹¦å†™æ–¹æ³•ä¸Šé¢å·²ç»æ¼”ç¤ºäº†ï¼Œåœ¨å­ç±»ä¸­ä½¿ç”¨æ„é€ å‡½æ•°éœ€è¦ç”¨**super()**è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œç›´æ¥çœ‹ä»£ç ï¼š class Person{ constructor(pubilc name:string){} }; class Teacher extends Person{ constructor(pubilc age:number){ super() } }; const teacher=new Teacher(18); console.log(teacher.age+'---'+teacher.name); tsä¸­ç±»çš„Getterã€Setterã€staticä»¥åŠreadonly åœ¨ä¸Šé¢ä¸­æåˆ°äº†è®¿é—®ç±»å‹private,å®ƒçš„æœ€å¤§ç”¨å¤„å°±æ˜¯å°è£…ä¸€ä¸ªä¹¦å†™ï¼Œç„¶åé€šè¿‡Getterå’ŒSetterå»è®¿é—®å’Œä¿®æ”¹ï¼š class Person{ constructor(private _age:number){ } } å¦‚æœæƒ³è®©åˆ«äººçŸ¥é“ï¼Œå°±å¯ä»¥ä½¿ç”¨Getteræ¥å®ç°ï¼Œä»–å¹¶ä¸æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œåªæ˜¯ä¸€ä¸ªå±æ€§ï¼š class Person{ constructor(private _age:number){ }; get age(){ return this._age } }; const person=new Person(30); console.log(person.age) è¿™æ—¶å€™ä½ å¯èƒ½ä¼šè§‰å¾—è¿™ä¸æ˜¯å¤šæ­¤ä¸€ä¸¾å—ï¼Ÿä½†åœ¨Getterä¸­å¯ä»¥å¯¹ _ageè¿›è¡Œå¤„ç†ï¼š class Person{ constructor(private _age:number){ }; get age(){ return this._age-10 } }; const person=new Person(30); console.log(person.age) æ—¢ç„¶ _ageæ˜¯ç§æœ‰çš„ï¼Œæˆ‘ä»¬æ— æ³•è¿›è¡Œæ”¹å˜ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ç”¨Setterè¿›è¡Œæ”¹å˜ï¼š class Person{ constructor(private _age:number){ }; get age(){ return this._age } set age(age:number){ this._age=age } }; const person=new Person(30); person.age=20; console.log(person.age) åœ¨ç±»ä¸­ï¼Œå¦‚æœæƒ³ç”¨è¿™ä¸ªç±»çš„å®ä¾‹ï¼Œå°±å¿…é¡»å…ˆè¿›è¡Œnewæ“ä½œï¼Œä½†æœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•ä¸éœ€è¦newå°±å¯ä»¥ï¼Ÿ //å¸¸è§„æ–¹æ³• class Person{ say(){ return 'say hello' } }; const person=new Person(); console.log(person.say()); åœ¨tsä¸­ï¼Œæˆ‘ä»¬ä¸æƒ³newçš„è¯å¯ä»¥è¿™ä¹ˆå†™ï¼š class Person{ static say(){ return 'say hello' } }; console.log(Person.say()) readonlyåœ¨åˆå§‹åŒ–åèµ‹å€¼ï¼Œä»¥åå°±ä¸èƒ½è¿›è¡Œä¿®æ”¹ class Person{ constructor(readonly name:string){} } let p=new Person('tom'); p.name='bob'//æŠ¥é”™ console.log(p.name); ç±»çš„æŠ½è±¡ç±» abstract ç”¨äºå®šä¹‰æŠ½è±¡ç±»å’Œå…¶ä¸­çš„æŠ½è±¡æ–¹æ³•ã€‚å®ƒæœ‰å‡ ä¸ªç‰¹ç‚¹ï¼š æŠ½è±¡ç±»æ˜¯ä¸å…è®¸å®ä¾‹åŒ–çš„ //é”™è¯¯æ¼”ç¤º abstract class Person { public abstract say() } const tom=new Person()//æ— æ³•åˆ›å»ºæŠ½è±¡ç±»çš„å®ä¾‹ æŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•å¿…é¡»è¢«å­ç±»å®ç°ï¼š //é”™è¯¯æ¼”ç¤º abstract class Person { abstract say(){ console.log('hello') } } class Tom extends Person{ say(){ console.log('say hello') } }; //æ­£ç¡®æ–¹æ³• abstract class Person { abstract say() } class Tom extends Person{ say(){ console.log('say hello') } }; tsconfig.jsoné…ç½® ç”Ÿæˆ æˆ‘ä»¬å¯ä»¥é€šè¿‡tsc --initå»ç”Ÿæˆtsé…ç½®æ–‡ä»¶: tsc --init //ç»ˆç«¯æ‰§è¡Œ ç¼–è¯‘ ä¼šç”Ÿæˆä¸€ä¸ªtsconfig.jsonæ–‡ä»¶ï¼Œæˆ‘ä»¬åœ¨tsæ–‡ä»¶ä¸­å¯ä»¥éšä¾¿å†™ç‚¹ä»€ä¹ˆï¼š //æµ‹è¯•tsconfig.json const test:string='tsconfig.json'; ç„¶åæ‰“å¼€tsconfig.jsonæ–‡ä»¶ï¼Œæ‰¾åˆ°complilerOptionså±æ€§ä¸‹çš„removeComments:trueï¼ˆè¿™ä¸ªé…ç½®æ˜¯ç¼–è¯‘åä¸è¾“å‡ºæ³¨é‡Šï¼‰ï¼Œå–æ¶ˆæ‰æ³¨é‡Šï¼Œç„¶åæ‰§è¡Œå‘½ä»¤ï¼š tsc è¿™æ—¶å€™æ‰“å¼€ç”Ÿæˆçš„jsæ–‡ä»¶ï¼Œå‘ç°æ²¡æœ‰æ³¨é‡Šï¼Œè¯´æ˜æˆåŠŸã€‚ include ã€exclude å’Œ files å¦‚æœæœ‰å¤šä¸ªtsæ–‡ä»¶ï¼Œåªæƒ³ç¼–è¯‘ä¸€ä¸ªå¯ä»¥åœ¨tsé…ç½®é¡¹ä¸­åŠ å…¥includeï¼š &quot;include&quot;:[&quot;text.ts&quot;], å¦‚æœæƒ³é™¤äº†æŸä¸ªæ–‡ä»¶ä¸ç¼–è¯‘ï¼Œå‰©ä¸‹çš„éƒ½ç¼–è¯‘ï¼Œå¯ä»¥ä½¿ç”¨excludeï¼š &quot;exclude&quot;:[&quot;text.ts&quot;], fileså’Œincludeæ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼š &quot;files&quot;:[&quot;text.ts&quot;], compilerOptionsé…ç½® removeComments è¿™ä¸ªé…ç½®æ„æ€å°±æ˜¯ç¼–è¯‘åä¸è¾“å‡ºæ³¨é‡Š strict è¿™ä¸ªè®¾ç½®ä¸ºtrue,å°±ä»£è¡¨ä¸¥æ ¼æ‰§è¡Œtsè¯­æ³•ï¼Œè¦ä¸¥æ ¼æŒ‰ç…§tsè¯­æ³•æ¥ç¼–å†™ã€‚ noImplicitAny å…è®¸ä½ çš„æ³¨è§£ç±»å‹ any ä¸ç”¨ç‰¹æ„è¡¨æ˜ï¼Œå¦‚æœæ­¤æ—¶è®¾ç½®äº†true,çœ‹ä¾‹å­ï¼š //è¿™æ—¶å€™ç¼–è¯‘ä¼šæŠ¥é”™ function test(name) { return name; } //æ­£ç¡® function test(name:any) { return name; } strictNullChecks æ„æ€å°±æ˜¯ï¼Œä¸å¼ºåˆ¶æ£€æŸ¥nullç±»å‹,æ­¤æ—¶å¦‚æœé…ç½®ä¸ºtrueçœ‹ä¾‹å­: //æ­¤æ—¶å°±ä¸ä¼šæŠ¥é”™ const test: string = null; outDirå’ŒrootDir æ­¤é¡¹é…ç½®æ˜¯æ¥æŒ‡å®šæ–‡ä»¶ç›®å½•å’Œæ‰“åŒ…åå­˜æ”¾ç›®å½•ï¼ŒrootDirä¸ºæ–‡ä»¶ç›®å½•ï¼ŒoutDirä¸ºæ‰“åŒ…åä¿å­˜çš„ç›®å½• { &quot;outDir&quot;: &quot;./build&quot; , &quot;rootDir&quot;: &quot;./src&quot; , } ç¼–è¯‘ES6è¯­æ³• å¯ä»¥ä½¿ç”¨targetå’ŒallowJsï¼Œtargeté»˜è®¤ä¸ºtrue &quot;target&quot;:'es5' , // è¿™ä¸€é¡¹é»˜è®¤æ˜¯å¼€å¯çš„ï¼Œä½ å¿…é¡»è¦ä¿è¯å®ƒçš„å¼€å¯ï¼Œæ‰èƒ½è½¬æ¢æˆåŠŸ &quot;allowJs&quot;:true, // è¿™ä¸ªé…ç½®é¡¹çš„æ„æ€æ˜¯è”é€š sourceMap sourceMap ç®€å•è¯´ï¼ŒSource map å°±æ˜¯ä¸€ä¸ªä¿¡æ¯æ–‡ä»¶ï¼Œé‡Œé¢å‚¨å­˜ç€ä½ç½®ä¿¡æ¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè½¬æ¢åçš„ä»£ç çš„æ¯ä¸€ä¸ªä½ç½®ï¼Œæ‰€å¯¹åº”çš„è½¬æ¢å‰çš„ä½ç½®ã€‚æœ‰äº†å®ƒï¼Œå‡ºé”™çš„æ—¶å€™ï¼Œé™¤é”™å·¥å…·å°†ç›´æ¥æ˜¾ç¤ºåŸå§‹ä»£ç ï¼Œè€Œä¸æ˜¯è½¬æ¢åçš„ä»£ç ã€‚è¿™æ— ç–‘ç»™å¼€å‘è€…å¸¦æ¥äº†å¾ˆå¤§æ–¹ä¾¿ã€‚ noUnusedLocals è®¾ç½®noUnusedLocalsä¸ºtrueï¼Œç¼–è¯‘ä»£ç ï¼š const name:tring='111'; export const age = &quot;text&quot;; è¿™æ—¶å€™å°±ä¼šæŠ¥é”™ï¼Œå› ä¸ºæœ‰nameå˜é‡æ²¡æœ‰ä½¿ç”¨ã€‚ æ›´å¤š æ›´å¤šå¯ä»¥æŸ¥çœ‹ é…ç½®æŸ¥è¯¢ç½‘ç«™ è”åˆç±»å‹å’Œç±»å‹ä¿æŠ¤ è”åˆç±»å‹ è”åˆç±»å‹çš„æ„æ€å°±æ˜¯å…è®¸ä¸€ä¸ªç±»å‹æœ‰ä¸¤ç§æˆ–è€…ä¸¤ç§ä»¥ä¸Šçš„ç±»å‹: interface Test{ name:string; say:()=&gt;{ } } interface Test2{ name:string; call:()=&gt;{}; } function Tom(fun: Test | Test2){ console.log(fun.name) } å¦‚æœæ­¤æ—¶ä¿®æ”¹ä¸€ä¸‹æ–¹æ³•ï¼š function Tom(fun: Test | Test2){ fun.say() } //æŠ¥é”™ è¿™æ˜¯å› ä¸ºåªèƒ½è®¿é—®ä¸¤ä¸ªç±»å‹çš„å…±æœ‰æ–¹æ³•ã€‚ ç±»å‹ä¿æŠ¤-ç±»å‹æ–­è¨€ ä¸Šé¢çš„æ–¹æ³•ï¼Œå¦‚æœä¿®æ”¹å®ŒæŠ¥é”™ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥ç”¨asæ¥åˆ¤æ–­ï¼š interface Test { text: boolean; say(): void } interface Test2 { text: boolean; skill():string } function judgeWho(val: Waiter | Teacher) { if (val.text) { (val as Teacher).skill(); }else{ (val as Waiter).say(); } } const a={ text:true, skill:function():void{ console.log(1) }, say:function():void{ console.log(2) } } judgeWho(a) //1 ç±»å‹ä¿æŠ¤-inè¯­æ³• inæ–¹æ³•ä¸æ–­è¨€æ¯”è¾ƒç±»ä¼¼ï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š interface Person{ name:string; say:()=&gt;{ } } interface Person2{ name:string; todo:()=&gt;{ } }; function tom(val:Person|Person2){ if('todo' in val){ val.todo() }else{ val.say() } } ç±»å‹ä¿æŠ¤-typeofè¯­æ³• å¯ä»¥ç”¨typeofæ–¹æ³•æ¥åˆ¤æ–­ï¼š function add(name:string|number,name2:string|number){ if(typeof name==='string'||typeof name2=='string'){ return name+'---'+name2 }else{ return name+name2 } } add(1,2) ç±»å‹ä¿æŠ¤-instanecofè¯­æ³• å¦‚æœè¦ä¿æŠ¤ç±»å‹æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå°±å¯ä»¥ä½¿ç”¨instanceofï¼š class NumObject{ num:number } function numbers(num1:object|NumObject,num2:object|NumObject){ if(num1 instanceof NumObject &amp;&amp; num2 instanceof NumObject){ return num1.num+num2.num } } Enumæšä¸¾ç±»å‹ æˆ‘ä»¬å¹³æ—¶ä¼šæœ‰è¿™ç§å†™æ³•ï¼š function getName(status:any){ if(status===0){ return 'one' }else if(status===1){ return 'two' }else{ return 'three' } } console.log(getName(0)) è¿™ä¹ˆå†™å¯èƒ½æœ‰ç‚¹éº»çƒ¦ï¼Œé˜…è¯»èµ·æ¥è¿˜æ˜¯æœ‰ç‚¹éº»çƒ¦ï¼Œè¿™æ—¶å€™å¯ä»¥è¿™ä¹ˆå†™ï¼š const Status={ ONE:0, TWO:1, THREE:3 } function getName(status:any){ if(status===Status.ONE){ return 'one' }else if(status===Status.TWO){ return 'two' }else{ return 'three' } } console.log(getName(0)); è¿™æ—¶å€™æˆ‘ä»¬çš„æšä¸¾å°±è¦ä¸Šåœºäº†ï¼š enum Status{ ONE, TWO, THREE } function getName(status:any){ if(status===Status.ONE){ return 'one' }else if(status===Status.TWO){ return 'two' }else{ return 'three' } } console.log(getName(1)); ä¸€æ ·ä¹Ÿå¯ä»¥è¾“å‡ºï¼Œå› ä¸ºæšä¸¾æ˜¯æœ‰å¯¹åº”æ•°å­—å€¼çš„ï¼Œé»˜è®¤ä»0å¼€å§‹ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ”¹å˜ï¼š enum Status{ ONE=1, TWO,//2 THREE//3 } ä¹Ÿå¯ä»¥è¿›è¡Œè¿”æŸ¥æ“ä½œï¼š enum Status{ ONE, TWO, THREE } function getName(status:any){ if(status===Status.ONE){ return 'one' }else if(status===Status.TWO){ return 'two' }else{ return 'three' } } console.log(Status.ONE,Status[1]); æ³›å‹ æ³›å‹ï¼ˆGenericsï¼‰æ˜¯æŒ‡åœ¨å®šä¹‰å‡½æ•°ã€æ¥å£æˆ–ç±»çš„æ—¶å€™ï¼Œä¸é¢„å…ˆæŒ‡å®šå…·ä½“çš„ç±»å‹ï¼Œè€Œåœ¨ä½¿ç”¨çš„æ—¶å€™å†æŒ‡å®šç±»å‹çš„ä¸€ç§ç‰¹æ€§ã€‚ åœ¨å‡½æ•°ä¸­ä½¿ç”¨ æˆ‘ä»¬å…ˆç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼š function add(one:string,two:string){ return `${one}${two}` } console.log(add('a','b')) è¿™æ—¶å€™æˆ‘ä»¬å¸Œæœ›å‚æ•°æ›´åŠ çµæ´»ä¸€äº›ï¼Œä¸¤ä¸ªå‚æ•°ä¸ºnumberæˆ–è€…stringï¼š function add(one:string|number,two:string|number){ return `${one}${two}` } console.log(add('a','b')) è¿™ä¹ˆä¹¦å†™æœ‰äº›éº»çƒ¦ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨æ³›å‹ï¼š function add&lt;T&gt;(one:T,two:T){ return `${one}${two}` } console.log(add&lt;string&gt;('a','b')) åœ¨ä½¿ç”¨ä¸­ï¼Œæ³›å‹é€šå¸¸ç”¨ &lt;T&gt; æ¥è¿›è¡Œè¡¨ç¤ºã€‚æ³›å‹å¯ä»¥æœ‰å¤šä¸ªå—ï¼Ÿå½“ç„¶å¯ä»¥ï¼š function add&lt;T,P&gt;(one:T,two:P){ return `${one}${two}` } console.log(add&lt;string,number&gt;('a',2)) åŒæ—¶æ³›å‹ä¹Ÿæ”¯æŒç±»å‹æ¨æ–­ï¼š function add&lt;T,P&gt;(one:T,two:P){ return `${one}${two}` } console.log(add&lt;string,number&gt;('a',2)) åœ¨ç±»ä¸­ä½¿ç”¨ é¦–å…ˆå…ˆå†™ä¸€ä¸ªç±»,ä¸”æ¥å—å‚æ•°ä¸ºä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„é‡Œé¢å­˜æ”¾stringç±»å‹çš„æ•°æ®ï¼š class List { constructor(private list:string[]) {}; getItem(index:number):string{ return this.list[index] } }; const list=new List(['girl','boy','wom']); console.log(list.getItem(1)) è¿™æ—¶å€™å¦‚æœæˆ‘ä»¬ä¼ é€’æ•°ç»„æ—¶å€™é‡Œé¢åˆæƒ³æ”¾æ•°å­—æ€ä¹ˆåŠï¼š class List { constructor(private list:string[]|number[]) {}; getItem(index:number):string|number{ return this.list[index] } }; const list=new List(['girl','boy','wom']); console.log(list.getItem(1)) è¿™ä¹ˆå†™å°±æ¯”è¾ƒå¤æ‚äº†,è¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨æ³›å‹æ¥ç®€åŒ–æˆ‘ä»¬çš„ä»£ç ï¼š class List&lt;T&gt;{ constructor(private list:T[]) {}; getItem(index:number):T{ return this.list[index] } }; const list=new List(['girl','boy','wom']); console.log(list.getItem(1)) å‘ç°ä¸Šé¢çš„ä»£ç æ²¡æœ‰æŠ¥é”™ï¼Ÿå› ä¸ºç±»å‹æ¨è®ºï¼Œæ‰€ä»¥ä¸ä¼šæŠ¥é”™ï¼Œä¸¥æ ¼æ„ä¹‰ä¸Šåº”è¯¥newçš„æ—¶å€™åŠ ä¸Šç±»å‹ï¼š const list=new List&lt;string&gt;(['girl','boy','wom']); è¿˜æœ‰ä¸€ç§åœºæ™¯ï¼Œä¼ é€’è¿‡æ¥æ˜¯ä¸€ä¸ªæ•°ç»„å¯¹è±¡ï¼Œè¿™æ—¶å€™å¯ä»¥é€šè¿‡ç»§æ‰¿æ¥è§£å†³ï¼š interface People{ name:string } class List&lt;T extends People&gt;{ constructor(private list:T[]) {}; getItem(index:number):string{ return this.list[index].name } }; const list=new List( [ {name:'boy'}, {name:'girl'} ] ); console.log(list.getItem(1)) æ³›å‹çº¦æŸ ä¸Šé¢ä¾‹å­ä¸­ï¼Œæ³›å‹å¯ä»¥ä¸ºä»»æ„å€¼ï¼Œä½†æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›è¿˜æ˜¯èƒ½ç¨å¾®çº¦æŸä¸€ä¸‹ï¼š function list&lt;T extends number|string&gt;(name:T){ return `${name}` } console.log(list&lt;number&gt;(1)) class List&lt;T extends number|string&gt; { constructor(private list:T[]) { }; getItem(index:number):T{ return this.list[index] } } const list=new List([1,2]) console.log(list.getItem(0)) Namespaceå‘½åç©ºé—´ æ–°å»ºä¸€ä¸ªtsé¡¹ç›® é¦–å…ˆï¼Œæˆ‘ä»¬å»ºç«‹ä¸€ä¸ªé¡¹ç›®æ–‡ä»¶ï¼Œç„¶ånpm init -yç”Ÿæˆpackage.jsonæ–‡ä»¶ï¼Œç„¶åå†tsc -initç”Ÿæˆtsé…ç½®æ–‡ä»¶ã€‚ åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºindex.htmlæ–‡ä»¶ï¼Œå†å»ºç«‹ä¸€ä¸ªsrcå’Œbulidç›®å½•ï¼Œåœ¨srcç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªindex.jsã€‚ é…ç½®tsconfig.jsonæ–‡ä»¶ï¼Œè®¾ç½®å…¥å£å’Œè¾“å‡ºç›®å½•ï¼ˆoutDirå’ŒrootDirï¼‰ã€‚ æ‰“å¼€index.html,å¼•å…¥jsæ–‡ä»¶ï¼š &lt;script src=&quot;./build/index.js&quot;&gt;&lt;/script&gt; åœ¨æ–°å»ºçš„tsæ–‡ä»¶ä¸­éšä¾¿å†™ç‚¹ä»€ä¹ˆï¼š console.log('hello'); ç„¶åtscç¼–è¯‘ä¸€ä¸‹ï¼Œæ‰“å¼€æ§åˆ¶å°ï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°äº† ç¼–å†™ä¸€ä¸ªå°ç»„ä»¶ åœ¨æˆ‘ä»¬åˆšåˆšå»ºç«‹çš„index.tsæ–‡ä»¶ï¼Œå†™ä¸€ä¸ªheaderã€contentå’Œfooterç»„ä»¶ï¼š class Header { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Header&quot;; document.body.appendChild(elem); } } class Content { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Content&quot;; document.body.appendChild(elem); } } class Footer { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Footer&quot;; document.body.appendChild(elem); } } class Page { constructor() { new Header(); new Content(); new Footer(); } } ç„¶ååœ¨index.htmlä¸­åŠ ä¸€è¡Œjsä»£ç ï¼š &lt;script&gt;new Page();&lt;/script&gt; è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å†…å®¹æ­£å¸¸è¾“å‡ºï¼Œä½†æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬çš„Headerã€contentå’Œfooteréƒ½æš´éœ²äº†å‡ºæ¥ï¼Œå¹¶ä¸æ˜¯åªæš´éœ²ä¸€ä¸ªpageï¼Œè¿™æ—¶å€™æˆ‘ä»¬çš„å‘½åç©ºé—´å°±æ´¾ä¸Šäº†ç”¨åœºï¼š å‘½åç©ºé—´ å‘½åç©ºé—´å£°æ˜çš„å…³é”®è¯æ˜¯namespace æ¯”å¦‚å£°æ˜ä¸€ä¸ªnamespace Home,éœ€è¦æš´éœ²å‡ºå»çš„ç±»ï¼Œå¯ä»¥ä½¿ç”¨exportå…³é”®è¯ï¼Œè¿™æ ·åªæœ‰æš´æ¼å‡ºå»çš„ç±»æ˜¯å…¨å±€çš„ï¼Œå…¶ä»–çš„ä¸ä¼šå†ç”Ÿæˆå…¨å±€æ±¡æŸ“äº†ã€‚ namespace Home { class Header { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Header&quot;; document.body.appendChild(elem); } } class Content { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Content&quot;; document.body.appendChild(elem); } } class Footer { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Footer&quot;; document.body.appendChild(elem); } } export class Page { constructor() { new Header(); new Content(); new Footer(); } } } è¿™ä¹ˆå†™ä¹Ÿæ˜¯æ¯”è¾ƒéº»çƒ¦ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦å¼•å…¥ä¸¤ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®æ¥è®©ä»–æˆä¸ºä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰“å¼€tsconfig.json,æ‰¾åˆ°è¿™ä¸€è¡Œï¼š &quot;module&quot;:&quot;commonjs&quot; //ä¿®æ”¹ä¸ºï¼š &quot;module&quot;:&quot;amd ç„¶åæ‰¾åˆ°è¿™ä¸€è¡Œï¼š { &quot;outFile&quot;: &quot;./build/index.js&quot; } å­å‘½åç©ºé—´ å¦‚æœåœ¨åˆšåˆšçš„ç»„ä»¶ä¸­å†å†™ä¸€ä¸ªä¼šæ€ä¹ˆæ ·ï¼Ÿ namespace Components { export namespace SubComponents { export class Test {} } //someting ... } //è¯»å– // Components.SubComponents.Test tsä¸­ä½¿ç”¨import é¦–å…ˆå»ºç«‹ä¸€ä¸ªæ–‡ä»¶compontent.ts,éšä¾¿å†™ç‚¹ä¸œè¥¿ï¼Œç„¶åä½¿ç”¨exportå¯¼å‡ºï¼š export class Header { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Header&quot;; document.body.appendChild(elem); } } export class Content { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Content&quot;; document.body.appendChild(elem); } } export class Footer { constructor() { const elem = document.createElement(&quot;div&quot;); elem.innerText = &quot;This is Footer&quot;; document.body.appendChild(elem); } } ç„¶ååœ¨index.tsä¸­å¯¼å…¥ä¸€ä¸‹ï¼š import { Header, Content, Footer } from &quot;./compontent&quot;; export class Page{ constructor(){ new Header(); new Content(); new Footer(); } } è¿è¡Œtscç¼–è¯‘ï¼Œæ‰“å¼€buildä¸­çš„index.js,å¯ä»¥çœ‹åˆ°ä»£ç æ˜¯defineå¼€å¤´çš„ï¼Œè¿™æ˜¯ amd è§„èŒƒçš„ä»£ç ï¼Œä¸èƒ½ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼Œå¯ä»¥åœ¨ Node ä¸­ç›´æ¥è¿è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦å€ŸåŠ©require.jsçš„æ”¯æŒï¼š &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.js&quot;&gt;&lt;/script&gt; ç„¶ååœ¨index.htmlä¸­ä½¿ç”¨require.jså†™æ³•ï¼š &lt;script&gt; require([&quot;page&quot;], function (page) { new page.default(); }); &lt;/script&gt; ","link":"https://lonjinup.github.io/kstypescript/"},{"title":"å‰ç«¯å¤ä¹ ç¬”è®°","content":"é‡‘ä¸‰é“¶å›› 2021å¹´å‰ç«¯é¢è¯•ç¬”è®° åˆåˆ°äº†æ‰¾å·¥ä½œçš„é»„é‡‘æ—¶é—´ï¼Œ3-4æœˆä»½ï¼Œè·³æ§½æ˜¯æ¯ä¸ªäººçš„èŒä¸šç”Ÿæ¶¯ä¸­éƒ½è¦ç»å†çš„è¿‡ç¨‹ï¼Œç¬”è€…æœ€è¿‘ä¹Ÿæ˜¯å¤ä¹ äº†ä¸€æ³¢ï¼Œæ•´ç†äº†ä¸€ä¸‹é¢è¯•ä¸­å…³äºjavascriptå’Œvueçš„ä¸€äº›é—®é¢˜ã€‚çœ‹åˆ°æœ¬æ–‡çš„ä½ å¦‚æœæ„Ÿè§‰å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¸å¦‚ç´ è´¨ä¸‰è¿ï¼Œç å­—ä¸æ˜“ï¼Œæ„Ÿè°¢æ‚¨çš„æ”¯æŒï¼ JavaScript æ•°æ®ç±»å‹ ä»‹ç»ä¸€ä¸‹jsä¸­çš„æ•°æ®ç±»å‹ä»¥åŠå€¼æ˜¯å¦‚ä½•å­˜å‚¨çš„ JavaScriptä¸­ä¸€å…±æœ‰8ç§æ•°æ®ç±»å‹ï¼Œå…¶ä¸­åŸºæœ¬æ•°æ®ç±»å‹æœ‰ï¼šNullã€Undefinedã€Booleanã€Stringã€Numberã€Bigintã€Symbolã€‚ è¿˜æœ‰ä¸€ç§æ•°æ®ç±»å‹objectï¼šé‡Œé¢åŒ…å«functionã€Arrayã€Dateç­‰ã€‚ åŸºæœ¬æ•°æ®ç±»å‹ä¿å­˜åœ¨æ ˆåŒºä¸­ï¼Œå æ®ç©ºé—´å°ã€å¤§å°å›ºå®šã€‚ å¼•ç”¨æ•°æ®ç±»å‹ä¿å­˜åœ¨æ ˆåŒºå’Œå †åŒºï¼Œå æ®ç©ºé—´å¤§ï¼Œä¸”å¤§å°ä¸å›ºå®šã€‚å¼•ç”¨æ•°æ®ç±»å‹åœ¨æ ˆåŒºä¸­å­˜æ”¾äº†æŒ‡é’ˆï¼ŒæŒ‡é’ˆæŒ‡å‘å †åŒºçš„å®é™…åœ°å€ã€‚å½“è§£é‡Šå™¨å¯»æ‰¾å¼•ç”¨å€¼æ—¶ï¼Œä¼šé¦–å…ˆæ£€ç´¢å…¶åœ¨æ ˆä¸­çš„åœ°å€ï¼Œå–å¾—åœ°å€åä»å †ä¸­è·å¾—å®ä½“ã€‚ jsä¸­æ•°æ®ç±»å‹åˆ¤æ–­ è¯´ä¸€è¯´åœ¨jsä¸­åˆ¤æ–­æ•°æ®ç±»å‹çš„æ–¹æ³• typeof typeofå¯ä»¥åˆ¤æ–­åŸå§‹æ•°æ®ç±»å‹ï¼Œé™¤äº†nullä¹‹å¤–ï¼š console.log(typeof 2) //number console.log(typeof 'hello') //string console.log(typeof null) //object console.log(typeof true)//boolean console.log(typeof undefined) //undefined console.log(typeof []) //object å› ä¸ºå› ä¸ºç‰¹æ®Šå€¼nullè¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªå¯¹ç©ºå¯¹è±¡çš„å¼•ç”¨ instanceof instanceofå¯ä»¥æ­£ç¡®çš„åˆ¤æ–­å¯¹è±¡çš„ç±»å‹ï¼Œå› ä¸ºå†…éƒ¨æœºåˆ¶æ˜¯é€šè¿‡åˆ¤æ–­å¯¹è±¡çš„åŸå‹é“¾ä¸­æ˜¯ä¸æ˜¯èƒ½æ‰¾åˆ°ç±»å‹çš„prototype: console.log([] instanceof Array) //true console.log({} instanceof Object)//true console.log(function(){} instanceof Function)//true console.log(1 instanceof Number)//false constructor constructorä¸»è¦æ˜¯åˆ©ç”¨åŸå‹ä¸Šçš„prototype.constructoræŒ‡å‘å®ä¾‹çš„æ„é€ å‡½æ•°æ¥è¿›è¡Œåˆ¤æ–­çš„ console.log((1).constructor === Number) //true console.log('1'.constructor===String)//true console.log((function(){}).constructor===Function) //true console.log([].constructor===Array) //true console.log(({}).constructor===Object) //true ä½†constructoræœ‰ä¸ªç‰¹ç‚¹å°±æ˜¯ï¼šå¦‚æœæˆ‘åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬å†å»ä¿®æ”¹å®ƒçš„åŸå‹ï¼Œå°±å˜å¾—ä¸é‚£ä¹ˆå¯é ï¼š function Func(){} Func.prototype=new Array(); const f=new Func() console.log(f.constructor===Function)//false Object.prototype.toString.call ä½¿ç”¨ Object å¯¹è±¡çš„åŸå‹æ–¹æ³•toString,è¿”å›å€¼æ˜¯[object ç±»å‹]å­—ç¬¦ä¸²,è¯¥æ–¹æ³•åŸºæœ¬ä¸Šèƒ½åˆ¤æ–­æ‰€æœ‰çš„æ•°æ®ç±»å‹. var toString = Object.prototype.toString; console.log(toString.call(2)) //[object Number] console.log(toString.call(true)) //[object Boolean] console.log(toString.call(function(){})) //[object Function] ä½œç”¨åŸŸå’Œä½œç”¨åŸŸé“¾ è°ˆä¸€è°ˆä½ å¯¹ä½œç”¨åŸŸã€ä½œç”¨åŸŸé“¾çš„ç†è§£ã€‚ ä½œç”¨åŸŸï¼šä½œç”¨åŸŸå°±æ˜¯å®šä¹‰å˜é‡çš„åŒºåŸŸï¼Œå®ƒæœ‰ä¸€å¥—è®¿é—®å˜é‡çš„è§„åˆ™ï¼Œæ ¹æ®è¿™å¥—è§„åˆ™æ¥ç®¡ç†æµè§ˆå™¨å¼•æ“å¦‚ä½•åœ¨å½“å‰ä½œç”¨åŸŸå’ŒåµŒå¥—ä½œç”¨åŸŸä¸­ä¸­æ ¹æ®å˜é‡ï¼ˆæ ‡è¯†ç¬¦ï¼‰è¿›è¡Œå˜é‡æŸ¥æ‰¾ã€‚ ä½œç”¨åŸŸé“¾ï¼šä½œç”¨åŸŸé“¾ä¿è¯å¯¹æ‰§è¡Œç¯å¢ƒæœ‰æƒè®¿é—®æ‰€æœ‰å˜é‡å’Œå‡½æ•°çš„æœ‰åºè®¿é—®ï¼Œé€šè¿‡ä½œç”¨åŸŸé“¾ï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—®åˆ°å¤–å±‚ç¯å¢ƒä¸­çš„å˜é‡å’Œå‡½æ•°ã€‚ ä½œç”¨åŸŸé“¾çš„æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæŒ‡å‘å˜é‡å¯¹è±¡çš„æŒ‡é’ˆåˆ—è¡¨ã€‚å˜é‡å¯¹è±¡æ˜¯ä¸€ä¸ªåŒ…å«äº†æ‰§è¡Œç¯å¢ƒä¸­æ‰€æœ‰å˜é‡å’Œå‡½æ•°çš„å¯¹è±¡ã€‚ä½œç”¨åŸŸé“¾çš„å‰ç«¯å§‹ç»ˆéƒ½æ˜¯å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ã€‚å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯å…¨å±€å¯¹è±¡ï¼‰å§‹ç»ˆæ˜¯ä½œç”¨åŸŸé“¾çš„æœ€åä¸€ä¸ªå¯¹è±¡ã€‚å½“æˆ‘ä»¬æŸ¥æ‰¾ä¸€ä¸ªå˜é‡æ—¶ï¼Œå¦‚æœå½“å‰æ‰§è¡Œç¯å¢ƒä¸­æ²¡æœ‰æ‰¾åˆ°ï¼Œæˆ‘ä»¬å¯ä»¥æ²¿ç€ä½œç”¨åŸŸé“¾å‘åæŸ¥æ‰¾ this è°ˆä¸€è°ˆä½ å¯¹thisçš„ç†è§£ï¼Œä»¥åŠåœ¨å„ç§ç¯å¢ƒä¸‹çš„this åœ¨æµè§ˆå™¨é‡Œï¼Œåœ¨å…¨å±€èŒƒå›´å†…thisæŒ‡å‘windowå¯¹è±¡ åœ¨å‡½æ•°ä¸­ï¼Œthisæ°¸è¿œæŒ‡å‘æœ€åè°ƒç”¨ä»–çš„é‚£ä¸ªå¯¹è±¡(ç®­å¤´å‡½æ•°é™¤å¤–)ã€‚ åœ¨æ„é€ å‡½æ•°ä¸­ï¼ŒthisæŒ‡å‘newå‡ºæ¥çš„æ–°å¯¹è±¡ã€‚ callã€applyã€bindä¸­çš„thisè¢«å¼ºç»‘å®šåœ¨æŒ‡å®šçš„é‚£ä¸ªå¯¹è±¡ä¸Šã€‚ ç®­å¤´å‡½æ•°thisä¸ºçˆ¶ä½œç”¨åŸŸçš„thisï¼Œä¸æ˜¯è°ƒç”¨æ—¶çš„thisã€‚ åŸå‹ï¼ŒåŸå‹é“¾ è°ˆä¸€è°ˆJavaScriptä¸­åŸå‹ï¼ŒåŸå‹é“¾ï¼Œæœ‰ä»€ä¹ˆç‰¹ç‚¹ åœ¨jsä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ„é€ å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œæ¯ä¸ªæ„é€ å‡½æ•°éƒ½ä¼šæœ‰ä¸ªprototypeå±æ€§ï¼Œè¿™ä¸ªå±æ€§å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«äº†å¯ä»¥ç”±è¯¥æ„é€ å‡½æ•°çš„æ‰€æœ‰å®ä¾‹å…±äº«çš„å±æ€§å’Œæ–¹æ³•ã€‚å½“æˆ‘ä»¬è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡å†…éƒ¨ä¸å­˜åœ¨è¿™ä¸ªå±æ€§ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šå»å®ƒçš„åŸå‹å¯¹è±¡é‡Œæ‰¾è¿™ä¸ªå±æ€§ï¼Œè¿™ä¸ªåŸå‹å¯¹è±¡åˆä¼šæœ‰è‡ªå·±çš„åŸå‹ï¼Œäºæ˜¯å°±è¿™æ ·ä¸€ç›´æ‰¾ä¸‹å»ï¼Œä¹Ÿå°±æ˜¯åŸå‹é“¾çš„æ¦‚å¿µã€‚åŸå‹é“¾çš„å°½å¤´ä¸€èˆ¬æ¥è¯´éƒ½æ˜¯Object.prototypeã€‚ function Func(name){ this.name=name }; let tom=new Func('TOM'); console.log(tom) console.log(tom.__proto__===Func.prototype) //true console.log(tom.__proto__.constructor==Func) //true å†ä¸Šä¸€å¼ å›¾ï¼Œæ›´å¥½ç†è§£ åŸå‹å¯¹è±¡çš„ä½œç”¨ï¼š function Func(name){ this.name=name; this.say=function(){ console.log(this.name) } } let m=new Func('tom'); let n=new Func('tom') console.log(m) console.log(n) console.log(m.say===n.say) //false æ¯æ¬¡è¿›è¡Œnewï¼Œéƒ½ä¼šå¼€è¾Ÿæ–°çš„åŒºåŸŸï¼Œè¿™æ ·å¾ˆæ˜¾ç„¶ä¸å¥½ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å§å…±æœ‰çš„æ–¹æ³•æ”¾åœ¨åŸå‹å¯¹è±¡ä¸Šï¼Œè¿™æ ·å°±é¿å…äº†å†…å­˜æµªè´¹ï¼š function Func(name){ this.name=name; } Func.prototype.say=function(){ console.log(this.name) } let m=new Func('tom'); let n=new Func('tom') console.log(m) console.log(n) console.log(m.say===n.say) //true é—­åŒ… è°ˆä¸€è°ˆå¯¹é—­åŒ…çš„ç†è§£ï¼Œä»¥åŠä½¿ç”¨åœºæ™¯ é—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸå†…çš„å˜é‡çš„å‡½æ•°ã€‚é—­åŒ…æœ€å¸¸è§çš„å°±æ˜¯åœ¨å‡½æ•°ä¸­åˆ›å»ºå‡½æ•°ï¼Œåˆ›å»ºçš„å‡½æ•°å°±å¯ä»¥è®¿é—®åˆ°å½“å‰å‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚ è¿‡ä½¿ç”¨é—­åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨å¤–éƒ¨è°ƒç”¨é—­åŒ…å‡½æ•°ï¼Œä»è€Œåœ¨å¤–éƒ¨è®¿é—®åˆ°å‡½æ•°å†…éƒ¨çš„å˜é‡ï¼Œå¯ä»¥ä½¿ç”¨è¿™ç§æ–¹æ³•æ¥åˆ›å»ºç§æœ‰å˜é‡ã€‚ å¦ä¸€ä¸ªç”¨é€”æ˜¯ä½¿å·²ç»è¿è¡Œç»“æŸçš„å‡½æ•°ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡å¯¹è±¡ç»§ç»­ç•™åœ¨å†…å­˜ä¸­ï¼Œå› ä¸ºé—­åŒ…å‡½æ•°ä¿ç•™äº†è¿™ä¸ªå˜é‡å¯¹è±¡çš„å¼•ç”¨ï¼Œæ‰€ä»¥è¿™ä¸ªå˜é‡å¯¹è±¡ä¸ä¼šè¢«å›æ”¶ã€‚ function func(){ let n=0; function add(){ n++; console.log(n) } return add } let a=func(); a() //1 a()//2 äº‹ä»¶æ¨¡å‹ ä»€ä¹ˆæ˜¯äº‹ä»¶ï¼Ÿéƒ½æœ‰å“ªå‡ ç§äº‹ä»¶ï¼Ÿ äº‹ä»¶æ˜¯æŒ‡ç”¨æˆ·æ“ä½œé¡µé¢æ—¶å€™å‘ç”Ÿçš„äº¤äº’æˆ–è€…ç½‘é¡µæœ¬èº«çš„ä¸€äº›æ“ä½œï¼Œæµè§ˆå™¨ä¸€å…±æœ‰ä¸‰ç§äº‹ä»¶æ¨¡å‹ï¼š DOM0çº§æ¨¡å‹ï¼šè¿™ç§æ¨¡å‹ä¸ä¼šä¼ æ’­ï¼Œæ²¡æœ‰äº‹ä»¶æµçš„æ¦‚å¿µï¼Œä½†ç°åœ¨æœ‰çš„æµè§ˆå™¨æ”¯æŒä»¥å†’æ³¡çš„æ–¹å¼å®ç°ï¼Œå®ƒå¯ä»¥åœ¨ç½‘é¡µä¸­ç›´æ¥å®šä¹‰ç›‘å¬å‡½æ•°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡jså±æ€§æ¥æŒ‡å®šç›‘å¬å‡½æ•°ã€‚ IEäº‹ä»¶æ¨¡å‹ï¼šåœ¨è¿™ç§äº‹ä»¶æ¨¡å‹ä¸­ï¼Œä¸€æ¬¡äº‹ä»¶ä¸€å…±æœ‰ä¸¤ä¸ªè¿‡ç¨‹ï¼Œäº‹ä»¶å¤„ç†é˜¶æ®µå’Œäº‹ä»¶å†’æ³¡é˜¶æ®µï¼Œäº‹ä»¶å¤„ç†é˜¶æ®µé¦–å…ˆä¼šæ‰§è¡Œç›®æ ‡å…ƒç´ ç»‘å®šçš„ç›‘å¬äº‹ä»¶ã€‚ç„¶åæ˜¯äº‹ä»¶å†’æ³¡é˜¶æ®µï¼Œå†’æ³¡æŒ‡çš„æ˜¯äº‹ä»¶ä»å†’æ³¡åˆ°documentï¼Œä¸€æ¬¡æ£€æŸ¥ç»è¿‡çš„èŠ‚ç‚¹æ˜¯å¦ç»‘å®šäº†äº‹ä»¶ç›‘å¬å‡½æ•°ï¼Œä¼šæŒ‰é¡ºåºä¾æ¬¡è¿›è¡Œã€‚ DOM2çº§äº‹ä»¶æ¨¡å‹ï¼šåœ¨è¯¥äº‹ä»¶æ¨¡å‹ä¸­ï¼Œä¸€æ¬¡äº‹ä»¶ä¸€å…±æœ‰ä¸‰ä¸ªè¿‡ç¨‹ï¼Œç¬¬ä¸€ä¸ªè¿‡ç¨‹å°±æ˜¯äº‹ä»¶æ•è·é˜¶æ®µï¼Œæ•è·æŒ‡çš„æ˜¯äº‹ä»¶ä»documentä¸€ç›´å‘ä¸‹ä¼ æ’­åˆ°ç›®æ ‡å…ƒç´ ï¼Œä¾æ¬¡æ£€æŸ¥ç»è¿‡çš„èŠ‚ç‚¹æ˜¯å¦ç»‘å®šäº†äº‹ä»¶ç›‘å¬å‡½æ•°ï¼Œå¦‚æœæœ‰åˆ™æ‰§è¡Œã€‚åé¢çš„ä¸¤ä¸ªé˜¶æ®µå’ŒIEäº‹ä»¶æ¨¡å‹åŸºæœ¬ä¸€æ ·ã€‚è¿™æ ·çš„äº‹ä»¶æ¨¡å‹ï¼Œäº‹ä»¶ç»‘å®šçš„å‡½æ•°å°±æ˜¯addEventListener,å…¶ä¸­ç¬¬ä¸‰ä¸ªå‚æ•°å¯ä»¥æŒ‡å®šäº‹ä»¶æ˜¯å¦åœ¨æ•è·é˜¶æ®µæ‰§è¡Œã€‚ //DMO0 element.onclick=function(){} //DOM2 element.addEventListener('click',function(){},false) //DOM3 å¢åŠ äº†é¼ æ ‡äº‹ä»¶ï¼Œé”®ç›˜äº‹ä»¶ element.addEventListener('keyup',function(){},false) DOMäº‹ä»¶çš„æ•è·æµç¨‹:window---&gt;document---&gt;html---&gt;body---&gt;é€æ¸ä¼ é€’ DOMäº‹ä»¶å†’æ³¡è¿‡ç¨‹ï¼šç›®æ ‡å…ƒç´ ---&gt;çˆ¶å…ƒç´ ---&gt;body---&gt;html---&gt;document---&gt;window Eventå¯¹è±¡çš„å¸¸è§åº”ç”¨ event.preventDefault() //é˜»æ­¢é»˜è®¤è¡Œä¸º æ¯”é˜»æ­¢ç‚¹å‡»aæ ‡ç­¾è½¬è·³ event.stopPropagation() //é˜»æ­¢äº‹ä»¶å†’æ³¡ event.stoplmmediatePropagation() //åŒæ—¶æ³¨å†Œä¸¤ä¸ªäº‹ä»¶ï¼Œå†³å®šäº‹ä»¶ä¼˜å…ˆçº§ event.currentTarget() //äº‹ä»¶ä»£ç†ï¼ŒæŠŠå­å…ƒç´ çš„äº‹ä»¶å§”æ‰˜ç»™çˆ¶å…ƒç´  event.target() //å½“å‰è¢«ç‚¹å‡»çš„å…ƒç´  å¼‚æ­¥ç¼–ç¨‹ è°ˆä¸€è°ˆjsä¸­çš„å¼‚æ­¥ç¼–ç¨‹æ–¹æ¡ˆï¼Œå®ƒä¸ºäº†è§£å†³ä»€ä¹ˆï¼Ÿ æˆ‘ä»¬ä¹‹å‰å†™ä»£ç ï¼Œå¯èƒ½ä¼šå‡ºç°å‡½æ•°åµŒå¥—å‡½æ•°ï¼Œå¦‚æœå¤šä¸ªåµŒå¥—ï¼Œç»“æ„å°±ä¼šå¾ˆä¹±ï¼Œä¹Ÿä¸å®¹æ˜“ç»´æŠ¤ï¼Œäºæ˜¯ä¾¿æœ‰äº†å¼‚æ­¥ç¼–ç¨‹çš„æ¦‚å¿µã€‚ Promise Promiseæ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ã€‚å®ƒç”±ç¤¾åŒºæœ€æ—©æå‡ºå’Œå®ç°ï¼ŒES6 å°†å…¶å†™è¿›äº†è¯­è¨€æ ‡å‡†ï¼Œç»Ÿä¸€äº†ç”¨æ³•ï¼ŒåŸç”Ÿæä¾›äº†Promiseå¯¹è±¡ã€‚ æ‰€è°“Promiseï¼Œç®€å•è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰çš„ç»“æœã€‚ä»è¯­æ³•ä¸Šè¯´ï¼ŒPromise æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»å®ƒå¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚Promise æä¾›ç»Ÿä¸€çš„ APIï¼Œå„ç§å¼‚æ­¥æ“ä½œéƒ½å¯ä»¥ç”¨åŒæ ·çš„æ–¹æ³•è¿›è¡Œå¤„ç†ã€‚ Promiseå¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ï¼Œå®ƒæœ‰ä¸‰ç§çŠ¶æ€ï¼Œpending(è¿›è¡Œä¸­)ã€fulfilled(å·²æˆåŠŸ)ã€rejected(å·²å¤±è´¥)ã€‚åªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå¯ä»¥å†³å®šå½“å‰æ˜¯å“ªä¸€ç§çŠ¶æ€ï¼Œä»»ä½•å…¶ä»–æ“ä½œéƒ½æ— æ³•æ”¹å˜è¿™ä¸ªçŠ¶æ€ã€‚è¿™ä¹Ÿæ˜¯Promiseè¿™ä¸ªåå­—çš„ç”±æ¥ï¼Œå®ƒçš„è‹±è¯­æ„æ€å°±æ˜¯â€œæ‰¿è¯ºâ€ï¼Œè¡¨ç¤ºå…¶ä»–æ‰‹æ®µæ— æ³•æ”¹å˜ã€‚å®ƒçš„çŠ¶æ€å¯ä»¥ä»pendingå˜ä¸ºfulfilledï¼Œæˆ–è€…ä»pendingå˜ä¸ºrejectedã€‚ thenæ–¹æ³• Promiseåªæ˜¯èƒ½å¤Ÿç®€åŒ–å±‚å±‚å›è°ƒçš„å†™æ³•ï¼Œè€Œå®è´¨ä¸Šï¼ŒPromiseçš„ç²¾é«“æ˜¯â€œçŠ¶æ€â€ï¼Œç”¨ç»´æŠ¤çŠ¶æ€ã€ä¼ é€’çŠ¶æ€çš„æ–¹å¼æ¥ä½¿å¾—å›è°ƒå‡½æ•°èƒ½å¤ŸåŠæ—¶è°ƒç”¨ï¼Œå®ƒæ¯”ä¼ é€’callbackå‡½æ•°è¦ç®€å•ã€çµæ´»çš„å¤šã€‚ const testPormise=new Promise((resovle,reject)=&gt;{ console.log(&quot;hi,Pormise&quot;); let test=true; if(test){ resovle('æˆåŠŸï½') }else{ reject(&quot;å¤±è´¥äº†&quot;) } }); testPormise.then((res)=&gt;{ console.log(res) }).catch((erro)=&gt;{ console.log(erro) }) rejected åªæœ‰æ‰§è¡Œäº†rejectedè¿™æ ·å°±å¯ä»¥åœ¨thenä¸­æ•è·åˆ°ï¼Œç„¶åæ‰§è¡Œå¤±è´¥æƒ…å†µä¸‹çš„å›è°ƒï¼š let p = new Promise((resolve, reject) =&gt; { //åšä¸€äº›å¼‚æ­¥æ“ä½œ setTimeout(function(){ var num = Math.ceil(Math.random()*10); //ç”Ÿæˆ1-10çš„éšæœºæ•° if(num&lt;=3){ resolve(num); } else{ reject('æ•°å­—å¤ªå¤§äº†'); } }, 2000); }); p.then((data) =&gt; { console.log('resolved',data); },(err) =&gt; { console.log('rejected',err); } ); catch catchå’Œthenç”¨æ³•ä¸€æ ·ï¼Œç”¨æ¥æŒ‡å®šrejectçš„å›è°ƒï¼š p.then((data) =&gt; { console.log('resolved',data); }).catch((err) =&gt; { console.log('rejected',err); }); all allæ¥æ”¶ä¸€ä¸ªæ•°ç»„å‚æ•°ï¼Œé‡Œé¢çš„å€¼æœ€ç»ˆéƒ½ç®—è¿”å›Promiseå¯¹è±¡,è°æ‰§è¡Œçš„æ…¢ï¼Œä»¥è°ä¸ºå‡†æ‰§è¡Œå›è°ƒï¼š let Promise1 = new Promise(function(resolve, reject){}) let Promise2 = new Promise(function(resolve, reject){}) let Promise3 = new Promise(function(resolve, reject){}) let p = Promise.all([Promise1, Promise2, Promise3]) p.then(funciton(){ // ä¸‰ä¸ªéƒ½æˆåŠŸåˆ™æˆåŠŸ }, function(){ // åªè¦æœ‰å¤±è´¥ï¼Œåˆ™å¤±è´¥ }) race è°è·‘çš„å¿«ï¼Œä»¥è°ä¸ºå‡†æ‰§è¡Œå›è°ƒ,å¸¸è§åº”ç”¨åœºæ™¯ä¸ºè®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼Œåœ¨è¯·æ±‚è¶…æ—¶åæ‰§è¡Œç›¸åº”çš„å›è°ƒã€‚ Event Loop è¯´ä¸€è¯´jsä¸­äº‹ä»¶æ‰§è¡Œæœºåˆ¶æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ â€œJavaScript æ˜¯å•çº¿ç¨‹ã€å¼‚æ­¥ã€éé˜»å¡ã€è§£é‡Šå‹è„šæœ¬è¯­è¨€â€ã€‚JavaScript è¯­è¨€çš„ä¸€å¤§ç‰¹ç‚¹å°±æ˜¯å•çº¿ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒåŒä¸€ä¸ªæ—¶é—´åªèƒ½åšä¸€ä»¶äº‹ã€‚ä¸ºäº†åè°ƒäº‹ä»¶ã€ç”¨æˆ·äº¤äº’ã€è„šæœ¬ã€UI æ¸²æŸ“å’Œç½‘ç»œå¤„ç†ç­‰è¡Œä¸ºï¼Œé˜²æ­¢ä¸»çº¿ç¨‹çš„ä¸é˜»å¡ï¼ŒEvent Loop çš„æ–¹æ¡ˆåº”ç”¨è€Œç”Ÿã€‚ åœ¨jsä¸­ï¼Œä»»åŠ¡è¿›å…¥æ‰§è¡Œæ ˆï¼Œå…ˆåˆ¤æ–­ä»»åŠ¡ç±»å‹ï¼Œå¦‚æœæ˜¯åŒæ­¥ä»»åŠ¡ï¼Œç›´æ¥è¿›å…¥åˆ°ä¸»çº¿ç¨‹æ‰§è¡Œã€‚å¦‚æœæ˜¯å¼‚æ­¥ä»»åŠ¡ï¼Œä¼šæŠŠä»»åŠ¡æ”¾åˆ°å¼‚æ­¥é˜Ÿåˆ—ï¼Œç­‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œä»¥åï¼Œäº‹ä»¶è§¦å‘çº¿ç¨‹ä¼šä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­å–å‡ºåˆšæ‰åŠ å…¥é˜Ÿåˆ—çš„å‡½æ•°ï¼Œå¦‚æœæœ‰ï¼Œå°±ä¸€æ¡ä¸€æ¡çš„å»æ‰§è¡Œã€‚ console.log(1) setTimeout(() =&gt; { console.log(2) }, 1000); console.log(3) //1 3 2 å¾®ä»»åŠ¡ jsä¸­ï¼ŒsetTimeoutå±äºå®ä»»åŠ¡ï¼ŒåƒPromiseä¸ºå¾®ä»»åŠ¡ï¼Œ console.log(1) setTimeout(() =&gt; { console.log(2) }, 1000); let test=new Pormise((resolve)=&gt;{ console.log(3); resolve(); }) .then(=&gt;console.log(4)) console.log(5) 1.3 5 4.2 é¦–å…ˆä¼šè¾“å‡º1ï¼Œç„¶åé‡åˆ°setTimeoutï¼Œæ³¨å†Œä»»åŠ¡æ¥ç€åˆé‡åˆ°Pormiseï¼Œé¦–å…ˆå…ˆè¾“å‡º3ï¼Œç„¶åæ³¨å†Œä»»åŠ¡ï¼Œæ¥ç€ä¼šè¾“å‡º5ï¼Œè¿™æ—¶å€™æ‰§è¡Œæ ˆæ²¡æœ‰å¯æ‰§è¡Œçš„ï¼Œç„¶åä¼šä»é˜Ÿåˆ—ä¸­å–ï¼Œè¿™æ—¶å€™ä¼šå…ˆå–å‡ºå¾®ä»»åŠ¡è¿›è¡Œæ‰§è¡Œï¼Œè¿›å…¥åˆ°thenï¼Œè¾“å‡º4ï¼Œè¿™æ—¶å€™æ‰§è¡Œæ ˆåˆä¸ºç©ºï¼Œè¿™æ—¶å€™ç»§ç»­ä»é˜Ÿåˆ—ä¸­å–å‡ºä¸€æ¡ä»»åŠ¡ï¼Œè¿™æ—¶å€™ä¼šè¾“å‡º2ã€‚ ç»§æ‰¿ å¦‚ä½•å®ç°ç»§æ‰¿ï¼Ÿæ€ä¹ˆæ ·èƒ½å®Œç¾ç»§æ‰¿ï¼Ÿ æ„é€ å‡½æ•°ç»§æ‰¿,å€ŸåŠ©æ„é€ å‡½æ•°é€šè¿‡call applyæ”¹å˜æŒ‡å‘å®ç°ç»§æ‰¿ï¼Œä½†è¿™ç§ç»§æ‰¿æ–¹å¼æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼šç»§æ‰¿ä¸äº†çˆ¶ç±»åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§ï¼Œåªèƒ½ç»§æ‰¿æ„é€ å‡½æ•°å†…çš„å±æ€§ã€‚ function Parent1(){ this.name='Parent1' }; Parent1.prototype.say=function(){ console.log(this.name) } function Child1(){ Parent1.call(this);//apply this.type='Child1' } let n=new Child1(); console.log(n.say)//undefined åŸå‹é“¾å®ç°ç»§æ‰¿,ç¼ºç‚¹ï¼šå®ä¾‹å‡ºæ¥çš„æ˜¯å…±ç”¨çš„ã€‚ function Parent(){ this.name='Parent1'; this.arr=[1,2,3,4,5] }; Parent.prototype.say=function(){ console.log(this.name) } function Child(){ this.type='Child1' } Child.prototype=new Parent(); var s1=new Child(); var s2=new Child(); s1.arr.push(6) console.log(s1.arr) //[1,2,3,4,5,6] console.log(s2.arr) //[1,2,3,4,5,6] //ä»–ä»¬ä¿©æ˜¯å…¬ç”¨çš„ console.log(s1.__proto__===s2.__proto__) //true ç»„åˆç»§æ‰¿(å€Ÿé‰´ä¸Šé¢ä¸¤ä¸ªçš„ä¼˜ç‚¹) function Parent(){ this.name='tom'; }; Parent.prototype.say=function(){ console.log(this.name) }; function Child(){ Parent.call(this) this.age=18; }; Child.prototype=Object.create(Parent.prototype); Child.prototype.constructor=Child; ç§»åŠ¨ç«¯å¸¸è§é—®é¢˜ å¦‚ä½•ç¦æ­¢ç‚¹å‡»ç©¿é€ åœ¨ç§»åŠ¨ç«¯ä¸­ç»å¸¸ä¼šåšå¼¹çª—ï¼Œä½†æ˜¯å¼¹çª—å‡ºæ¥åæ»‘åŠ¨é¡µé¢ï¼Œåº•éƒ¨å…ƒç´ ä¹Ÿä¼šæ»‘åŠ¨ã€‚è¿™æ—¶å€™å¯ä»¥ç»™bodyåŠ ä¸€ä¸ªæ ·å¼ï¼š body.active{ position: fixed; left: 0; width: 100%; } åŒæ—¶é€šè¿‡scrollingElementè·å¾—æ»šåŠ¨åç§»é‡ï¼Œèµ‹å€¼ç»™bodyä¸€ä¸ªtopã€‚ inputé«˜åº¦å¡Œé™· å½“é¡µé¢åŒæ—¶å‡ºç°ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶æ—¶ï¼Œé”®ç›˜å ä½ä¼šæŠŠé¡µé¢é«˜åº¦å‹ç¼©ä¸€éƒ¨åˆ†ã€‚å½“è¾“å…¥å®Œæˆé”®ç›˜å ä½æ¶ˆå¤±åï¼Œé¡µé¢é«˜åº¦æœ‰å¯èƒ½å›ä¸åˆ°åŸæ¥é«˜åº¦ï¼Œäº§ç”Ÿåå¡Œå¯¼è‡´Webviewåº•è‰²éœ²è„¸ï¼Œç®€å•æ¦‚æ‹¬å°±æ˜¯è¾“å…¥æ¡†å¤±ç„¦åé¡µé¢æœªå›å¼¹ã€‚ è§£å†³æ–¹æ³•ï¼šinputèšç„¦æ—¶å€™è·å–æ»šåŠ¨åç§»é‡ï¼Œå¤±å»ç„¦ç‚¹ä»¥åé‡æ–°èµ‹å€¼åç§»é‡ const input =document.getElementById('input'); let scrollTop=0; input.addEventListener(&quot;focus&quot;,()=&gt;{ scrollTop=document.scollingElement.srollTop; }) input.addEventListener(&quot;blur&quot;,()=&gt;{ document.scollingElement.scrollTo(0,scrollTop) }) Vue vueç”Ÿå‘½å‘¨æœŸ Vueæœ‰å‡ ä¸ªç”Ÿå‘½å‘¨æœŸï¼Ÿå“ªä¸ªç”Ÿå‘½å‘¨æœŸå¯ä»¥è·å–åˆ°çœŸå®DOMï¼Ÿä¿®æ”¹dataé‡Œé¢çš„æ•°æ®ï¼Œä¼šè§¦å‘ä»€ä¹ˆç”Ÿå‘½å‘¨æœŸï¼Ÿç»„ä»¶dataä¸ºä»€ä¹ˆæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿ ç®€å•æ¥è¯´ï¼Œvueçš„ç”Ÿå‘½å‘¨æœŸå¯ä»¥å½’ä¸º3ç±»ï¼Œåˆ›å»ºé˜¶æ®µã€è¿è¡Œé˜¶æ®µã€é”€æ¯é˜¶æ®µã€‚ åˆ›å»ºé˜¶æ®µ beforeCreateï¼šå®ä¾‹åˆšåœ¨å†…å­˜ä¸­åˆ›å»ºå‡ºæ¥ï¼Œè¿˜æ²¡æœ‰åˆå§‹åŒ– dataå’Œ methodsï¼ŒåªåŒ…å«ä¸€äº›è‡ªå¸¦é¢ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚ createdï¼šå®ä¾‹å·²ç»åœ¨å†…å­˜ä¸­åˆ›å»ºå®Œæˆï¼Œæ­¤æ—¶dataå’Œmethodså·²ç»åˆ›å»ºå®Œæˆã€‚ beforeMountï¼šæ­¤æ—¶å·²ç»ç¼–è¯‘æ¨¡ç‰ˆï¼Œä½†æ²¡æœ‰æ¸²æŸ“åˆ°é¡µé¢ä¸­ã€‚ mountedï¼šæ¸²æŸ“æ¨¡ç‰ˆï¼Œåˆ›å»ºé˜¶æ®µåˆ°æ­¤ç»“æŸã€‚è¿™æ—¶å€™å¯ä»¥æ“ä½œdomã€‚ è¿è¡Œé˜¶æ®µ beforeUpdateï¼šç•Œé¢ä¸­çš„æ•°æ®è¿˜æ˜¯æ—§çš„ï¼Œä½†æ˜¯dataæ•°æ®å·²ç»æ›´æ–°ï¼Œé¡µé¢ä¸­å’Œdataè¿˜æ²¡æœ‰åŒæ­¥ã€‚ä¿®æ”¹dataæ•°æ®å°±ä¼šè§¦å‘è¿™ä¸ªå‡½æ•°ã€‚ updatedï¼šé¡µé¢é‡æ–°æ¸²æŸ“å®Œæ¯•ï¼Œé¡µé¢ä¸­çš„æ•°æ®å’Œdataä¿æŒä¸€è‡´ã€‚ä¿®æ”¹dataæ•°æ®å°±ä¼šè§¦å‘è¿™ä¸ªå‡½æ•°ã€‚ é”€æ¯é˜¶æ®µ beforeDestroyï¼šæ‰§è¡Œè¯¥æ–¹æ³•çš„æ—¶å€™ï¼ŒVueçš„ç”Ÿå‘½å‘¨æœŸå·²ç»è¿›å…¥é”€æ¯é˜¶æ®µï¼Œä½†æ˜¯å®ä¾‹ä¸Šçš„å„ç§æ•°æ®è¿˜å‡ºäºå¯ç”¨çŠ¶æ€ã€‚ destroyedï¼šç»„ä»¶å·²ç»å…¨éƒ¨é”€æ¯ï¼ŒVueå®ä¾‹å·²ç»è¢«é”€æ¯ï¼ŒVueä¸­çš„ä»»ä½•æ•°æ®éƒ½ä¸å¯ç”¨ keep-alive activitedï¼škeep-alive ä¸“å±ï¼Œç»„ä»¶è¢«æ¿€æ´»æ—¶è°ƒç”¨ deactivatedï¼škeep-alive ä¸“å±ï¼Œç»„ä»¶è¢«é”€æ¯æ—¶è°ƒç”¨ vueçˆ¶ç»„ä»¶å’Œå­ç»„ä»¶çš„æ‰§è¡Œé¡ºåº åŠ è½½è¿‡ç¨‹ çˆ¶beforeCreate--&gt;çˆ¶created--&gt;çˆ¶beforeMount--&gt;å­beforeCreate--&gt;å­created--&gt;å­beforeMpunt--&gt;å­mounted--&gt;çˆ¶mounted å­ç»„ä»¶æ›´æ–°è¿‡ç¨‹ çˆ¶beforeUpdate--&gt;å­beforUpdate--&gt;å­updated--&gt;çˆ¶updated çˆ¶ç»„ä»¶æ›´æ–°è¿‡ç¨‹ çˆ¶beforeUpdate--&gt;çˆ¶updated é”€æ¯è¿‡ç¨‹ çˆ¶beforeDestroy--&gt;å­beforeDestroy--&gt;å­destroyed--&gt;çˆ¶destroyed Vuex Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚æ¯ä¸€ä¸ª Vuex åº”ç”¨çš„æ ¸å¿ƒå°±æ˜¯ storeï¼ˆä»“åº“ï¼‰ã€‚â€œstoreâ€ åŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒåŒ…å«ç€ä½ çš„åº”ç”¨ä¸­å¤§éƒ¨åˆ†çš„çŠ¶æ€ ( state )ã€‚ (1)Vuex çš„çŠ¶æ€å­˜å‚¨æ˜¯å“åº”å¼çš„ã€‚å½“ Vue ç»„ä»¶ä» store ä¸­è¯»å–çŠ¶æ€çš„æ—¶å€™ï¼Œè‹¥ store ä¸­çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆç›¸åº”çš„ç»„ä»¶ä¹Ÿä¼šç›¸åº”åœ°å¾—åˆ°é«˜æ•ˆæ›´æ–°ã€‚ (2)æ”¹å˜ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€é€”å¾„å°±æ˜¯æ˜¾å¼åœ°æäº¤ (commit) mutationã€‚è¿™æ ·ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è·Ÿè¸ªæ¯ä¸€ä¸ªçŠ¶æ€çš„å˜åŒ–ã€‚ ç»„æˆéƒ¨åˆ† State:å®šä¹‰äº†åº”ç”¨çŠ¶æ€çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥åœ¨è¿™é‡Œè®¾ç½®é»˜è®¤çš„åˆå§‹çŠ¶æ€ã€‚ Getter:å…è®¸ç»„ä»¶ä» Store ä¸­è·å–æ•°æ®ï¼ŒmapGetters è¾…åŠ©å‡½æ•°ä»…ä»…æ˜¯å°† store ä¸­çš„ getter æ˜ å°„åˆ°å±€éƒ¨è®¡ç®—å±æ€§ã€‚ Mutation:æ˜¯å”¯ä¸€æ›´æ”¹ store ä¸­çŠ¶æ€çš„æ–¹æ³•ï¼Œä¸”å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°ã€‚ Action:ç”¨äºæäº¤ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ï¼Œå¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œã€‚ Module:è®¸å°†å•ä¸€çš„ Store æ‹†åˆ†ä¸ºå¤šä¸ª store ä¸”åŒæ—¶ä¿å­˜åœ¨å•ä¸€çš„çŠ¶æ€æ ‘ä¸­ã€‚ vueç»„ä»¶é€šä¿¡ vueç»„ä»¶å¦‚ä½•é€šä¿¡ï¼Ÿæœ‰å‡ ç§æ–¹å¼ï¼Ÿ åœ¨vueä¸­ç»„ä»¶é€šè®¯å¯ä»¥åˆ†ä¸ºçˆ¶å­ç»„ä»¶é€šè®¯å’Œéçˆ¶å­ç»„ä»¶é€šä¿¡ã€‚ çˆ¶å­ç»„ä»¶é€šä¿¡: props/ $emit/ $parent / $children; provide / inject ; ref ; $attrs / listenerså…„å¼Ÿç»„ä»¶é€šä¿¡:eventBus;vuexè·¨çº§é€šä¿¡:eventBusï¼›Vuexï¼›provide/injectã€listeners å…„å¼Ÿç»„ä»¶é€šä¿¡: eventBus ;vuex è·¨çº§é€šä¿¡: eventBusï¼›Vuexï¼›provide / inject ã€listenerså…„å¼Ÿç»„ä»¶é€šä¿¡:eventBus;vuexè·¨çº§é€šä¿¡:eventBusï¼›Vuexï¼›provide/injectã€attrs / $listeners ä¸‹é¢æ¼”ç¤ºå‡ ç§å¸¸ç”¨çš„ä½¿ç”¨æ–¹æ³•ï¼š props / $emit çˆ¶ç»„ä»¶é€šè¿‡propsçš„æ–¹å¼å‘å­ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œè€Œé€šè¿‡$emitå­ç»„ä»¶å¯ä»¥å‘çˆ¶ç»„ä»¶é€šä¿¡ã€‚ çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ å€¼(props) prop åªå¯ä»¥ä»ä¸Šä¸€çº§ç»„ä»¶ä¼ é€’åˆ°ä¸‹ä¸€çº§ç»„ä»¶ï¼ˆçˆ¶å­ç»„ä»¶ï¼‰ï¼Œå³æ‰€è°“çš„å•å‘æ•°æ®æµã€‚è€Œä¸” prop åªè¯»ï¼Œä¸å¯è¢«ä¿®æ”¹ï¼Œæ‰€æœ‰ä¿®æ”¹éƒ½ä¼šå¤±æ•ˆå¹¶è­¦å‘Šã€‚ &lt;!-- sectionçˆ¶ç»„ä»¶ --&gt; &lt;template&gt; &lt;div class=&quot;section&quot;&gt; &lt;com-article :articles=&quot;articleList&quot;&gt;&lt;/com-article&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import comArticle from './test/article.vue' export default { name: 'HelloWorld', components: { comArticle }, data() { return { articleList: ['çº¢æ¥¼æ¢¦', 'è¥¿æ¸¸è®°', 'ä¸‰å›½æ¼”ä¹‰'] } } } &lt;/script&gt; // å­ç»„ä»¶ article.vue &lt;template&gt; &lt;div&gt; &lt;span v-for=&quot;(item, index) in articles&quot; :key=&quot;index&quot;&gt;{{item}}&lt;/span&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { props: ['articles'] } &lt;/script&gt; å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ å€¼($emit) $emitç»‘å®šä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶, å½“è¿™ä¸ªè¯­å¥è¢«æ‰§è¡Œæ—¶, å°±ä¼šå°†å‚æ•°argä¼ é€’ç»™çˆ¶ç»„ä»¶,çˆ¶ç»„ä»¶é€šè¿‡v-onç›‘å¬å¹¶æ¥æ”¶å‚æ•°ã€‚ &lt;!-- å­ç»„ä»¶ --&gt; &lt;template&gt; &lt;div&gt; &lt;div v-for=&quot;(item, index) in articles&quot; :key=&quot;index&quot; @click=&quot;emitIndex(index)&quot;&gt;{{item}}&lt;/div&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { props: ['articles'], methods: { emitIndex(index) { this.$emit('onEmitIndex', index) } } } &lt;/script&gt; &lt;!-- // çˆ¶ç»„ä»¶ä¸­ --&gt; &lt;template&gt; &lt;div class=&quot;section&quot;&gt; &lt;com-article :articles=&quot;articleList&quot; @onEmitIndex=&quot;onEmitIndex&quot;&gt;&lt;/com-article&gt; &lt;p&gt;{{currentIndex}}&lt;/p&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import comArticle from './test/article.vue' export default { name: 'HelloWorld', components: { comArticle }, data() { return { currentIndex: -1, articleList: ['çº¢æ¥¼æ¢¦', 'è¥¿æ¸¸è®°', 'ä¸‰å›½æ¼”ä¹‰'] } }, methods: { onEmitIndex(idx) { this.currentIndex = idx } } } &lt;/script&gt; $children / $parent é€šè¿‡parentå’Œparentå’Œparentå’Œchildrenå°±å¯ä»¥è®¿é—®ç»„ä»¶çš„å®ä¾‹ï¼Œæ‹¿åˆ°å®ä¾‹ä»£è¡¨ä»€ä¹ˆï¼Ÿä»£è¡¨å¯ä»¥è®¿é—®æ­¤ç»„ä»¶çš„æ‰€æœ‰æ–¹æ³•å’Œdataã€‚å¦‚åœ¨#appä¸Šæ‹¿parentå¾—åˆ°çš„æ˜¯newVue()çš„å®ä¾‹ï¼Œåœ¨è¿™å®ä¾‹ä¸Šå†æ‹¿parentå¾—åˆ°çš„æ˜¯new Vue()çš„å®ä¾‹ï¼Œåœ¨è¿™å®ä¾‹ä¸Šå†æ‹¿parentå¾—åˆ°çš„æ˜¯newVue()çš„å®ä¾‹ï¼Œåœ¨è¿™å®ä¾‹ä¸Šå†æ‹¿parentå¾—åˆ°çš„æ˜¯undefinedï¼Œè€Œåœ¨æœ€åº•å±‚çš„å­ç»„ä»¶æ‹¿childrenæ˜¯ä¸ªç©ºæ•°ç»„ã€‚ä¹Ÿè¦æ³¨æ„å¾—åˆ°childrenæ˜¯ä¸ªç©ºæ•°ç»„ã€‚ä¹Ÿè¦æ³¨æ„å¾—åˆ°childrenæ˜¯ä¸ªç©ºæ•°ç»„ã€‚ä¹Ÿè¦æ³¨æ„å¾—åˆ°parentå’Œchildrençš„å€¼ä¸ä¸€æ ·ï¼Œchildrençš„å€¼ä¸ä¸€æ ·ï¼Œchildrençš„å€¼ä¸ä¸€æ ·ï¼Œchildren çš„å€¼æ˜¯æ•°ç»„ï¼Œè€Œparentæ˜¯ä¸ªå¯¹è±¡ã€‚åœ¨âˆ—âˆ—vue3.0âˆ—âˆ—ä¸­ï¼Œâˆ—âˆ—parentæ˜¯ä¸ªå¯¹è±¡ã€‚åœ¨**vue3.0**ä¸­ï¼Œ**parentæ˜¯ä¸ªå¯¹è±¡ã€‚åœ¨âˆ—âˆ—vue3.0âˆ—âˆ—ä¸­ï¼Œâˆ—âˆ—children**å·²ç»è¢«ç§»é™¤ã€‚ &lt;template&gt; &lt;div class=&quot;hello_world&quot;&gt; &lt;div&gt;{{msg}}&lt;/div&gt; &lt;!-- child --&gt; child &lt;com-a&gt;&lt;/com-a&gt; &lt;button @click=&quot;changeA&quot;&gt;ç‚¹å‡»æ”¹å˜å­ç»„ä»¶å€¼&lt;/button&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import ComA from './child' export default { name: 'HelloWorld', components: { ComA }, data() { return { msg: 'Welcome' } }, methods: { changeA() { // è·å–åˆ°å­ç»„ä»¶A console.log(this.$children) this.$children[0].messageA = 'this is new value' } } } &lt;/script&gt; &lt;!-- å­ç»„ä»¶ä¸­ --&gt; &lt;template&gt; &lt;div class=&quot;com_a&quot;&gt; &lt;span&gt;{{messageA}}&lt;/span&gt; &lt;p&gt;è·å–çˆ¶ç»„ä»¶çš„å€¼ä¸º: {{parentVal}}&lt;/p&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { data() { return { messageA: 'this is old' } }, computed:{ parentVal(){ return this.$parent.msg; } } } &lt;/script&gt; ref/refs refï¼šå¦‚æœåœ¨æ™®é€šçš„ DOM å…ƒç´ ä¸Šä½¿ç”¨ï¼Œå¼•ç”¨æŒ‡å‘çš„å°±æ˜¯ DOM å…ƒç´ ï¼›å¦‚æœç”¨åœ¨å­ç»„ä»¶ä¸Šï¼Œå¼•ç”¨å°±æŒ‡å‘ç»„ä»¶å®ä¾‹ï¼Œå¯ä»¥é€šè¿‡å®ä¾‹ç›´æ¥è°ƒç”¨ç»„ä»¶çš„æ–¹æ³•æˆ–è®¿é—®æ•°æ® &lt;!-- //å­ç»„ä»¶ --&gt; &lt;template&gt; &lt;div &gt;child&lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { data() { return { name: 'this is child' } }, methods: { sayHello(){ return 'say hello' } }, } &lt;/script&gt; &lt;!-- çˆ¶ç»„ä»¶ --&gt; &lt;template&gt; &lt;div &gt; &lt;com-a ref=&quot;child&quot;&gt;&lt;/com-a&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import ComA from './child' export default { components: { ComA }, data() { return { msg: 'Welcome' } }, mounted() { const child = this.$refs.child; console.log(child.name) //this is child console.log(child.sayHello()) //say hello }, } &lt;/script&gt; eventBus eventBus åˆç§°ä¸ºäº‹ä»¶æ€»çº¿ï¼Œåœ¨vueä¸­å¯ä»¥ä½¿ç”¨å®ƒæ¥ä½œä¸ºæ²Ÿé€šæ¡¥æ¢çš„æ¦‚å¿µ, å°±åƒæ˜¯æ‰€æœ‰ç»„ä»¶å…±ç”¨ç›¸åŒçš„äº‹ä»¶ä¸­å¿ƒï¼Œå¯ä»¥å‘è¯¥ä¸­å¿ƒæ³¨å†Œå‘é€äº‹ä»¶æˆ–æ¥æ”¶äº‹ä»¶ï¼Œ æ‰€ä»¥ç»„ä»¶éƒ½å¯ä»¥é€šçŸ¥å…¶ä»–ç»„ä»¶ã€‚eventBusä¹Ÿæœ‰ä¸æ–¹ä¾¿ä¹‹å¤„, å½“é¡¹ç›®è¾ƒå¤§,å°±å®¹æ˜“é€ æˆéš¾ä»¥ç»´æŠ¤çš„ç¾éš¾ã€‚ åŒå‘ç»‘å®šçš„åŸç† vue2æ˜¯é‡‡ç”¨æ•°æ®åŠ«æŒç»“åˆå‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼çš„æ–¹å¼ï¼Œé€šè¿‡ Object.defineProperty() æ¥åŠ«æŒå„ä¸ªå±æ€§çš„setterï¼Œgetterï¼Œåœ¨æ•°æ®å˜åŠ¨æ—¶å‘å¸ƒæ¶ˆæ¯ç»™è®¢é˜…è€…ï¼Œè§¦å‘ç›¸åº”çš„ç›‘å¬å›è°ƒã€‚Object.defineProperty()åªèƒ½å¯¹å±æ€§è¿›è¡Œæ•°æ®åŠ«æŒï¼Œä¸èƒ½å¯¹æ•´ä¸ªå¯¹è±¡è¿›è¡ŒåŠ«æŒï¼ŒåŒç†æ— æ³•å¯¹æ•°ç»„è¿›è¡ŒåŠ«æŒã€‚vue3ä¸­åˆ™é‡‡ç”¨Proxyï¼Œå®ƒå¯ä»¥ç›‘å¬åˆ°æ•°ç»„å†…çš„æ•°æ®å˜åŒ–ã€‚ ä¸ºä»€ä¹ˆ Vue ç»„ä»¶ä¸­ data å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿ å¦‚æœ data æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå½“å¤ç”¨ç»„ä»¶æ—¶ï¼Œå› ä¸º data éƒ½ä¼šæŒ‡å‘åŒä¸€ä¸ªå¼•ç”¨ç±»å‹åœ°å€ï¼Œå…¶ä¸­ä¸€ä¸ªç»„ä»¶çš„ data ä¸€æ—¦å‘ç”Ÿä¿®æ”¹ï¼Œåˆ™å…¶ä»–é‡ç”¨çš„ç»„ä»¶ä¸­çš„ data ä¹Ÿä¼šè¢«ä¸€å¹¶ä¿®æ”¹ã€‚ å¦‚æœ data æ˜¯ä¸€ä¸ªè¿”å›å¯¹è±¡çš„å‡½æ•°ï¼Œå› ä¸ºæ¯æ¬¡é‡ç”¨ç»„ä»¶æ—¶è¿”å›çš„éƒ½æ˜¯ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¼•ç”¨åœ°å€ä¸åŒï¼Œä¾¿ä¸ä¼šå‡ºç°å¦‚ä¸Šé—®é¢˜ã€‚ Vue ä¸­ computed å’Œ watch æœ‰ä»€ä¹ˆåŒºåˆ« è®¡ç®—å±æ€§ computedï¼š ï¼ˆ1ï¼‰æ”¯æŒç¼“å­˜ï¼Œåªæœ‰ä¾èµ–æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šé‡æ–°è¿›è¡Œè®¡ç®—å‡½æ•°ï¼› ï¼ˆ2ï¼‰è®¡ç®—å±æ€§å†…ä¸æ”¯æŒå¼‚æ­¥æ“ä½œï¼› ï¼ˆ3ï¼‰è®¡ç®—å±æ€§çš„å‡½æ•°ä¸­éƒ½æœ‰ä¸€ä¸ª get(é»˜è®¤å…·æœ‰ï¼Œè·å–è®¡ç®—å±æ€§)å’Œ set(æ‰‹åŠ¨æ·»åŠ ï¼Œè®¾ç½®è®¡ç®—å±æ€§)æ–¹æ³•ï¼› ï¼ˆ4ï¼‰è®¡ç®—å±æ€§æ˜¯è‡ªåŠ¨ç›‘å¬ä¾èµ–å€¼çš„å˜åŒ–ï¼Œä»è€ŒåŠ¨æ€è¿”å›å†…å®¹ã€‚ ä¾¦å¬å±æ€§ watch: (1) ä¸æ”¯æŒç¼“å­˜ï¼Œåªè¦æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œå°±ä¼šæ‰§è¡Œä¾¦å¬å‡½æ•°ï¼› (2) ä¾¦å¬å±æ€§å†…æ”¯æŒå¼‚æ­¥æ“ä½œï¼› (3) ä¾¦å¬å±æ€§çš„å€¼å¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ¥æ”¶ handler å›è°ƒï¼Œdeepï¼Œimmediate ä¸‰ä¸ªå±æ€§ï¼› (3) ç›‘å¬æ˜¯ä¸€ä¸ªè¿‡ç¨‹ï¼Œåœ¨ç›‘å¬çš„å€¼å˜åŒ–æ—¶ï¼Œå¯ä»¥è§¦å‘ä¸€ä¸ªå›è°ƒï¼Œå¹¶åšä¸€äº›å…¶ä»–äº‹æƒ…ã€‚ å…¶ä»–çŸ¥è¯† åœ¨æµè§ˆå™¨ä¸­è¾“å…¥urlåéƒ½ä¼šå‘ç”Ÿä»€ä¹ˆ å¤§è‡´æµç¨‹ 1.URL è§£æ 2.DNS æŸ¥è¯¢ 3.TCP è¿æ¥ 4.å¤„ç†è¯·æ±‚ 5.æ¥å—å“åº” 6.æ¸²æŸ“é¡µé¢ ç»“å°¾ æ›´å¤šå‰ç«¯å­¦ä¹ æ–‡ç« ï¼Œè¯·ç‚¹å‡»å‰ç«¯è¿›é˜¶ç­ï¼Œæ¬¢è¿å…³æ³¨ï¼è®°å¾—ç´ è´¨ä¸‰è¿ï¼ ","link":"https://lonjinup.github.io/20213-yue-fu-xi-bi-ji/"},{"title":"é¢å‘å¯¹è±¡ä¸­çš„ç»§æ‰¿","content":"é¢å‘å¯¹è±¡ä¸­çš„ç»§æ‰¿ åœ¨jsä¸­å¸¸å¸¸æåˆ°é¢å‘å¯¹è±¡ï¼Œé¢è¯•æ—¶å€™ä¹Ÿä¼šç»å¸¸é—®åˆ°ç»§æ‰¿ï¼Œä¹Ÿå¸¸å¸¸å¬åˆ°ä¸€å¥è¯ï¼šé¢å‘å¯¹è±¡ç¼–ç¨‹ã€‚ æœ¬ç¯‡æ–‡ç« ä¸»è¦è®²è§£çš„æ˜¯ç»§æ‰¿ã€‚è®¤çœŸè¯10åˆ†é’Ÿçœ‹å®Œï¼Œè‡ªå·±ç”»ä¸€ç”»å…³ç³»å›¾ï¼Œç›¸ä¿¡å¯ä»¥è½»æ¾æŒæ¡ï¼Œå†ä¹Ÿä¸æ€•é¢è¯•ä¸­è¢«é—®åˆ°ã€‚ é¢å‘å¯¹è±¡çš„ç‰¹ç‚¹ å°è£…(Encapsulation): æŠŠç›¸å…³çš„ä¿¡æ¯ï¼ˆæ— è®ºæ•°æ®æˆ–æ–¹æ³•ï¼‰å­˜å‚¨åœ¨å¯¹è±¡ä¸­çš„èƒ½åŠ› ç»§æ‰¿(Inheritance): ç”±å¦ä¸€ä¸ªç±»ï¼ˆæˆ–å¤šä¸ªç±»ï¼‰å¾—æ¥ç±»çš„å±æ€§å’Œæ–¹æ³•çš„èƒ½åŠ› å¤šæ€(Polymorphism): ç¼–å†™èƒ½ä»¥å¤šç§æ–¹æ³•è¿è¡Œçš„å‡½æ•°æˆ–æ–¹æ³•çš„èƒ½åŠ› ç»§æ‰¿ å¦‚æœä½ å¯¹åŸå‹ã€åŸå‹é“¾ç†è§£ä¸æ˜¯ç‰¹åˆ«æ·±åˆ»çš„è¯ï¼Œå¯ä»¥å…ˆçœ‹ä¸€ä¸‹åŸå‹ã€åŸå‹é“¾ç›¸å…³æ–‡ç« ï¼Œåªæœ‰ç†è§£äº†åŸå‹å’ŒåŸå‹é“¾ç›¸å…³çŸ¥è¯†ï¼Œä½ æ‰å¯ä»¥å¾ˆå¥½çš„ç†è§£ç»§æ‰¿ã€‚ åŸå‹å’ŒåŸå‹é“¾å¯ä»¥çœ‹æˆ‘ä¹‹å‰çš„æ–‡ç« ï¼šã€Šå½»åº•ç†è§£åŸå‹å’ŒåŸå‹é“¾ã€‹ ç»§æ‰¿çš„å‡ ç§å®ç°æ–¹å¼ è¿™é‡Œä¸»è¦ç”¨es5å»å®ç°ç»§æ‰¿ï¼Œå› ä¸ºes6æœ‰ç»§æ‰¿ç›¸å…³çš„è¯­æ³•ç³–ï¼Œè¿™é‡Œå°±ä¸å±•ç¤ºäº†ã€‚ å€ŸåŠ©æ„é€ å‡½æ•°å®ç°ç»§æ‰¿ å…ˆä¸Šä»£ç ï¼š function Parent1(){ this.name='Parent1' }; function Child1(){ Parent1.call(this);//apply this.type='Child1' } console.log(new Child1) æ‰“å°ç»“æœ ä¸Šé¢æˆ‘ä»¬å€ŸåŠ©æ„é€ å‡½æ•°é€šè¿‡call applyæ”¹å˜æŒ‡å‘å®ç°ç»§æ‰¿ï¼Œä½†è¿™ç§ç»§æ‰¿æ–¹å¼æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼šç»§æ‰¿ä¸äº†çˆ¶ç±»åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§ï¼Œåªèƒ½ç»§æ‰¿æ„é€ å‡½æ•°å†…çš„å±æ€§ã€‚ éªŒè¯ä¸€ä¸‹æˆ‘ä»¬çš„ç»“è®ºï¼š function Parent1(){ this.name='Parent1' }; Parent1.prototype.say=function(){ console.log(111) } function Child1(){ Parent1.call(this);//apply this.type='Child1' } console.log(new Child1) æ‰“å°ç»“æœ å¯ä»¥çœ‹å‡ºï¼ŒåŸå‹å¯¹è±¡ä¸Šsayæ–¹æ³•å¹¶æ²¡æœ‰è¢«ç»§æ‰¿è¿‡æ¥ï¼Œåªèƒ½ç»§æ‰¿æ„é€ å‡½æ•°å†…çš„ä¸€äº›å±æ€§ã€‚ å€ŸåŠ©åŸå‹é“¾å®ç°ç»§æ‰¿ è¿˜æ˜¯å…ˆä¸Šä»£ç ï¼š function parent2(){ this.name='parent2', this.play=[1,2,3,4] } function Child2(){ this.type='Child2' } Child2.prototype=new parent2() console.log(new Child2) //éªŒè¯å…³ç³» console.log(new Child2().__proto__==Child2.prototype) è¾“å‡ºç»“æœï¼š ä½†å®ƒè¿˜æ˜¯æœ‰ç¼ºç‚¹ï¼Œå®ä¾‹å‡ºæ¥çš„æ˜¯å…±ç”¨çš„ï¼Œç›´æ¥ä¸Šä»£ç æ¼”ç¤ºä¸€ä¸‹ï¼š //æ¥ä¸Šé¢ä»£ç ï½ var s1=new Child2() var s2=new Child2() s1.play.push(5) console.log(s1.play,s2.play) //ä»–ä»¬ä¿©æ˜¯å…¬ç”¨çš„ console.log(s1.__proto__===s2.__proto__) æ‰“å°ç»“æœï¼š ç»„åˆç»§æ‰¿(å€Ÿé‰´ä¸Šé¢ä¸¤ä¸ªçš„ä¼˜ç‚¹) ä¸Šé¢ä¸¤ä¸ªæ–¹æ³•è™½è¯´å¯ä»¥å®ç°ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰å¾ˆå¤§ç¼ºç‚¹çš„ï¼Œä¸‹é¢çœ‹ä¸€ä¸‹ç»„åˆç»§æ‰¿å®ç°ï¼Œå…ˆä¸Šä»£ç ï¼š function Parent3(){ this.name='Parent3', this.play=[1,2,3] } function Child3(){ Parent3.call(this) this.type='Child3' } Child3.prototype=new Parent3() let s3=new Child3() let s4=new Child3() s3.play.push(4) console.log(s3.play) console.log(s4.play) æ‰“å°ä¸€ä¸‹ç»“æœï¼š å¯ä»¥çœ‹åˆ°ï¼Œè¿™ç§å®ä¾‹å‡ºæ¥çš„åŸå‹æ˜¯ä¸ä¼šå…±ç”¨çš„ï¼Œä½†å®ƒè¿˜æ˜¯æœ‰ä¸ªç¼ºç‚¹ï¼Œåœ¨ç»§æ‰¿æ—¶å€™æ‰§è¡Œäº†å¤šæ¬¡çˆ¶ç±»ï¼ˆ Parent3.call(this)å’ŒChild3.prototype=new Parent3()ï¼‰ï¼Œæ˜¾ç„¶è¿˜ä¸å¤Ÿä¼˜ç§€ï¼Œæˆ‘ä»¬å¯ä»¥æ”¹é€ ä¸€ä¸‹ï¼š function Parent4(){ this.name='Parent4', this.play=[1,2,3] } function Child4(){ Parent3.call(this) this.type='Child3' } Child4.prototype=Parent4.prototype let s5=new Child4() let s6=new Child4() s5.play.push(5) console.log(s5.play) console.log(s6.play) console.log(s5 instanceof Child4,s5 instanceof Parent4) console.log(s5.constructor) è¾“å‡ºç»“æœï¼š æˆ‘ä»¬è™½ç„¶è§£å†³äº†çˆ¶ç±»æ„é€ å‡½æ•°æ‰§è¡Œä¸¤æ¬¡çš„é—®é¢˜ï¼Œä½†æˆ‘ä»¬åˆè¿æ¥äº†æ–°çš„é—®é¢˜ï¼šs5.constructorè¾“å‡ºç»“æœä¸ºParent4ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºconstructoræŒ‡å‘åº”è¯¥æ˜¯Child4ã€‚instanceofä¹Ÿåˆ¤æ–­ä¸äº†æ˜¯æ¥è‡ªäºè°ã€‚é‚£æˆ‘ä»¬è¿˜å¾—è¿›è¡Œä¸€ç•ªæ”¹é€ ï¼š function Parent5(){ this.name='parent2', this.play=[1,2,3,4] } function Child5(){ Parent3.call(this) this.type='Child5' } Child5.prototype=Object.create(Parent5.prototype) //__proto__ Child5.prototype.constructor=Child5 console.log(new Child5) var s7=new Child5(); console.log(s7 instanceof Child5,s7 instanceof Parent5) console.log(s7.constructor) æ‰§è¡Œç»“æœï¼š ä¸Šé¢é€šè¿‡æ‰‹åŠ¨ç»™Child5çš„constructorèµ‹å€¼ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡constructoræ¥çœ‹æ˜¯ç”±å“ªä¸ªå‡½æ•°å®ä¾‹å‡ºæ¥çš„ã€‚ ç»“å°¾ ç†è§£ç»§æ‰¿ï¼Œè¿˜æ˜¯éœ€è¦å»ç†è§£åŸå‹å’ŒåŸå‹é“¾çš„çŸ¥è¯†ï¼Œè¿™å—çŸ¥è¯†åœ¨JavaScriptä¸­æ˜¯éå¸¸éš¾ç†è§£çš„ï¼Œå­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥ç”»ä¸€ä¸‹ä»–ä»¬çš„å…³ç³»å›¾ï¼Œä»¥åŠçœ‹ä¸€ä¸‹console.logä¿¡æ¯ä¸­çš„**proto**æ¥è¾…åŠ©ç†è§£ã€‚å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©ï¼Œè®°å¾— å…³æ³¨ + ç‚¹èµ+æ”¶è—ã€‚ ","link":"https://lonjinup.github.io/jsjc/"},{"title":" å¼‚æ­¥ç¼–ç¨‹æ–¹æ¡ˆä¹‹Promise","content":" Promiseæ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ã€‚å®ƒç”±ç¤¾åŒºæœ€æ—©æå‡ºå’Œå®ç°ï¼ŒES6 å°†å…¶å†™è¿›äº†è¯­è¨€æ ‡å‡†ï¼Œç»Ÿä¸€äº†ç”¨æ³•ï¼ŒåŸç”Ÿæä¾›äº†Promiseå¯¹è±¡ã€‚ ä¸ºä»€ä¹ˆéœ€è¦Promise æˆ‘ä»¬ä¹‹å‰å†™ä»£ç ï¼Œå¯èƒ½ä¼šå‡ºç°å‡½æ•°åµŒå¥—å‡½æ•°ï¼Œå¦‚æœå¤šä¸ªåµŒå¥—ï¼Œç»“æ„å°±ä¼šå¾ˆä¹±ï¼Œä¹Ÿä¸å®¹æ˜“ç»´æŠ¤ï¼Œäºæ˜¯Promiseå°±å‡ºç°äº†ã€‚ ä»€ä¹ˆæ˜¯Promise æ‰€è°“Promiseï¼Œç®€å•è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰çš„ç»“æœã€‚ä»è¯­æ³•ä¸Šè¯´ï¼ŒPromise æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»å®ƒå¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚Promise æä¾›ç»Ÿä¸€çš„ APIï¼Œå„ç§å¼‚æ­¥æ“ä½œéƒ½å¯ä»¥ç”¨åŒæ ·çš„æ–¹æ³•è¿›è¡Œå¤„ç†ã€‚ Promiseçš„ç‰¹ç‚¹ å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ï¼Œå®ƒæœ‰ä¸‰ç§çŠ¶æ€ï¼Œpending(è¿›è¡Œä¸­)ã€fulfilled(å·²æˆåŠŸ)ã€rejected(å·²å¤±è´¥)ã€‚åªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå¯ä»¥å†³å®šå½“å‰æ˜¯å“ªä¸€ç§çŠ¶æ€ï¼Œä»»ä½•å…¶ä»–æ“ä½œéƒ½æ— æ³•æ”¹å˜è¿™ä¸ªçŠ¶æ€ã€‚è¿™ä¹Ÿæ˜¯Promiseè¿™ä¸ªåå­—çš„ç”±æ¥ï¼Œå®ƒçš„è‹±è¯­æ„æ€å°±æ˜¯â€œæ‰¿è¯ºâ€ï¼Œè¡¨ç¤ºå…¶ä»–æ‰‹æ®µæ— æ³•æ”¹å˜ã€‚ ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœã€‚å®ƒçš„çŠ¶æ€å¯ä»¥ä»pendingå˜ä¸ºfulfilledï¼Œæˆ–è€…ä»pendingå˜ä¸ºrejectedã€‚ Promiseçš„åŸºæœ¬ç”¨æ³• é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªPromise const testPormise=new Promise((resovle,reject)=&gt;{ console.log(&quot;hi,Pormise&quot;); }); //è¾“å‡ºhi,Pormise ä¸Šé¢ä»£ç ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªPromiseï¼Œå®ƒä¼šç«‹å³æ‰§è¡Œï¼Œè¾“å‡ºhi,Pormiseã€‚ä¸‹é¢æˆ‘ä»¬æ”¹å˜ä¸€ä¸‹å®ƒçš„çŠ¶æ€: const testPormise=new Promise((resovle,reject)=&gt;{ console.log(&quot;hi,Pormise&quot;); let test=true; if(test){ resovle('æˆåŠŸï½') }else{ reject(&quot;å¤±è´¥äº†&quot;) } }); testPormise.then((res)=&gt;{ console.log(res) }).catch((erro)=&gt;{ console.log(erro) }) //è¾“å‡ºï¼šæˆåŠŸï½ æˆ‘ä»¬åœ¨å†…éƒ¨åŠ äº†ä¸€ä¸ªåˆ¤æ–­ï¼Œå½“testä¸ºtrueæ—¶å€™ï¼Œå³æ”¹å˜å½“å‰çŠ¶æ€ä¸ºæˆåŠŸï¼Œæ­¤æ—¶ä¼šèµ°è¿›thenæ–¹æ³•ï¼Œä¸”ä¼šä¹Ÿä¼šæŠŠå‚æ•°æ¥æ”¶è¿‡æ¥ï¼Œæ­¤æ—¶å°±ä¼šæ‰“å°å‡ºæˆåŠŸã€‚å¦‚æœæ”¹å˜testï¼Œåˆ™è°ƒç”¨rejectï¼Œè¿™æ—¶å€™å°±å¯ä»¥ç”¨catchæ•è·åˆ°å¤±è´¥çŠ¶æ€ã€‚ Promiseä¸­finallyæ–¹æ³• ä¸‹é¢å†çœ‹ä¸€ä¸‹Promiseä¸­çš„finallyæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä»£è¡¨æ— è®ºæˆåŠŸå’Œå¤±è´¥éƒ½ä¼šæ‰§è¡Œï¼š const testPormise = new Promise((resovle, reject) =&gt; { console.log(&quot;hi,Pormise&quot;); let test = true; if (test) { resovle('æˆåŠŸï½') } else { reject(&quot;å¤±è´¥äº†&quot;) } }); testPormise.then((res) =&gt; { console.log(res) }).catch((erro) =&gt; { console.log(erro) }).finally(() =&gt; { console.log('æ‰§è¡Œäº†finally') }) //è¾“å‡º æˆåŠŸï½ //è¾“å‡º æ‰§è¡Œäº†finally finallyæ–¹æ³•çš„å›è°ƒå‡½æ•°ä¸æ¥å—ä»»ä½•å‚æ•°ï¼Œè¿™æ„å‘³ç€æ²¡æœ‰åŠæ³•çŸ¥é“ï¼Œå‰é¢çš„ Promise çŠ¶æ€åˆ°åº•æ˜¯fulfilledè¿˜æ˜¯rejectedã€‚è¿™è¡¨æ˜ï¼Œfinallyæ–¹æ³•é‡Œé¢çš„æ“ä½œï¼Œåº”è¯¥æ˜¯ä¸çŠ¶æ€æ— å…³çš„ï¼Œä¸ä¾èµ–äº Promise çš„æ‰§è¡Œç»“æœã€‚ Promiseä¸­allæ–¹æ³• allæ–¹æ³•ç”¨äºå°†å¤šä¸ª Promise å®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ã€‚ const test1=new Promise((resovle,reject)=&gt;{ resovle() }); const test2=new Promise((resovle,reject)=&gt;{ resovle() }) const test3=new Promise((resovle,reject)=&gt;{ resovle() }) const promiseAll=Promise.all([test1,test2,test3]) .then(()=&gt;{ console.log('éƒ½æˆåŠŸ') }) .catch(()=&gt;{ console.log('æœ‰å¤±è´¥') }) //è¾“å‡º éƒ½æˆåŠŸ ä¸Šé¢ä»£ç åˆ›å»ºäº†3ä¸ªPromise,ä»–ä»¬ä¸‰ä¸ªçš„çŠ¶æ€éƒ½ä¸ºfufilled,æ‰ä¼šè¿”å›fulfilledï¼Œå¦åˆ™è¿”å›rejectedã€‚ä¸Šé¢ä»£ç å¦‚æœæœ‰ä¸€ä¸ªè°ƒç”¨äº†rejectï¼Œå°±ä¼šè¿›å…¥catchï¼Œè¾“å‡ºï¼šæœ‰å¤±è´¥ Promiseä¸­raceæ–¹æ³• raceæ–¹æ³•åŒæ ·æ˜¯å°†å¤šä¸ª Promise å®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ã€‚ const test1=new Promise((resovle,reject)=&gt;{ setTimeout(()=&gt;{ resovle('test1') },500) }); const test2=new Promise((resovle,reject)=&gt;{ setTimeout(()=&gt;{ resovle('test2') },1000) }) const test3=new Promise((resovle,reject)=&gt;{ setTimeout(()=&gt;{ resovle('test3') },400) }) const promiseAll=Promise.race([test1,test2,test3],()=&gt;{ }) .then((res)=&gt;{ console.log(res) }) .catch((res)=&gt;{ console.log(res) }) //è¾“å‡º:test3 ä¸allæ–¹æ³•ä¸åŒçš„æ˜¯ï¼Œå¦‚æœå…¶ä¸­æœ‰ä¸€ä¸ªå®ä¾‹ç‡å…ˆæ”¹å˜äº†çŠ¶æ€ï¼ŒpromiseAllçš„çŠ¶æ€å°±è·Ÿç€æ”¹å˜ã€‚é‚£ä¸ªç‡å…ˆæ”¹å˜çš„ Promise å®ä¾‹çš„è¿”å›å€¼ï¼Œå°±ä¼ é€’ç»™pçš„å›è°ƒå‡½æ•°ï¼Œæ‰€ä»¥ä¸Šé¢ä»£ç ä¼šè¾“å‡ºtest3ã€‚ ","link":"https://lonjinup.github.io/promise/"},{"title":"å½»åº•ç†è§£åŸå‹ åŸå‹é“¾","content":" åŸå‹å’ŒåŸå‹é“¾ä¹Ÿæ˜¯ç»å¸¸è¢«é¢è¯•é—®åˆ°çš„é—®é¢˜ï¼Œå…¶å®åŸå‹ï¼ŒåŸå‹é“¾æ¶‰åŠé—®é¢˜è¾ƒå¤šï¼Œæœ¬æ–‡ä¹Ÿå»¶å±•äº†å‡ ä¸ªé¢è¯•ä¸­å¸¸é—®çš„çŸ¥è¯†ç‚¹ï¼Œæ–‡ç« ä¸é•¿ï¼Œè€å¿ƒçœ‹å®Œè‚¯å®šä¼šæœ‰æ”¶è·ã€‚ åˆ›å»ºå¯¹è±¡çš„å‡ ç§æ–¹æ³• å­—é¢é‡åˆ›å»º var n={name:1}; var n2=new Object({name:1}); æ„é€ å‡½æ•°åˆ›å»º var M=function(){ this.name=1 }; var n=new M() Object.createåˆ›å»º var P={name:1}; var n=Object.create(P) æ‰“å°ä¸€ä¸‹ç»“æœ å…¶ä»–åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•å°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ï¼Œæœ‰å…´è¶£çš„å¯å‚è€ƒã€Šåˆ›å»ºå¯¹è±¡çš„å‡ ç§æ–¹å¼ã€‹ åŸå‹ã€æ„é€ å‡½æ•°ã€å®ä¾‹ã€åŸå‹é“¾ å…ˆçœ‹å›¾ å†ä¸Šä»£ç ï¼š //å­—é¢é‡åˆ›å»º var o1={name:'tom'} var o2=new Object({name:'bob'}); //æ„é€ å‡½æ•° var M=function(name){ this.name=name } var o3=new M('tom'); //object.create var p={name:'tom'}; var o4=Object.create(p) ä»»ä½•ä¸€ä¸ªå‡½æ•°ï¼Œåªè¦è¢«newäº†ä»¥åï¼Œå°±æ˜¯æ„é€ å‡½æ•°ï¼Œè€Œnewå‡ºæ¥çš„è¢«ç§°ä¹‹ä¸ºå®ä¾‹ã€‚ä»»ä½•å‡½æ•°éƒ½å¯ä»¥å½“ä½œæ„é€ å‡½æ•°ã€‚ å‡½æ•°ä¸­éƒ½æœ‰ä¸€ä¸ªprototypeå±æ€§ï¼Œç”³æ˜ä¸€ä¸ªå‡½æ•°æ—¶å€™å°±ä¼šæœ‰ä¸ªprototypeå±æ€§ï¼Œè¿™ä¸ªå±æ€§ä¼šåˆå§‹åŒ–ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯åŸå‹å¯¹è±¡ã€‚ åŸå‹å¯¹è±¡ä¸­ä¼šæœ‰ä¸€ä¸ªæ„é€ å™¨:constructorï¼Œå®ƒé»˜è®¤ä¼šæŒ‡å‘ä½ ç”³æ˜çš„é‚£ä¸ªå‡½æ•°ã€‚ç»“åˆä¸Šé¢å†™çš„åˆ›å»ºå¯¹è±¡çš„ä¾‹å­ä»¥åŠç»“åˆå…³ç³»å›¾éªŒè¯ä¸€ä¸‹ï¼š å¯ä»¥çœ‹åˆ°ç»“æœï¼šM.prototype.constructor==Mç»“æœä¸ºtrue,ä¹Ÿå°±éªŒè¯äº†ä¸Šé¢å…³ç³»å›¾ã€‚ å†æ¬¡éªŒè¯ä¸€ä¸‹å®ä¾‹ä¸ä»–ä»¬çš„å…³ç³»ï¼š åŸå‹å¯¹è±¡å­˜åœ¨çš„ä½œç”¨ å…ˆä¸Šä¾‹å­ function Person(name,age){ this.name=name; this.age=age; this.eat=function(){ console.log(age+&quot;å²çš„&quot;+name+&quot;åœ¨åƒé¥­&quot;) } }; let Tom=new Person(&quot;Tom&quot;,24); let Bob=new Person(&quot;Tom&quot;,24); console.log(Tom.eat===Bob.eat); //flase å¯ä»¥çœ‹åˆ°å¯¹äºåŒä¸€ä¸ªå‡½æ•°ï¼Œnewå‡ºæ¥çš„å®ä¾‹ï¼Œéƒ½ä¼šå¼€å‡ºæ–°çš„ä¸€å—å †åŒº,æ‰€ä»¥ä¾‹å­ä¸­Tomå’ŒBobçš„eatæ˜¯ä¸åŒçš„ã€‚ è™½ç„¶æ‹¥æœ‰è‡ªå·±çš„çš„ä¸œè¥¿(æ¯”å¦‚æˆ¿å­ï¼Œè½¦å­)æ˜¯å¾ˆå¥½çš„ï¼Œä½†å®ƒä¹Ÿæœ‰ä¸å¥½çš„åœ°æ–¹ï¼Œæ¯•ç«Ÿä¸€å…±å°±é‚£ä¹ˆå¤§çš„åœ°æ–¹(å†…å­˜)ï¼Œä½ è¦ ä¸€ç›´å»ºç«‹æˆ¿å­ï¼Œä¼šå¯¼è‡´åœ°æ–¹ä¸è¶³(å†…å­˜ä¸è¶³)ã€‚ æ‰€ä»¥è¦æƒ³ä¸ªæ–¹æ³•ï¼Œå»ºç«‹å…±äº«åº“çš„çš„å¯¹è±¡(ä¾‹å¦‚æŠŠæ¥¼æˆ¿å»ºé«˜),è¿™æ ·å°±å¯ä»¥åœ¨éœ€è¦çš„æ—¶å€™è°ƒç”¨ä¸€ä¸ªç±»ä¼¼å…±äº«åº“çš„å¯¹è±¡(ç¤¾åŒº)ï¼Œè®©å®ä¾‹èƒ½æ²¿ç€æŸä¸ªçº¿ç´¢æ‰¾åˆ°å®ƒçš„å½’å¤„ã€‚ function Person(name,age){ this.name=name; this.age=age; }; // é€šè¿‡æ„é€ å‡½æ•°çš„ Person çš„ prototype å±æ€§æ‰¾åˆ° Person çš„åŸå‹å¯¹è±¡ Person.prototype.eat=function(){ console.log(&quot;åƒé¥­&quot;) }; let Tom=new Person(&quot;Tom&quot;,24); let Bob=new Person(&quot;Tom&quot;,24); console.log(Tom.eat===Bob.eat); //true å½“æˆ‘ä»¬è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡å†…éƒ¨ä¸å­˜åœ¨è¿™ä¸ªå±æ€§ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šå»å®ƒçš„åŸå‹å¯¹è±¡é‡Œæ‰¾è¿™ä¸ªå±æ€§ï¼Œè¿™ä¸ªåŸå‹å¯¹è±¡åˆ ä¼šæœ‰è‡ªå·±çš„åŸå‹ï¼Œäºæ˜¯å°±è¿™æ ·ä¸€ç›´æ‰¾ä¸‹å»ï¼Œä¹Ÿå°±æ˜¯åŸå‹é“¾çš„æ¦‚å¿µã€‚åŸå‹é“¾çš„é•œå¤´å°±æ˜¯Object.prototype instanceofçš„åŸç† instanceof å¯ä»¥æ­£ç¡®çš„åˆ¤æ–­å¯¹è±¡çš„ç±»å‹ï¼Œå› ä¸ºå†…éƒ¨æœºåˆ¶æ˜¯é€šè¿‡åˆ¤æ–­å¯¹è±¡çš„åŸå‹é“¾ä¸­æ˜¯ä¸æ˜¯èƒ½æ‰¾åˆ°ç±»å‹çš„ prototype console.log([] instanceof Array); // true console.log(function(){} instanceof Function); // true console.log({} instanceof Object); // true newè¿ç®—ç¬¦ä¸­éƒ½å¹²äº†ä»€ä¹ˆ åˆ›å»ºä¸€ä¸ªç®€å•ç©ºå¯¹è±¡ é“¾æ¥è¯¥å¯¹è±¡åˆ°å¦ä¸€ä¸ªå¯¹è±¡ï¼ˆåŸå‹é“¾ï¼‰ å°†æ­¥éª¤1æ–°åˆ›å»ºçš„å¯¹è±¡ä½œä¸ºthisçš„ä¸Šä¸‹æ–‡ å¦‚æœè¯¥å‡½æ•°æ²¡æœ‰è¿”å›å¯¹è±¡ï¼Œåˆ™è¿”å›this å¦‚æœreturnåˆ™è¿”å›returnçš„å€¼ var new2=function(func){ var o=Object.create(func.prototype); var k=func.call(o); if(typeof k =='object'){ return k }else{ return o } } æ€»ç»“ å¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡æ­£ï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©ï¼Œè®°å¾—ç‚¹èµæ”¶è—ï¼ ","link":"https://lonjinup.github.io/yxl/"},{"title":"JavaScriptä¸­çš„event loopå’Œå®ä»»åŠ¡ã€å¾®ä»»åŠ¡","content":"èƒŒæ™¯ â€œJavaScript æ˜¯å•çº¿ç¨‹ã€å¼‚æ­¥ã€éé˜»å¡ã€è§£é‡Šå‹è„šæœ¬è¯­è¨€â€ ä¹‹å‰çœ‹åˆ°è¿™å¥è¯ä¼šè§‰å¾—å¾ˆæ‡µï¼Œä¸å¤ªæ‡‚æ˜¯ä»€ä¹ˆæ„æ€ï¼ŒæŠ½ç©ºå¤ä¹ æ—¶å€™çœ‹äº†ä¸€ä¸‹jsçš„æ‰§è¡Œæœºåˆ¶ï¼Œè¿™æ—¶å€™å¯¹è¿™å¥è¯æœ‰äº†ä¸€äº›äº†è§£ã€‚JavaScript è¯­è¨€çš„ä¸€å¤§ç‰¹ç‚¹å°±æ˜¯å•çº¿ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒåŒä¸€ä¸ªæ—¶é—´åªèƒ½åšä¸€ä»¶äº‹ã€‚ä¸ºäº†åè°ƒäº‹ä»¶ã€ç”¨æˆ·äº¤äº’ã€è„šæœ¬ã€UI æ¸²æŸ“å’Œç½‘ç»œå¤„ç†ç­‰è¡Œä¸ºï¼Œé˜²æ­¢ä¸»çº¿ç¨‹çš„ä¸é˜»å¡ï¼ŒEvent Loop çš„æ–¹æ¡ˆåº”ç”¨è€Œç”Ÿã€‚ jsé‡åˆ°å¼‚æ­¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„ å¤§å®¶éƒ½çŸ¥é“jsä¸­setTimeoutæ˜¯å¼‚æ­¥çš„ï¼Œçœ‹ä¸‹é¢ä»£ç æ‰§è¡Œé¡ºåºï¼š //1 console.log(1) //2 setTimeout(() =&gt; { console.log(2) }, 1000); //3 console.log(3) é¦–å…ˆjsä¼šè¾“å‡º1ï¼Œç„¶åé‡åˆ°setTimeoutï¼Œè¿™æ—¶å€™jsä¸ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯å‘èµ·ä¸€ä¸ªå¼‚æ­¥ï¼Œç„¶åæ¥ç€èµ°åˆ°ç¬¬ä¸‰æ­¥ï¼Œè¾“å‡º3ï¼Œè¿™æ—¶å€™æ‰§è¡Œæ ˆä¸ºç©ºï¼Œç„¶åä¼šå°†setTimeoutçš„å›è°ƒå‡½æ•°å‹å…¥æ‰§è¡Œæ ˆè¿›è¡Œæ‰§è¡Œã€‚æ‰€ä»¥ç»“æœä¸º1-&gt;3-&gt;2 ç»§ç»­çœ‹ä»£ç ï¼š console.log(1) setTimeout(() =&gt; { console.log(2) }, 0); console.log(3) setTimeout(() =&gt; { console.log(4) }, 1000); è¿˜æ˜¯ä¹‹å‰çš„ä»£ç ï¼Œé¦–å…ˆè‚¯å®šä¼šè¾“å‡º1ï¼Œç„¶åé‡åˆ°setTimeoutï¼Œæ³¨å†Œå‡½æ•°ï¼Œæ¥ç€ä¼šè¾“å‡º3ï¼Œç„¶ååˆé‡åˆ°ä¸€ä¸ªsetTimeoutï¼Œæ³¨å†Œå‡½æ•°ï¼Œè¿™æ—¶å€™æ‰§è¡Œæ ˆå·²ç»æ²¡æœ‰ä»»åŠ¡ï¼Œäº‹ä»¶è§¦å‘çº¿ç¨‹ä¼šä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­å–å‡ºåˆšæ‰åŠ å…¥é˜Ÿåˆ—çš„å‡½æ•°è¿›è¡Œæ‰§è¡Œï¼Œæ­¤æ—¶ä¼šè¾“å‡º2ï¼Œç„¶åæ‰§è¡Œæ ˆåˆä¸ºç©ºï¼Œè¿™æ—¶å€™äº‹ä»¶è§¦å‘çº¿ç¨‹åˆä¼šå»æ¶ˆæ¯é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªå‡½æ•°è¿›è¡Œæ‰§è¡Œï¼Œæ­¤æ—¶ä¼šè¾“å‡º4ã€‚è¿™å°±æ˜¯Event-Loopã€‚ å¾®ä»»åŠ¡ éƒ½çŸ¥é“Pormiseæ˜¯å¾®ä»»åŠ¡ï¼Œä¸‹é¢å°±æ‹¿Pormiseä¸¾ä¾‹å­ï¼š console.log(1) setTimeout(() =&gt; { console.log(2) }, 1000); let test=new Pormise((resolve)=&gt;{ console.log(3); resolve(); }) .then(=&gt;console.log(4)) console.log(5) é¦–å…ˆä¼šè¾“å‡º1ï¼Œç„¶åé‡åˆ°setTimeoutï¼Œæ³¨å†Œä»»åŠ¡æ¥ç€åˆé‡åˆ°Pormiseï¼Œé¦–å…ˆå…ˆè¾“å‡º3ï¼Œç„¶åæ³¨å†Œä»»åŠ¡ï¼Œæ¥ç€ä¼šè¾“å‡º5ï¼Œè¿™æ—¶å€™æ‰§è¡Œæ ˆæ²¡æœ‰å¯æ‰§è¡Œçš„ï¼Œç„¶åä¼šä»é˜Ÿåˆ—ä¸­å–ï¼Œè¿™æ—¶å€™ä¼šå…ˆå–å‡ºå¾®ä»»åŠ¡è¿›è¡Œæ‰§è¡Œï¼Œè¿›å…¥åˆ°thenï¼Œè¾“å‡º4ï¼Œè¿™æ—¶å€™æ‰§è¡Œæ ˆåˆä¸ºç©ºï¼Œè¿™æ—¶å€™ç»§ç»­ä»é˜Ÿåˆ—ä¸­å–å‡ºä¸€æ¡ä»»åŠ¡ï¼Œè¿™æ—¶å€™ä¼šè¾“å‡º2ã€‚ ç»ƒä¹  æ£€æµ‹ä¸€ä¸‹è‡ªå·±åˆ°åº•æœ‰æœ¨æœ‰æŒæ¡ console.log(1) //åŒæ­¥ä»»åŠ¡A setTimeout( //åŒæ­¥ä»»åŠ¡B () =&gt; { console.log(2) } //ä»»åŠ¡Bäº§ç”Ÿçš„å¼‚æ­¥å®ä»»åŠ¡ , 300) new Promise( //åŒæ­¥ä»»åŠ¡C (resolve) =&gt; { console.log(3); resolve(4); } ) .then( //ä»»åŠ¡Cæ‰§è¡Œè¿‡ç¨‹ä¸­resolve(4)è¯­å¥äº§ç”Ÿçš„å¼‚æ­¥å¾®ä»»åŠ¡ (num) =&gt; { console.log(num) } ) setTimeout( //åŒæ­¥ä»»åŠ¡D ()=&gt; { console.log(5) } //ä»»åŠ¡Däº§ç”Ÿçš„å¼‚æ­¥å®ä»»åŠ¡ , 800) //1-3-4-2-5 ","link":"https://lonjinup.github.io/enentloop/"},{"title":"jsä¸­é˜²æŠ–ä¸èŠ‚æµ","content":" å¹³æ—¶å¾ˆå¤šåº”ç”¨åœºæ™¯éœ€è¦ç”¨åˆ°é˜²æŠ–å’ŒèŠ‚æµï¼Œé¢è¯•æ—¶å€™ä¹ŸåŸºæœ¬ä¼šé—®åˆ°ï¼Œè¿™é‡Œæ€»ç»“ä¸€ä¸‹ã€‚ é˜²æŠ– åœ¨äº‹ä»¶è¢«è§¦å‘nç§’åå†æ‰§è¡Œå›è°ƒï¼Œå¦‚æœåœ¨è¿™nç§’å†…åˆè¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡æ—¶ã€‚ ç›´æ¥ä¸Šä»£ç  &lt;body&gt; &lt;div id='app'&gt; &lt;button class=&quot;button&quot; @click='clickMe'&gt;clickMe&lt;/button&gt; &lt;/div&gt; &lt;/body&gt; &lt;script src=&quot;vue.js&quot;&gt;&lt;/script&gt; &lt;script&gt; //å°è£…é˜²æŠ– function debounce(fn, wait) { let timer = null; let args = arguments; return function () { if (timer) { clearTimeout(timer); } timer = setTimeout(() =&gt; { fn.apply(this, args) }, wait) } }; var vue = new Vue({ el: &quot;#app&quot;, data: { num: 0 }, methods: { clickMe: debounce(function (e) { var myDate = new Date(); console.log(myDate.toLocaleTimeString()) }, 2000) }, }) &lt;/script&gt; èŠ‚æµ è§„å®šåœ¨ä¸€ä¸ªå•ä½æ—¶é—´å†…ï¼Œåªèƒ½è§¦å‘ä¸€æ¬¡å‡½æ•°ã€‚å¦‚æœè¿™ä¸ªå•ä½æ—¶é—´å†…è§¦å‘å¤šæ¬¡å‡½æ•°ï¼Œåªæœ‰ä¸€æ¬¡ç”Ÿæ•ˆã€‚ è¿˜æ˜¯ç›´æ¥çœ‹ä»£ç  &lt;body&gt; &lt;div id='app'&gt; &lt;button class=&quot;button&quot; @click='clickThis'&gt;èŠ‚æµ&lt;/button&gt; &lt;/div&gt; &lt;/body&gt; &lt;script src=&quot;vue.js&quot;&gt;&lt;/script&gt; &lt;script&gt; //èŠ‚æµ function throttle(fn, wait) { let timer = null return function () { let args = arguments if (!timer) { timer = setTimeout(() =&gt; { timer = null fn.apply(this, args) }, wait) } } } var vue = new Vue({ el: &quot;#app&quot;, data: { num: 0 }, methods: { clickThis: throttle(function () { console.log(&quot;èŠ‚æµ&quot;); var myDate = new Date(); console.log(myDate.toLocaleTimeString()) }, 2000) }, }) &lt;/script&gt; æ€»ç»“ é˜²æŠ–å°±åƒæ¸¸æˆä¸­çš„buffï¼Œä½ åƒäº†bullï¼Œå¼€å§‹å€’è®¡æ—¶ï¼Œè¿™æ—¶å€™ä½ åˆåƒäº†ä¸€ä¸ªbuffï¼Œåˆ™é‡æ–°è®°æ—¶ã€‚ èŠ‚æµå°±æ˜¯æ¸¸æˆä¸­çš„æŠ€èƒ½CDï¼Œä½ æŒ‰ä¸‹æŠ€èƒ½ä»¥åï¼Œå†è§„å®šçš„æ—¶é—´å†…ï¼Œä½ å†æŒ‰ä¹Ÿæ²¡ç”¨ï¼Œåªèƒ½èƒ½å†·å´å¥½äº†å†æŒ‰ã€‚ ","link":"https://lonjinup.github.io/jsfdoujieliu/"},{"title":"ã€ES6ã€‘classç±»","content":"class ES5ä¸­åˆ›å»ºå¯¹è±¡ä»¥åŠç»§æ‰¿ function Car(options){ this.title=options.title; }; Car.prototype.drive=function(){ return 'run' }; const car =new Car({title:'BMW'}); console.log(car); console.log(car.drive()); ç»§æ‰¿ function Toyota(options){ this.color=options.color; }; const toyota=new Toyota({color:'RED',title:'hello'}); console.log(toyota.title)//undefined å› ä¸ºtitleæ²¡æœ‰å®šä¹‰ï¼Œæ‰€ä»¥æ‹¿ä¸åˆ°,éœ€è¦å€ŸåŠ©Call function Toyota(options){ Car.call(this,options) this.color=options.color; }; const toyota=new Toyota({color:'RED',title:'hello'}); console.log(toyota)ï¼› å¦‚æœæƒ³ç»§æ‰¿ä¸Šé¢ä¸­driveæ–¹æ³• function Toyota(options){ Car.call(this,options) this.color=options.color; }; Toyota.prototype=Object.create(Car.prototype); Toyota.prototype.constructor=Toyota; const toyota=new Toyota({color:'RED',title:'hello'}); console.log(toyota.drive()); ES6ä¸­åˆ›å»ºå¯¹è±¡ä»¥åŠç»§æ‰¿ class Car{ //æ„é€ å‡½æ•° constructor({title}){ this.title=title } drive(){ return 'runing' } }; const car=new Car({title:'bmw'}); console.log(car) ç»§æ‰¿ class Toyota{ constructor(e){ this.color=e.color }; }; const toyota=new Toyota({color:&quot;red&quot;,title:'hello'}); console.log(toyota); ä½†æ¥æ”¶ä¸åˆ°title class Toyota{ constructor(e){ super(e);//æ¥æ”¶å™¨ this.color=e.color }; } const toyota=new Toyota({color:&quot;red&quot;,title:'hello'}); console.log(toyota);//Uncaught SyntaxError: 'super' keyword unexpected here ä¸Šé¢å› ä¸ºå› ä¸ºæ²¡æœ‰çˆ¶çº§ï¼Œæ²¡æœ‰å‘Šè¯‰å®ƒç»§æ‰¿äºè° class Toyota extends Car{ constructor(e){ super(e);//æ¥æ”¶å™¨ this.color=e.color }; }ï¼› const toyota=new Toyota({color:&quot;red&quot;,title:'hello'}); console.log(toyota) ","link":"https://lonjinup.github.io/es6-class-lei/"},{"title":"å°ç¨‹åºå®˜æ–¹ç›´æ’­æ’ä»¶","content":" å…³äºç›´æ’­ï¼Œå¯è°“æ˜¯2020å¹´å¾ˆç«çˆ†çš„è¯é¢˜äº†ï¼Œæ­£å¥½èµ¶ä¸Šè‚ºç‚ï¼Œä¸èƒ½å‡ºé—¨ï¼Œå¨±ä¹æ–¹å¼æå°‘ï¼Œå¤§å¤§æ¨åŠ¨äº†ç›´æ’­ã€‚ åŒæ—¶æœ€è¿‘ç›´æ’­ä¹Ÿæ–°é—»ä¸æ–­ï¼šç½—æ°¸æµ©æŠ–éŸ³ç›´æ’­å¸¦è´§ï¼Œç›´æ’­ä¸€å§å–ç«ç®­.... å¯è§ä»Šå¹´ç›´æ’­è¡Œä¸šçš„ç«çˆ†ã€‚å¥½å¤šå…¬å¸éƒ½æœ‰éœ€æ±‚å¼€å‘å°ç¨‹åºç›´æ’­ã€‚ å°ç¨‹åºç›´æ’­ å¦‚ä»Šç›´æ’­å¹³å°å¾ˆå¤šï¼ŒæŠ–éŸ³ç›´æ’­ï¼Œå¿«æ‰‹ç›´æ’­ï¼Œè™ç‰™ç›´æ’­ï¼Œbç«™ç›´æ’­ï¼Œå„å¤§å¹³å°ç«äº‰ä¹Ÿæ˜¯å¾ˆæ¿€çƒˆã€‚ çŸ­è§†é¢‘ä¹Ÿæ˜¯ï¼Œä»Šå¹´å¾®ä¿¡æ¨å‡ºäº†è§†é¢‘å·ï¼Œä¸è¿‡è¿˜åœ¨å†…æµ‹é˜¶æ®µï¼Œå°ç¨‹åºä¹Ÿæ¨å‡ºäº†æ–°çš„ç›´æ’­æ–¹æ¡ˆã€‚å¯è§é©¬çˆ¸çˆ¸ä¹Ÿæƒ³åœ¨ç›´æ’­å’ŒçŸ­è§†é¢‘è¡Œä¸šåˆ†ä¸€æ¯ç¾¹ã€‚æ¯‹åº¸ç½®ç–‘ï¼Œå¾®ä¿¡å‡ ä¹æˆä¸ºäº†äººä»¬å¿…ä¸å¯å°‘çš„é€šè®¯å·¥å…·ï¼Œ æœ‰å¾®ä¿¡çš„ç”¨æˆ·åŸºç¡€ï¼Œå°ç¨‹åºç›´æ’­çš„ä¼˜åŠ¿å°±å±•ç°å‡ºæ¥äº†ã€‚ å¦‚æœå…¬å¸éœ€æ±‚ä¸æ˜¯ç‰¹åˆ«å¤§ï¼Œè€Œä¸”å·¥æœŸæœ‰é™ï¼Œæ—¶é—´æœ‰é™ï¼Œå°±å¯ä»¥å°è¯•ä¸€ä¸‹å¾®ä¿¡å°ç¨‹åºç›´æ’­ç»„ä»¶ï¼Œå¼€ç®±å³ç”¨ï¼Œå¼€é€šè¦æ±‚ä¸ºæ¥å…¥å¾®ä¿¡æ”¯ä»˜ï¼Œä¸”90å¤©å†…æœ‰ä¸€ç¬”äº¤æ˜“ã€‚è¿™ä¸ªé—¨æ§›è¿˜æ˜¯éå¸¸ä½çš„ã€‚ ä¸ºä»€ä¹ˆè¦ç”¨å°ç¨‹åºç›´æ’­ç»„ä»¶ å¼€å‘éš¾åº¦ä½ï¼Œæˆæœ¬å°‘ï¼Œè§æ•ˆå¿«ï¼šç›¸å¯¹äºä¹‹å‰æ¨å‡ºçš„å°ç¨‹åºç›´æ’­å¼€å‘ï¼Œè¿™æ¬¡çš„ç›´æ’­ä»æ–‡æ¡£ä¸­å¯ä»¥çœ‹å‡ºï¼Œå¯ä»¥è¯´æ˜¯å‚»ç“œå¼å¼€å‘ï¼Œå› ä¸ºå¾®ä¿¡å·²ç»å¸®å¿™å¤„ç†çš„ç»å¤§éƒ¨åˆ†ä¸œè¥¿ã€‚æ‰€ä»¥å¼€å‘å’Œå‡çº§å‘¨æœŸæ˜¯éå¸¸çŸ­çš„ã€‚ è£‚å˜å¿«ï¼šè™½ç„¶è¯´ç°åœ¨æŠ–éŸ³å¿«æ‰‹å æ®äº†çŸ­è§†é¢‘ç›´æ’­åŠè¾¹å¤©ï¼Œä½†æ˜¯å¾®ä¿¡çš„æµé‡ä¹Ÿä¸æ˜¯ç›–çš„ï¼Œæ¯•ç«Ÿæ—¥æ´»è·ƒæ‘†åœ¨é‚£é‡Œã€‚å•†å®¶å¯ä»¥ç­–åˆ’æ´»åŠ¨ï¼Œåœ¨æœ‹å‹åœˆä¸­å±•å¼€æ¨å¹¿è£‚å˜ï¼Œæ•ˆæœä¸æ¯”å…¶ä»–ç›´æ’­å¹³å°å·®ã€‚ æˆ‘ä»¬å¯ä»¥æƒ³ä¸€ä¸‹ï¼Œ xxå•†æˆ·ï¼Œåœ¨å°ç¨‹åºå¼€å¯äº†ç›´æ’­--&gt;ç›´æ’­é—´æŠ½å¥–èšé›†äººæ°”ï¼ˆé€šè¿‡è½¬å‘ï¼Œåˆ†äº«å¿«é€Ÿè£‚å˜ï¼‰--&gt;è®²è§£å•†å“ï¼Œæé«˜æˆäº¤é‡ã€‚è¿™æ ·ä¸‹æ¥ï¼Œæµé‡ä»¥åŠæˆäº¤é‡è‡ªç„¶ä¼šæé«˜ã€‚ä¸”åœ¨è‡ªå·±å°ç¨‹åºç›´æ’­ã€‚ ç›´æ’­ç»„ä»¶çš„ä½¿ç”¨ å…ˆæ”¾å®˜ç½‘æ–‡æ¡£åœ°å€ å®˜æ–¹æ–‡æ¡£ é…ç½®ç›´æ’­ ç›´æ¥åœ¨app.jsonä¸­å¼•å…¥æ’ä»¶ &quot;plugins&quot;: { &quot;live-player-plugin&quot;: { &quot;version&quot;: &quot;1.0.4&quot;, // æ³¨æ„å¡«å†™è¯¥ç›´æ’­ç»„ä»¶æœ€æ–°ç‰ˆæœ¬å·ï¼Œå¾®ä¿¡å¼€å‘è€…å·¥å…·è°ƒè¯•æ—¶å¯è·å–æœ€æ–°ç‰ˆæœ¬å·ï¼ˆå¤åˆ¶æ—¶è¯·å»æ‰æ³¨é‡Šï¼‰ &quot;provider&quot;: &quot;wx2b03c6e691cd7370&quot; // å¿…é¡»å¡«è¯¥ç›´æ’­ç»„ä»¶appidï¼Œè¯¥ç¤ºä¾‹å€¼å³ä¸ºç›´æ’­ç»„ä»¶appidï¼ˆå¤åˆ¶æ—¶è¯·å»æ‰æ³¨é‡Šï¼‰ } } è¿›å…¥ç›´æ’­é—´ live:function(){ let roomId = [ç›´æ’­æˆ¿é—´id] // æˆ¿é—´å· let customParams = { path: 'pages/index/index', pid: 1 } // å¼€å‘è€…åœ¨ç›´æ’­é—´é¡µé¢è·¯å¾„ä¸Šæºå¸¦è‡ªå®šä¹‰å‚æ•°ï¼ˆå¦‚ç¤ºä¾‹ä¸­çš„pathå’Œpidå‚æ•°ï¼‰ï¼Œåç»­å¯ä»¥åœ¨åˆ†äº«å¡ç‰‡é“¾æ¥å’Œè·³è½¬è‡³å•†è¯¦é¡µæ—¶è·å–ï¼Œè¯¦è§ã€è·å–è‡ªå®šä¹‰å‚æ•°ã€‘ã€ã€ç›´æ’­é—´åˆ°å•†è¯¦é¡µé¢æºå¸¦å‚æ•°ã€‘ç« èŠ‚ this.setData({ roomId, customParams: encodeURIComponent(JSON.stringify(customParams)) }) } åˆ›å»ºç›´æ’­ é—®é¢˜æ¥äº†ï¼Œåœ¨å“ªåˆ›å»ºç›´æ’­é—´å•Šï¼Ÿçœ‹å›¾å³å¯ é¦–å…ˆç™»å½•å¾®ä¿¡å°ç¨‹åºåå°ï¼Œæ‰¾åˆ°ç›´æ’­ã€‚ åˆ›å»ºç›´æ’­ é€‰æ‹©ç›´æ’­å½¢å¼ å¡«å†™åŸºæœ¬ä¿¡æ¯ é…ç½®ç›´æ’­é—´æ ·å¼ ç›´æ’­é—´æ ·å¼ å¥½äº†ï¼Œä¸€ä¸ªç›´æ’­å°±åˆ›å»ºå®Œæˆäº†ï¼Œæ­¤æ—¶ä½ ä¼šå¾—åˆ°ä¸€ä¸ªæˆ¿é—´å·ï¼Œåœ¨è‡ªå·±æ­å»ºçš„å°ç¨‹åºåå°ä¸Šä¼ ä¸€ä¸‹æˆ¿é—´å·ï¼Œå³å¯è§‚çœ‹ç›´æ’­ã€‚è¿™ç§å¯¹äºå•å•†æˆ·å¹³å°æå…¶å‹å¥½ï¼Œå¼€å‘ä¹Ÿéå¸¸çœäº‹çœåŠ›ã€‚ æ·»åŠ å•†å“ åå°å»ºç«‹å•†å“åº“ï¼Œå¡«å†™ç›¸å…³å‚æ•°å³å¯ã€‚ æ¨æµç›´æ’­ çœ‹è¿™ç¯‡æ–‡ç« å°ç¨‹åºæ¨æµé…ç½® å…¶ä»–åŠŸèƒ½ ç›´æ’­é—´è¿˜å¯ä»¥åˆ›å»ºæŠ½å¥–ï¼Œä¼˜æƒ åˆ¸ï¼Œä»¥åŠæ‹‰é»‘ç”¨æˆ·ç­‰åŠŸèƒ½ã€‚ä¹Ÿå¯ä»¥åœ¨åå°è®¾ç½®ç®¡ç†å‘˜è¿›è¡Œç®¡ç†ã€‚ ç»“å°¾ ä½“éªŒäº†ä¸€ä¸‹å°ç¨‹åºç›´æ’­ç»„ä»¶ï¼Œè¿˜æ˜¯å¾ˆä¸é”™çš„ï¼Œæ— è®ºæ¨æµç›´æ’­è¿˜æ˜¯ç”¨æ‰‹æœºè¿›è¡Œç›´æ’­ï¼Œæ•ˆæœè¿˜æ˜¯å¾ˆä¸é”™çš„ï¼Œä½†æ˜¯æ²¡æœ‰åŠæ³•æµ‹è¯•åŒæ—¶åœ¨çº¿å¤šå°‘äººä¼šé€ æˆå¡é¡¿ï¼Œè¿™ä¸ªå¾®ä¿¡ä¹Ÿå¥½åƒæ²¡æœ‰ç›¸å…³æ–‡æ¡£è¯´æ˜ï¼ŒæœŸå¾…å¾®ä¿¡åæœŸçš„è¯´æ˜è¡¥å……ã€‚ ","link":"https://lonjinup.github.io/xcxzb/"},{"title":"ã€01ã€‘Reactç¯å¢ƒæ­å»ºä»¥åŠæ–‡ä»¶ç›®å½•ä»‹ç»","content":" æ‰“ç®—å­¦ä¹ ä¸€ä¸‹Reactï¼Œè®°å½•ä¸€ä¸‹å­¦ä¹ é‡åˆ°çš„é—®é¢˜ã€‚ æ­å»ºç¯å¢ƒ ç¯å¢ƒ å®‰è£…Node åˆ° Nodeå®˜ç½‘ä¸‹è½½ï¼Œä¸‹è½½å®Œç›´æ¥æ ¹æ®æç¤ºå®Œæˆå®‰è£…ã€‚windowç”µè„‘æ‰“å¼€CMDï¼ŒMac ç”µè„‘æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥node -vå¯ä»¥æŸ¥çœ‹ç‰ˆæœ¬å·ï¼Œè¯´æ˜å®‰è£…æˆåŠŸäº†ã€‚ node -v Reactè„šæ‰‹æ¶ æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä¸‹é¢å‘½ä»¤å°±å¼€å§‹å®‰è£…äº†ã€‚ npm install -g create-react-app å¦‚æœä½ æ˜¯Macï¼Œéœ€è¦åœ¨å‰é¢åŠ sudoï¼Œç„¶åæŒ‰æç¤ºè¾“å…¥å¯†ç è¿›è¡Œå®‰è£…ã€‚ä¸ç„¶ä¼šæç¤ºä½ æ²¡æœ‰æƒé™ã€‚ sudo npm install -g create-react-app åˆ›å»ºæˆ‘çš„ç¬¬ä¸€ä¸ªé¡¹ç›® è¿›å…¥åˆ°ä½ æƒ³åˆ›å»ºé¡¹ç›®çš„æ–‡ä»¶å¤¹ create-react-app demo01 //ç”¨è„šæ‰‹æ¶åˆ›å»ºReacté¡¹ç›®,åé¢æ˜¯é¡¹ç›®åå­— cd demo01 //ç­‰åˆ›å»ºå®Œæˆåï¼Œè¿›å…¥é¡¹ç›®ç›®å½• npm start //é¢„è§ˆé¡¹ç›®ï¼Œå¦‚æœèƒ½æ­£å¸¸æ‰“å¼€ï¼Œè¯´æ˜é¡¹ç›®åˆ›å»ºæˆåŠŸ åˆ›å»ºæˆåŠŸä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼Œèƒ½æ­£å¸¸æ˜¾ç¤ºReactå›¾æ ‡ï¼Œå°±è¯´æ˜åˆ›å»ºæˆåŠŸäº†ï¼ ç›®å½•è®²è§£ --- README.md (é¡¹ç›®è¯´æ˜æ–‡ä»¶ï¼Œå·¥ä½œä¸­å¯ä»¥å†™é¡¹ç›®æè¿°ï¼Œé¡¹ç›®è¯´æ˜ç­‰) --- package.json (è¿™ä¸ªæ–‡ä»¶æ˜¯webpacké…ç½®å’Œé¡¹ç›®åŒ…ç®¡ç†æ–‡ä»¶ï¼Œé¡¹ç›®ä¸­ä¾èµ–çš„ç¬¬ä¸‰æ–¹åŒ…å’Œä¸€äº›å¸¸ç”¨å‘½ä»¤é…ç½®éƒ½åœ¨è¿™ä¸ªé‡Œè¾¹è¿›è¡Œé…ç½®ç›®å‰ä½ç½®ï¼Œæˆ‘ä»¬ä¸éœ€è¦æ”¹åŠ¨ã€‚) --- package-lock.json (é”å®šå®‰è£…æ—¶çš„ç‰ˆæœ¬å·ï¼Œå¹¶ä¸”éœ€è¦ä¸Šä¼ åˆ°gitï¼Œä»¥ä¿è¯å…¶ä»–äººå†npm install æ—¶å¤§å®¶çš„ä¾èµ–èƒ½ä¿è¯ä¸€è‡´ã€‚) --- gitignore (è¿™ä¸ªæ˜¯gitçš„é€‰æ‹©æ€§ä¸Šä¼ çš„é…ç½®æ–‡ä»¶ï¼Œæ¯”å¦‚ä¸€ä¼šè¦ä»‹ç»çš„node_modulesæ–‡ä»¶å¤¹ï¼Œå°±éœ€è¦é…ç½®ä¸ä¸Šä¼ ã€‚) --- node_modules (è¿™ä¸ªæ–‡ä»¶å¤¹å°±æ˜¯æˆ‘ä»¬é¡¹ç›®çš„ä¾èµ–åŒ…ï¼Œåˆ°ç›®å‰ä½ç½®ï¼Œè„šæ‰‹æ¶å·²ç»éƒ½ç»™æˆ‘ä»¬ä¸‹è½½å¥½äº†ï¼Œä½ ä¸éœ€è¦å•ç‹¬å®‰è£…ä»€ä¹ˆã€‚) --- public (å…¬å…±æ–‡ä»¶) ------- favicon.ico ï¼ˆç½‘ç«™æ ‡ç­¾å°å›¾æ ‡ï¼‰ ------- index.html (æ¨¡ç‰ˆæ–‡ä»¶,å…¶ä¸­&lt;noscript&gt;&lt;/noscript&gt;æ ‡ç­¾æ˜¯å®¹é”™å¤„ç†ï¼Œå¦‚æœå½“å‰JavaScriptæ²¡æœ‰è·‘é€šçš„æƒ…å†µä¸‹å°±ä¼šæ˜¾ç¤ºé‡Œé¢çš„å†…å®¹) ------- manifest.json ï¼ˆç§»åŠ¨ç«¯é…ç½®æ–‡ä»¶ï¼‰ --- src (å¼€æ”¾çš„æºä»£ç ï¼Œæˆ‘ä»¬å¹³æ—¶æ“ä½œåšæœ€å¤šçš„ç›®å½•) ------- index.js (é¡¹ç›®å…¥å£æ–‡ä»¶) ------- ndex.css ï¼ˆè¿™ä¸ªæ˜¯index.jsé‡Œçš„CSSæ–‡ä»¶ã€‚ï¼‰ ------- app.js ï¼ˆè¿™ä¸ªæ–‡ä»¶ç›¸å½“äºä¸€ä¸ªæ–¹æ³•æ¨¡å—ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªç®€å•çš„æ¨¡å—åŒ–ç¼–ç¨‹ã€‚ï¼‰ ------- serviceWorker.js ï¼ˆè¿™ä¸ªæ˜¯ç”¨äºå†™ç§»åŠ¨ç«¯å¼€å‘çš„ï¼ŒPWAå¿…é¡»ç”¨åˆ°è¿™ä¸ªæ–‡ä»¶ï¼Œæœ‰äº†è¿™ä¸ªæ–‡ä»¶ï¼Œå°±ç›¸å½“äºæœ‰äº†ç¦»çº¿æµè§ˆçš„åŠŸèƒ½ã€‚ï¼‰ ","link":"https://lonjinup.github.io/01-react/"},{"title":"ã€ES6ã€‘è§£æ„(æ•°ç»„-å¯¹è±¡)","content":"è§£æ„ ä¸»è¦åº”ç”¨äºä¸¤ç§ç±»å‹ï¼Œä¸€ç§æ˜¯æ•°ç»„ï¼Œä¸€ç§æ˜¯å¯¹è±¡ã€‚ å¯¹è±¡è§£æ„ çœ‹ä¸€ä¸ªä¾‹å­,å¦‚æœè¦å–åˆ°å¯¹è±¡ä¸­çš„æŸä¸ªå€¼ï¼Œæˆ‘ä»¬éœ€è¦è¿™æ ·æ“ä½œ var expense={ type:'es6', amount:'45' }; var type=expense.type; var amount=expense.amount; console.log(type,amount); //es6,45 ä½¿ç”¨è§£æ„çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå†™ var expense={ type:'es6', amount:'45' }; const {type,amount}=expense; console.log(type,amount);//es6,45 å¦‚æœå¯¹è±¡ä¸­æ²¡æœ‰è¯¥å±æ€§ï¼Œåˆ™ä¼šè¿”å› var expense={ type:'es6', amount:'45' }; const {type,amount,abc}=expense; console.log(type,amount,abc);//es6 45 undefined å°æ¡ˆä¾‹ è·å–å¯¹è±¡ä¸­å®šä¹‰çš„æŸäº›å€¼ ES5å®ç° var saveFiled={ extension:'jpg', name:'es6', size:'1024' }; function fileSammary(file) { return `${file.name}.${file.extension}çš„å¤§å°æ˜¯${file.size}` }; console.log(fileSammary(saveFiled));//es6.jpgçš„å¤§å°æ˜¯1024 ES6å®ç° var saveFiled={ extension:'jpg', name:'es6', size:'1024' }; function fileSammary({name,extension,size}){ return `${name}.${extension}çš„å¤§å°æ˜¯${size}` }; console.log(fileSammary(saveFiled));//es6.jpgçš„å¤§å°æ˜¯1024 æ•°ç»„çš„è§£æ„ ç›´æ¥ä¸Šä¾‹å­ï¼Œè·å–æ•°ç»„çš„å€¼ const names=['tom','bob','nike']; const [name1,name2,name3]=names; console.log(name1,name2,name3)//tom bob nike å¦‚æœæƒ³è¦è·å–æ•°ç»„ä¸­çš„é•¿åº¦ï¼Œç›´æ¥åœ¨èŠ±æ‹¬å·ä¸­è¾“å…¥ lengthï¼› const names=['tom','bob','nike']; const {length}=names; console.log(length)//3 å±•å¼€è¿ç®—ç¬¦è¿›è¡Œè§£æ„ const names=['tom','bob','nike']; const [name,...rest]=names; console.log(name) //tom; console.log(rest) // [&quot;bob&quot;, &quot;nike&quot;] è¿˜å¯ä»¥è¿™ä¹ˆæ“ä½œ let a,b; [a,b]=[100,200]; console.log(a,b); å¯¹è±¡æ•°ç»„è§£æ„ è·å–å¯¹è±¡æ•°ç»„ä¸­çš„æŸä¸ªå±æ€§ ES5 const people=[ {names:&quot;tom&quot;,age:20}, {names:&quot;bob&quot;,age:10}, {names:&quot;nike&quot;,age:24}, ]; var age=people[0].age; console.log(age);//20 ES6 const people=[ {names:&quot;tom&quot;,age:20}, {names:&quot;bob&quot;,age:10}, {names:&quot;nike&quot;,age:24}, ]; //äºŒæ¬¡è§£æ„ const [{age}]=people; console.log(age)//20 ä½¿ç”¨åœºæ™¯ å°†æ•°ç»„è½¬åŒ–ä¸ºå¯¹è±¡ const point=[ [4,5], [10,1], [0,10] ]; //æœŸæœ›æ•°æ®æ ¼å¼ // [ // {x:4,y:5}, // {x:10,y:1}, // {x:0,y:10} // ] let newPoint=point.map(pair=&gt;{ const x=pair[0]; const y=pair[1]; return {x,y} }) console.log(newPoint) è¿˜å¯ä»¥è¿›è¡Œä¼˜åŒ–ä¸€ä¸‹ let newPoint=point.map(pair=&gt;{ const [x,y]=pair; return {x,y} }); console.log(newPoint) å†ä¸€æ­¥ä¼˜åŒ– let newPoint=point.map(([x,y])=&gt;{ return {x:x,y:y} }) console.log(newPoint); ","link":"https://lonjinup.github.io/es6-jie-gou-shu-zu-dui-xiang/"},{"title":"ã€ES6ã€‘å±•å¼€è¿ç®—ç¬¦","content":"å±•å¼€è¿ç®—ç¬¦ æ™®é€šå†™æ³•ä¸å±•å¼€è¿ç®—ç¬¦ æ™®é€šæ•°ç»„ç›¸åŠ  function addNumbers(numbers) { return numbers.reduce((sum,number)=&gt;{ return sum+number },0) }; const numbers=[1,2,3,4,5]; console.log(addNumbers(numbers)) //15 å¦‚æœä¼ å…¥çš„æ˜¯å•ä¸ªæ•°å­— function addNumbers(a,b,c,d,e) { let numbers=[a,b,c,d,e]; return numbers.reduce((sum,number)=&gt;{ return sum+number },0) }; console.log(addNumbers(1,2,3,4,5)) //15 å±•å¼€è¿ç®—ç¬¦ function addNumbers(...numbers) { return numbers.reduce((sum,number)=&gt;{ return sum+number },0) }; console.log(addNumbers(1,2,3,4,5)) //15 å±•å¼€è¿ç®—ç¬¦çš„åº”ç”¨ å¯æ›¿ä»£æ•°ç»„pushç­‰æ“ä½œ var defaultColor=['red','green']; var favoriteColor=['orange','yellow']; defaultColor=defaultColor.concat(favoriteColor); console.log(defaultColor); //[&quot;red&quot;, &quot;green&quot;, &quot;orange&quot;, &quot;yellow&quot;] //åŒç†ä¹Ÿå¯ä»¥ç›´æ¥ä¼ ä¸¤ä¸ªæ•°ç»„ console.log([...defaultColor,...favoriteColor]) //ä¹‹å‰çš„æ•°ç»„ä¹Ÿå¯ä»¥åˆå¹¶ var fallcolors=['fire red','fall orange']; console.log(['blue',...fallcolors,...defaultColor,...favoriteColor]) å°æ¡ˆä¾‹ åˆ¤æ–­æŸä¸ªå€¼æ˜¯å¦åœ¨æŸä¸ªæ•°ç»„ä¸­ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±æ·»åŠ è¿›å» function shopList(...items) { if(items.indexOf('milk')&lt;0){ return ['milk',...items] } }; console.log(shopList('orange','bread','eggs')) ","link":"https://lonjinup.github.io/es6-zhan-kai-yun-suan-fu/"},{"title":"ã€ES6ç³»åˆ—ã€‘å‡½æ•°å‚æ•°é»˜è®¤å€¼","content":"å‡½æ•°å‚æ•°é»˜è®¤å€¼ ä¼˜ç‚¹ï¼šä¼˜åŒ–ä»£ç  æ¡ˆä¾‹1 æ¯”å¦‚è¦å†™ä¸€ä¸ªajaxæ–¹æ³•ï¼Œæ­¤æ—¶æˆ‘å®šä¹‰äº†ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªurlï¼Œä¸€ä¸ªmethodsï¼Œå¦‚æœæˆ‘åªä¼ é€’äº†urlï¼Œæ­¤æ—¶æ˜¯ä¼šæŠ¥é”™çš„ã€‚ function ajaxRequest(url,methods) { }; console.log(ajaxRequest(&quot;google.com&quot;)) //undefined å¦‚æœä¸æƒ³æœ‰æŠ¥é”™ï¼Œæ­¤æ—¶å°±å¾—åšä¸€äº›å¤„ç†ã€‚ function ajaxRequest(url,methods) { if(!methods){ methods='GET' } return methods }; console.log(ajaxRequest(&quot;google.com&quot;)) console.log(ajaxRequest(&quot;google.com&quot;,'post')) è€Œåœ¨ES6ä¸­ï¼Œåˆ™å¯ä»¥å®šä¹‰å‡½æ•°é»˜è®¤å€¼,å¦‚æœæ²¡æœ‰ä¼ ï¼Œç›´æ¥ä¼šä½¿ç”¨é»˜è®¤å€¼ã€‚ function ajaxRequest(url,methods='GET') { return methods }; console.log(ajaxRequest(&quot;google.com&quot;)) console.log(ajaxRequest(&quot;google.com&quot;,'post')) ","link":"https://lonjinup.github.io/es6-xi-lie-han-shu-can-shu-mo-ren-zhi/"},{"title":"ã€ES6ç³»åˆ—ã€‘å¢å¼ºå¯¹è±¡å­—é¢é‡","content":"å¢å¼ºå¯¹è±¡å­—é¢é‡ è§£å†³çš„é—®é¢˜ï¼šç¼©å‡ä»£ç ï¼Œä½¿ä»£ç å…·æœ‰å¯è¯»æ€§ã€‚ ç›´æ¥çœ‹ä»£ç ä¾¿å¯ç†è§£ã€‚ ES5 //åˆ›å»ºå¯¹è±¡ new Object(); //{} //åˆ›å»ºæ•°ç»„ new Array(); //[] function createBookSop(inventory) { return{ inventory:inventory, inventoryValue:function () { return this.inventory.reduce((total,book)=&gt;total+book.price,0) }, priceForName:function (title) { return this.inventory.find(book=&gt;book.title===title).price } } }; const inventory=[ {title:'vue',price:12}, {title:'node',price:15}, ]; const bookSop=createBookSop(inventory) console.log(bookSop.inventoryValue()) console.log(bookSop.priceForName('node')) ES6 //åˆ›å»ºå¯¹è±¡ new Object(); //{} //åˆ›å»ºæ•°ç»„ new Array(); //[] function createBookSop(inventory) { return{ inventory, inventoryValue() { return this.inventory.reduce((total,book)=&gt;total+book.price,0) }, priceForName(title) { return this.inventory.find(book=&gt;book.title===title).price } } }; const inventory=[ {title:'vue',price:12}, {title:'node',price:15}, ]; const bookSop=createBookSop(inventory); console.log(bookSop.inventoryValue()); console.log(bookSop.priceForName('node')); ä½¿ç”¨æ¡ˆä¾‹ const url='https://www.baidu.com'; const data={color:'red'}; //es5ä¹¦å†™ function saveFile(url,data) { $.ajax({ method:&quot;post&quot;, url:url, data:data }) }; //es6ä¹¦å†™ function saveFile(url,data) { $.ajax({ url, data, method:&quot;post&quot;, }) }; ","link":"https://lonjinup.github.io/es6-xi-lie-zeng-qiang-dui-xiang-zi-mian-liang/"},{"title":"ã€ES6ç³»åˆ—ã€‘ç®­å¤´å‡½æ•°","content":"ç®­å¤´å‡½æ•° è§£å†³é—®é¢˜ï¼š 1.ç¼©å‡ä»£ç  2.æ”¹å˜ this æŒ‡å‘ æ™®é€šå†™æ³•vsç®­å¤´å‡½æ•°vs //æ™®é€šå†™æ³• const number=function(number){ return number*2 }; //ç®­å¤´å‡½æ•° const number2=(number)=&gt;{ return number*2 }; console.log(number2(2)) //--&gt;4 ç®­å¤´å‡½æ•°å‡çº§ç‰ˆæœ¬ å‡çº§ç‰ˆæœ¬:å¿…é¡»å†™åˆ°ä¸€è¡Œï¼Œreturn å¯ä»¥çœç•¥ã€‚ const number3=(number)=&gt; number*2; console.log(number2(2)) //--&gt;4 è¿˜å¯ä»¥ç»§ç»­ç®€åŒ–(å•ä¸ªå‚æ•°é‡) const number3=number=&gt; number*2; console.log(number2(2)) //--&gt;4 //æˆ–è€…å¯ä»¥è¿™æ · const number3=(number=&gt; number*2); å¤šä¸ªå‚æ•°ï¼šå‚æ•°å¿…é¡»åŠ æ‹¬å· const number5=(number,number2)=&gt; number+number2 console.log(number5(2,1)) //--&gt; 3 å¤šæ¡è¯­å¥ï¼šåé¢å¿…é¡»åŠ æ‹¬å· const number5=(number,number2)=&gt;{ sum=number+number2; return sum } console.log(number5(2,1)) //--&gt; 3 æ”¹å˜thisæŒ‡å‘ // æ”¹å˜thisæŒ‡å‘ const team={ name:['tom','bob'], teamName:'ES6', teamSummary:function(){ return this.name.map(function (items) { //å½“å‰thiså·²ç»æ²¡æœ‰æ˜ç¡®æŒ‡å‘äº† return `${items}å±äº${this.teamName}åˆ†ç±»ä¸‹` }) } }; console.log(team.teamSummary())//this.teamNameæ˜¾ç¤ºundefined; å¦‚æœæƒ³æ˜¾ç¤ºteamName //æ–¹æ³•1(æå‰å£°æ˜ä¸€ä¸ªthis) const team={ name:['tom','bob'], teamName:'ES6', teamSummary:function(){ let that=this;//å£°æ˜ä¸€ä¸ªthis return this.name.map(function (items) { return `${items}å±äº${that.teamName}åˆ†ç±»ä¸‹` }) } }; console.log(team.teamSummary())//æ­£å¸¸æ˜¾ç¤º //æ–¹æ³•2ï¼ˆbind()æ–¹æ³•ï¼‰ const team2={ name:['tom','bob'], teamName:'ES6', teamSummary:function(){ return this.name.map(function (items) { return `${items}å±äº${that.teamName}åˆ†ç±»ä¸‹` }.bind(this))//æŠŠthisç»‘å®šç»™å‡½æ•° } }; //æ–¹æ³•3ï¼ˆç®­å¤´å‡½æ•°ï¼‰ const team={ name:['tom','bob'], teamName:'ES6', teamSummary:function(){ return this.name.map((items)=&gt; { //å½“å‰thiså·²ç»æ²¡æœ‰æ˜ç¡®æŒ‡å‘äº†,å¦‚æœè¦æ˜ç¡®ï¼Œå°±å¾—åœ¨ä¸Šä¸€ä¸ªreturnä¹‹å‰å…ˆå£°æ˜ä¸€ä¸ªthisï¼› return `${items}å±äº${this.teamName}åˆ†ç±»ä¸‹` }) } }; ","link":"https://lonjinup.github.io/es6-zhong-jian-tou-han-shu/"},{"title":"ã€ES6ç³»åˆ—ã€‘æ¨¡æ¿å­—ç¬¦ä¸²","content":"ES6ä¸­æ¨¡æ¿å­—ç¬¦ä¸² ES5ä¸­æ¨¡æ¿å­—ç¬¦ä¸²æ‹¼æ¥ å¦‚æœæœ‰æ¢è¡Œå°±éœ€è¦é€šè¿‡ + å·æ‹¼æ¥ï¼Œéå¸¸ä¸åˆ©äºä¹¦å†™ã€‚ let template='&lt;h1&gt;hellow world&lt;/h1&gt;'+ '&lt;p&gt;è¿™æ˜¯es5è¯­æ³•&lt;/p&gt;' document.getElementById(&quot;app&quot;).innerHTML = template; ES6ä¸­æ¨¡æ¿å­—ç¬¦ä¸² é¦–å°¾ä½¿ç”¨ ` ` ç¬¦å·ï¼Œä¸­é—´å†…å®¹å¯éšæ„æ¢è¡Œï¼Œä¹¦å†™æ–¹ä¾¿ã€‚ let template=`&lt;h1&gt;hellow world&lt;/h1&gt; &lt;p&gt;è¿™æ˜¯es6è¯­æ³•&lt;/p&gt; &lt;ul&gt; &lt;li&gt;1&lt;/li&gt; &lt;/ul&gt; ` document.getElementById(&quot;app&quot;).innerHTML = template; ä¼ é€’å˜é‡ï¼š${} let name='LonJin'; let template=`&lt;h1&gt;hellow ${name}&lt;/h1&gt; &lt;p&gt;è¿™æ˜¯es6è¯­æ³•&lt;/p&gt; &lt;ul&gt; &lt;li&gt;1&lt;/li&gt; &lt;/ul&gt; ` document.getElementById(&quot;app&quot;).innerHTML = template; æ‰§è¡Œæ–¹æ³•ï¼š${} function makeUppercase(word){ return word.toUpperCase() } let name='LonJin'; let template=`&lt;h1&gt;${makeUppercase(&quot;hello&quot;)} ${name}&lt;/h1&gt; &lt;p&gt;è¿™æ˜¯es6è¯­æ³•&lt;/p&gt; &lt;ul&gt; &lt;li&gt;1&lt;/li&gt; &lt;/ul&gt; ` document.getElementById(&quot;app&quot;).innerHTML = template; ","link":"https://lonjinup.github.io/es6-zhong-mo-ban-zi-fu-chuan/"},{"title":"ã€ES6ç³»åˆ—ã€‘let,constä¸varçš„åŒºåˆ«","content":"var,let ,constçš„åŒºåˆ« var å…¨å±€å˜é‡ function textVar(){ var a=30; if(true){ var a=50; console.log(a);//50 }; console.log(a);//50 æ‰¾ç¦»ä»–æœ€è¿‘çš„a }; let æœ‰ä½œç”¨åŸŸçš„æ¦‚å¿µ function textLet(){ let a=30; if(true){ let a=50;//æœ‰ä½œç”¨åŸŸçš„æ¦‚å¿µ console.log(a);//50 }; console.log(a);//30 }; textLet(); const ä¸€ä½†ç”³æ˜ï¼Œä¸å¯ä¿®æ”¹,ä»–æ˜¯ä¸€ä¸ªå¸¸é‡ã€‚ const x=10; x=100; console.log(x);//Uncaught TypeError: Assignment to constant variable. å®šä¹‰æ•°ç»„ const colors=[]; colors.push('red'); colors.push('green'); console.log(colors) ","link":"https://lonjinup.github.io/letconst-yu-var-de-qu-bie/"},{"title":"jsä¸­å¸¸ç”¨æ•°ç»„æ–¹æ³•","content":"æ•°ç»„æ–¹æ³• æ•°ç»„æ–¹æ³• æ•°ç»„æ–¹æ³•æœ‰ forEach, map , filter, find, every, some, reduce. forEach //ES5éå† var colors=['red','green','yellow']; for(var i=0;i&lt;colors.length;i++){ console.log(colors[i]) } //ES6éå† colors.forEach(function(color){ console.log(color) }) è¿­ä»£å™¨å‡½æ•°é¦–å…ˆæŠŠæ•°ç»„æ¯ä¸ªå€¼ä¾æ¬¡å¾ªç¯ï¼Œç›´åˆ°æœ€åä¸€ä¸ªã€‚forEachæ˜¯é€šè¿‡å›è°ƒå‡½æ•°æ¥æä¾›å‚æ•°çš„ã€‚å›è°ƒå‡½æ•°ä¹Ÿæ˜¯ä¸€ç§é—­åŒ…ï¼Œæ‰€ä»¥æ¯ä¸ªå›è°ƒå‡½æ•°éƒ½æœ‰è‡ªå·±çš„ç§æœ‰ä½œç”¨åŸŸï¼Œäº’ä¸å½±å“ï¼Œå†…éƒ¨å˜é‡ä¸ä¼šåŠæ—¶é‡Šæ”¾ã€‚å¦‚æœåœ¨é—­åŒ…ä¸­returnçš„è¯ï¼Œä¹Ÿåªæ˜¯åœ¨å½“å‰å‡½æ•°ä¸­è¿”å›ï¼Œè€Œä¸”åœ¨forEachä¸­å…¶ä»–é—­åŒ…å‡½æ•°ä¸­è¿˜æ˜¯å­˜åœ¨çš„ï¼Œæ‰€ä»¥ä¼šå‡ºç°returnä¸­æ˜¯æ²¡åŠæ³•ç»“æŸå¾ªç¯çš„ã€‚ let arr=[1,2,3]; arr.forEach(function(value,key,arr){ console.log(value); //--&gt;1,2,3 //console.log(key); //--&gt;0,1,2 //console.log(arr); //--&gt;arr }); å¯ä»¥çœ‹å‡ºä»–åœ¨å‡½æ•°ä¸­æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œvalue , key, arr. å…¶ä¸­å‡½æ•°ä¹Ÿå¯ä»¥å†™åœ¨å¤–éƒ¨ let arr=[1,2,3]; function arr(value,key,arr){ console.log(value); //--&gt;1,2,3 //console.log(key); //--&gt;0,1,2 //console.log(arr); //--&gt;arr } arr.forEach(arr) map åœºæ™¯1 å‡å®šæœ‰ä¸€ä¸ªæ•°å€¼æ•°ç»„(A),å°†Aæ•°ç»„ä¸­çš„å€¼ä»¥åŒå€çš„å½¢å¼æ”¾åˆ°Bæ•°ç»„ä¸­ var numbers=[1,2,3]; var numbersA=[]; // ES5 for (var i=0; i&lt;numbers.length; i++){ numbersA.push(numbers[i]*2) }; console.log(numbersA); //ES6 map var numbersA=numbers.map(function(number){ return number*2 }); console.log(numbersA); //forEach numbersA.forEach(function(number){ console.log(number) }) åœºæ™¯2 å‡å®šæœ‰ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼ˆAï¼‰ï¼Œå°†Aæ•°ç»„ä¸­å¯¹åƒæŸä¸ªå±æ€§çš„å€¼å­˜å‚¨åˆ°Bæ•°ç»„ä¸­ var cars=[ {model:&quot;buick&quot;,price:&quot;cheap&quot;}, {model:&quot;bmw&quot;,price:&quot;expensive&quot;}, ]; var prices=cars.map(function(car){ return cars.price }); console.log(prices) åŸç†ï¼šæŠŠæ•°ç»„ä¸­çš„å€¼æ”¾å…¥è¿­ä»£å™¨å‡½æ•°ä¸­ï¼Œç„¶åreturnç»“æœå‡ºæ¥ï¼Œmapéœ€è¦è¿”å›å€¼ï¼Œå¦‚æœä¸ç»™returnï¼Œé»˜è®¤è¿”å›çš„æ˜¯undefinedã€‚mapè¿”å›çš„æ˜¯æ–°æ•°ç»„ã€‚ filter åœºæ™¯1 å‡å®šæœ‰ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼ˆAï¼‰ï¼Œè·å–æ•°ç»„ä¸­æŒ‡å®šç±»å‹çš„å¯¹è±¡æ”¾åˆ°Bæ•°ç»„ä¸­ let products=[ {name:'cucumber',type:'vegetable'}, {name:'banana',type:'fruit'}, {name:'celery',type:'vegetable'}, {name:'orange',type:'fruit'}, ]; //ES5 let filteredProducts=[]; for (var i=0;i&lt;products.length;i++){ if(products[i].type==&quot;fruit&quot;){ filteredProducts.push(products[i]) } }; console.log(filteredProducts); //ES6 let filter2=products.filter(function(product){ return product.type==&quot;vegetable&quot; }); åŸç†ï¼šæŠŠæ•°ç»„ä¸­çš„å€¼æ”¾å…¥è¿­ä»£å™¨å‡½æ•°ä¸­ï¼Œå¦‚æœä¸åŒ¹é…çš„å†…å®¹ç›¸ç­‰ï¼Œreturntrue,æŠŠä¸åŒ¹é…çš„è¿‡æ»¤å‡ºå»ã€‚ åœºæ™¯2 å‡å®šæœ‰ä¸€ä¸ªå¯¹è±¡æ•°ç»„Aï¼Œè¿‡æ»¤å¤šä¸ªæ»¡è¶³æ¡ä»¶å¯¹è±¡ let product2=[ {name:'cucumber',type:'vegetable',price:5}, {name:'banana',type:'fruit',price:5}, {name:'celery',type:'vegetable',price:12}, {name:'orange',type:'fruit',price:5}, ]; let newProduct=product2.filter(function(product){ return product.type===&quot;vegetable&quot; &amp;&amp; product.price &gt; 0 &amp;&amp; product.price &lt; 10 }); console.log(newProduct); åœºæ™¯3 å‡å®šæœ‰ä¸¤ä¸ªæ•°ç»„ABï¼Œæ ¹æ®Aä¸­idå€¼ï¼Œè¿‡æ»¤æ‰Bæ•°ç»„ä¸­ä¸ç¬¦åˆçš„æ•°æ®ã€‚ let post={id:4,title:&quot;javascript&quot;}; let comments=[ {postId:4,content:&quot;vue&quot;}, {postId:3,content:&quot;vue2.0&quot;}, {postId:2,content:&quot;vue3.0&quot;}, {postId:2,content:&quot;Node.js&quot;} ]; function commentForPost(post,comments){ return comments.filter(function(comment){ return comment.postId==post.id }); }; console.log(commentForPost(post,comments)); find åœºæ™¯1 å‡å®šæœ‰ä¸€ä¸ªå¯¹è±¡æ•°ç»„Aï¼Œæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„å¯¹è±¡ let users=[ {name:&quot;jill&quot;}, {name:&quot;tome&quot;}, {name:&quot;bill&quot;} ]; let user; //ES5 for(var i=0;i&lt;users.length;i++){ if(users[i].name==&quot;tome&quot;){ user=users[i]; break;//æ‰¾åˆ°ä¸ä¼šæ‰§è¡Œåé¢çš„ } }; //ES6 user=users.find(function(user){ return user.name==&quot;tome&quot;; }) åœºæ™¯2 å‡å®šæœ‰ä¸€ä¸ªå¯¹è±¡æ•°ç»„Aï¼Œæ ¹æ®æŒ‡å®šå¯¹è±¡çš„æ¡ä»¶æ‰¾åˆ°æ•°ç»„ä¸­ç¬¦åˆæ¡ä»¶çš„å¯¹è±¡ let posts=[ {id:3,title:&quot;node.js&quot;}, {id:4,title:&quot;vue.js&quot;} ]; let comment={id:3,content:&quot;hello word&quot;}; function postForComment(posts,comment){ return posts.find(function(post){ return post.id==comment.id; }) }; every (ä¸€å‡å³å‡ ) some (ä¸€çœŸå³çœŸ) åœºæ™¯1 è®¡ç®—å¯¹è±¡æ•°ç»„ä¸­æ¯ä¸ªç”µè„‘çš„æ“ä½œç³»ç»Ÿæ˜¯å¦å¯ç”¨ï¼Œå¤§äº16ä½æ“ä½œç³»ç»Ÿè¡¨ç¤ºå¯ç”¨ï¼Œå¦åˆ™ä¸å¯ç”¨ let computers=[ {name:&quot;Apple&quot;,ram:16}, {name:&quot;IBM&quot;,ram:4}, {name:&quot;Acer&quot;,ram:32}, ]; var everyComputers=true; var someComputers=false; //ES5 for(var i=0;i&lt;computers.length;i++){ var computer=computers[i]; console.log(computer.ram) if(computer.ram &lt; 16){ everyComputers=false }else{ someComputers=true } }; //ES6 var every=computers.every(function(computer){ return computer.ram&gt;16 }); console.log(every); var some=computers.some(function(computer){ return computer.ram&gt;16 }); console.log(some); åœºæ™¯2 å‡å®šæœ‰ä¸€ä¸ªæ³¨å†Œé¡µé¢ï¼Œåˆ¤æ–­æ‰€æœ‰inputå†…å®¹é•¿åº¦æ˜¯å¦å¤§äº0 function Filed(value){ this.value=value; }; Filed.prototype.validate=function(){ return this.value.length&gt;0; } var username=new Filed(&quot;&quot;); var telephone=new Filed(&quot;18282828282828&quot;); var email=new Filed(&quot;LonJin_up@163.com&quot;); console.log(username.validate()); console.log(telephone.validate()); var fields=[username,telephone,email]; var formIsValid=fields.every(function(field){ return field.validate() }); if(formIsValid){ console.log(&quot;æ³¨å†ŒæˆåŠŸ&quot;) }else{ console.log(&quot;æ³¨å†Œå¤±è´¥&quot;) } reduce åœºæ™¯1ï¼Œè®¡ç®—æ•°ç»„ä¸­æ‰€æœ‰å€¼çš„æ€»å’Œ //ES5 var numbers=[10,20,30]; var sum=0; for (var i=0; i &lt; numbers.length; i++){ sum+=numbers[i]; } console.log(sum); //ES6 var sumValue=numbers.reduce(function(sum2,number2){ console.log(sum2);//ç¬¬ä¸€ä¸ªå‚æ•°éœ€è¦åˆå§‹åŒ–ï¼Œæ‰€ä»¥æ‰“å°å‡ºæ¥ç¬¬ä¸€ä¸ªæ˜¯0 return sum2+number2 },0); console.log(sumValue); åœºæ™¯2 å°†æ•°ç»„ä¸­å¯¹è±¡çš„æŸä¸ªå±æ€§æŠ½ç¦»åˆ°å¦å¤–ä¸€ä¸ªæ•°ç»„ä¸­ var primaryColor=[ {color:'red'}, {color:'yellow'}, {color:'blue'}, ]; var color=primaryColor.reduce(function(previous,primaryColor){ previous.push(primaryColor.color); return previous },[]); console.log(color) åœºæ™¯3 åˆ¤æ–­å­—ç¬¦ä¸²ä¸­æ‹¬å·æ˜¯å¦å¯¹ç§° function balanceParens(string){ return !string.split(&quot;&quot;).reduce(function(previous,char){ if(previous&lt;0){ return previous } if (char==&quot;(&quot;){ return ++previous } if (char==&quot;)&quot;){ return --previous } return previous },0); } console.log(balanceParens(&quot;(((())))&quot;)) ","link":"https://lonjinup.github.io/es6-shu-zu-zhong-de-fang-fa/"},{"title":"æ­å»ºshadowsocksæœåŠ¡","content":"shadowsocks ä¹‹å‰ä¸€ç›´æ˜¯å…¬å¸åç«¯ç”¨å…¬å¸æœåŠ¡å™¨æ­å»ºçš„ï¼Œç½‘é€Ÿæ…¢çš„è¦æ­»ï¼Œå‡†å¤‡ä¹°ä¸ªæ˜ŸåŸŸçš„ï¼Œä½†æ˜¯ç½‘ç«™è€æ‰“ä¸å¼€ï¼Œè¿˜æ˜¯è‡ªå·±æ­ä¸€ä¸ªå§ï¼Œä»·æ ¼ä¹Ÿä¸è´µï¼Œä¸€ä¸ªæœˆæŠ˜åˆäººæ°‘å¸ï¿¥25ï¼Œç½‘é€Ÿä¹Ÿä¸æ…¢ã€‚ ä¸€ã€è´­ä¹°æœåŠ¡å™¨ å›½å¤–çš„æœåŠ¡å™¨æ¯”è¾ƒå¤šï¼Œåƒæˆ‘ä»¬å¸¸è§çš„å°±æœ‰æ¬ç“¦å·¥ï¼Œvultrï¼Œlinode äºšé©¬é€Šç­‰ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©cloudconeã€‚ æ³¨å†Œ è¿™é‡Œé€‰æ‹©cloudconeè¿›è¡Œè´¦å·æ³¨å†Œã€‚ å……å€¼ è¿™é‡Œæ”¯æŒæ”¯ä»˜å®å……å€¼ï¼Œæœ€ä½å……å€¼é‡‘é¢ä¸º $5ï¼Œæ‰¾åˆ°å……å€¼å…¥å£ è¾“å…¥é‡‘é¢æ”¯ä»˜å®æ”¯ä»˜ è´­ä¹° é¦–é¡µç‚¹å‡»æ–°å»º æŒ‰å›¾ä¸Šé…ç½®å³å¯ï¼Œåªéœ€$3.71ã€‚ è¿™æ—¶å€™è´­ä¹°å®Œæ¯•å°±å¯ä»¥å¼€å§‹æ­å»ºå•¦ï¼ŒæœåŠ¡å™¨IPåœ°å€å’Œå¯†ç ç­‰ä¿¡æ¯ä¼šä¸‹å‘åˆ°é‚®ç®±ã€‚ äºŒã€æ­å»º å‡†å¤‡å·¥å…· Xshell6ï¼Œç™¾åº¦ç½‘ç›˜ä¸‹è½½ã€‚æå–ç y4tq shadowsockså®¢æˆ·ç«¯ Windowså®¢æˆ·ç«¯ Macå®¢æˆ·ç«¯ Androidå®¢æˆ·ç«¯ iOSå¯ä»¥ç”¨ç¾åŒºIDä¸‹è½½Potatso Liteï¼Œç¾å›½è´¦å·å¯ä»¥å»ä¸‡èƒ½çš„tbè´­ä¹°ã€‚ æœåŠ¡å™¨ è¿æ¥æœåŠ¡å™¨ å®‰è£…å¥½Xshellï¼Œé€šè¿‡ipåœ°å€å’Œå¯†ç è¿æ¥æœåŠ¡å™¨ã€‚è¿™é‡Œå°±ä¸æˆªå›¾äº†ã€‚ å®‰è£…python-pip å®‰è£… python-pip yum -y install python-pip å¦‚æœæç¤ºNo package python-pip available.Error: Nothing to doå› ä¸ºæ²¡æœ‰æ­¤rpmåŒ…ï¼Œæ­¤åŒ…åŒ…å«åœ¨pelæºé‡Œé¢,æ‰§è¡Œå¦‚ä¸‹ä»£ç : rpm -ivh http://dl.fedoraproject.org/pub/epel/6/i386/epel-release-6-8.noarch.rpm å®‰è£…æˆåŠŸåä¼šæç¤ºComplete! ä¹‹åæ¸…é™¤ä¸€ä¸‹ç¼“å­˜ yum clean al å®‰è£…shadowsocks pip install shadowsocks é…ç½®ä¿¡æ¯ æ–°å»ºæ–‡ä»¶ vim /etc/shadowsocks.json è¾“å…¥é…ç½®ä¿¡æ¯ { &quot;server&quot;: &quot;æœåŠ¡å™¨IP&quot;, &quot;port_password&quot;: { &quot;ç«¯å£&quot;: &quot;å¯†ç &quot; }, &quot;local_address&quot;: &quot;127.0.0.1&quot;, &quot;local_port&quot;: 1080, &quot;timeout&quot;: 300, &quot;method&quot;: &quot;aes-256-cfb&quot; } ç¼–è¾‘å¥½åescé€€å‡ºè¾“å…¥:wq!ä¿å­˜ã€‚ è¿è¡Œ è¦åœ¨å‰å°è¿è¡Œ: ssserver -c /etc/shadowsocks.json è¦åœ¨åå°è¿è¡Œï¼š ssserver -c /etc/shadowsocks.json -d start ssserver -c /etc/shadowsocks.json -d stop ä¸‰.å®¢æˆ·ç«¯è¿æ¥ æ‰“å¼€å®¢æˆ·ç«¯ï¼Œè¾“å…¥ipã€ç«¯å£ã€é€‰æ‹©åŠ ç›Ÿæ–¹å¼ã€ç‚¹å‡»ç¡®å®šå³å¯è¿æ¥ï¼Œå¿«è¯•è¯•èƒ½ä¸èƒ½æ‰“å¼€Googleå§ï¼ ç»“å°¾ å¦‚æœä½ è§‰å¾—å¤ªéº»çƒ¦ï¼Œè¿˜å¯ä»¥ç›´æ¥ä½¿ç”¨ä»˜è´¹çš„ï¼Œæ¯æœˆ12å—é’±ï¼Œé€Ÿåº¦è¿˜å¯ä»¥ã€‚ç‚¹å‡»æ³¨å†ŒğŸ‘‰æ–°ç•Œ ","link":"https://lonjinup.github.io/shadowsocks/"},{"title":"JavaScriptä¸­thisæŒ‡å‘ä»¥åŠæ”¹å˜thisæŒ‡å‘","content":"å…³äºthisæŒ‡å‘ é¦–å…ˆå¿…é¡»è¦è¯´çš„æ˜¯ï¼Œthisçš„æŒ‡å‘åœ¨å‡½æ•°å®šä¹‰çš„æ—¶å€™æ˜¯ç¡®å®šä¸äº†çš„ï¼Œåªæœ‰å‡½æ•°æ‰§è¡Œçš„æ—¶å€™æ‰èƒ½ç¡®å®šthisåˆ°åº•æŒ‡å‘è°ï¼Œå®é™…ä¸Šthisçš„æœ€ç»ˆæŒ‡å‘çš„æ˜¯é‚£ä¸ªè°ƒç”¨å®ƒçš„å¯¹è±¡ï¼ˆè¿™å¥è¯æœ‰äº›é—®é¢˜ï¼Œåé¢ä¼šè§£é‡Šä¸ºä»€ä¹ˆä¼šæœ‰é—®é¢˜ï¼Œè™½ç„¶ç½‘ä¸Šå¤§éƒ¨åˆ†çš„æ–‡ç« éƒ½æ˜¯è¿™æ ·è¯´çš„ï¼Œè™½ç„¶åœ¨å¾ˆå¤šæƒ…å†µä¸‹é‚£æ ·å»ç†è§£ä¸ä¼šå‡ºä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯å®é™…ä¸Šé‚£æ ·ç†è§£æ˜¯ä¸å‡†ç¡®çš„ï¼Œæ‰€ä»¥åœ¨ä½ ç†è§£thisçš„æ—¶å€™ä¼šæœ‰ç§ç¢ç£¨ä¸é€çš„æ„Ÿè§‰ï¼‰ ä¾‹å­1 function name(){ var a=&quot;A&quot;; console.log(this.a);//undefined console.log(this);//Window }; name(); æŒ‰ç…§ä¸Šé¢æ‰€è¯´çš„thiså§‹ç»ˆæŒ‡å‘çš„æ˜¯è°ƒç”¨å®ƒçš„å¯¹è±¡ï¼Œè¿™é‡Œçš„å‡½æ•°nameå®é™…ä¸Šæ˜¯è¢«Windowå¯¹è±¡æ‰€è°ƒå‡ºæ¥çš„ã€‚æ‰€ä»¥this.a=undefined; function name(){ var a=&quot;A&quot;; alert(this.a);//undefined alert(this);//Window }; name(); å’Œä¸Šé¢ä»£ç ä¸€æ ·ï¼Œalert ä¹Ÿæ˜¯Windowä¸€ä¸ªå±æ€§ï¼Œä¹Ÿæ˜¯Windowè°ƒå‡ºæ¥çš„ã€‚ ä¾‹å­2 var n={ name:&quot;LonJin&quot;, fn:function(){ console.log(this.name)//LonJin } }; n.fn(); è¿™é‡Œçš„thisæŒ‡å‘çš„æ˜¯å¯¹è±¡nï¼Œå› ä¸ºä½ è°ƒç”¨è¿™ä¸ªfnæ˜¯é€šè¿‡n.fn()æ‰§è¡Œçš„ï¼Œé‚£è‡ªç„¶æŒ‡å‘å°±æ˜¯å¯¹è±¡nï¼Œè¿™é‡Œå†æ¬¡å¼ºè°ƒä¸€ç‚¹ï¼Œthisçš„æŒ‡å‘åœ¨å‡½æ•°åˆ›å»ºçš„æ—¶å€™æ˜¯å†³å®šä¸äº†çš„ï¼Œåœ¨è°ƒç”¨çš„æ—¶å€™æ‰èƒ½å†³å®šï¼Œè°è°ƒç”¨çš„å°±æŒ‡å‘è°ï¼Œä¸€å®šè¦ææ¸…æ¥šè¿™ä¸ªã€‚ å…¶å®ä¾‹å­1å’Œä¾‹å­2è¯´çš„å¹¶ä¸å¤Ÿå‡†ç¡®ï¼Œä¸‹é¢è¿™ä¸ªä¾‹å­å°±å¯ä»¥æ¨ç¿»ä¸Šé¢çš„ç†è®ºã€‚ ä¾‹å­3 var n={ name:&quot;LonJin&quot;, fn:function(){ console.log(this.name)//LonJin } }; window.n.fn(); è¿™æ®µä»£ç å’Œä¸Šé¢çš„é‚£æ®µä»£ç å‡ ä¹æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯è¿™é‡Œçš„thisä¸ºä»€ä¹ˆä¸æ˜¯æŒ‡å‘windowï¼Œå¦‚æœæŒ‰ç…§ä¸Šé¢çš„ç†è®ºï¼Œæœ€ç»ˆthisæŒ‡å‘çš„æ˜¯è°ƒç”¨å®ƒçš„å¯¹è±¡ï¼Œè¿™é‡Œå…ˆè¯´ä¸ªè€Œå¤–è¯ï¼Œwindowæ˜¯jsä¸­çš„å…¨å±€å¯¹è±¡ï¼Œæˆ‘ä»¬åˆ›å»ºçš„å˜é‡å®é™…ä¸Šæ˜¯ç»™windowæ·»åŠ å±æ€§ï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥ç”¨window.n.fn()ã€‚ å†æ¥çœ‹ä¸€æ®µä»£ç  var n={ a:10, b:{ a:12, fn:function(){ console.log(this.a)//12 } } }; n.b.fn(); è¿™é‡ŒåŒæ ·ä¹Ÿæ˜¯å¯¹è±¡nç‚¹å‡ºæ¥çš„ï¼Œä½†æ˜¯åŒæ ·thiså¹¶æ²¡æœ‰æ‰§è¡Œå®ƒï¼Œé‚£ä½ è‚¯å®šä¼šè¯´æˆ‘ä¸€å¼€å§‹è¯´çš„é‚£äº›ä¸å°±éƒ½æ˜¯é”™è¯¯çš„å—ï¼Ÿå…¶å®ä¹Ÿä¸æ˜¯ï¼Œåªæ˜¯ä¸€å¼€å§‹è¯´çš„ä¸å‡†ç¡®ï¼Œæ¥ä¸‹æ¥æˆ‘å°†è¡¥å……ä¸€å¥è¯ï¼Œæˆ‘ç›¸ä¿¡ä½ å°±å¯ä»¥å½»åº•çš„ç†è§£thisçš„æŒ‡å‘çš„é—®é¢˜ã€‚ å½»åº•ç†è§£thisæŒ‡å‘ æƒ…å†µ1ï¼šå¦‚æœä¸€ä¸ªå‡½æ•°ä¸­æœ‰thisï¼Œä½†æ˜¯å®ƒæ²¡æœ‰è¢«ä¸Šä¸€çº§çš„å¯¹è±¡æ‰€è°ƒç”¨ï¼Œé‚£ä¹ˆthisæŒ‡å‘çš„å°±æ˜¯windowï¼Œè¿™é‡Œéœ€è¦è¯´æ˜çš„æ˜¯åœ¨jsçš„ä¸¥æ ¼ç‰ˆä¸­thisæŒ‡å‘çš„ä¸æ˜¯windowï¼Œä½†æ˜¯æˆ‘ä»¬è¿™é‡Œä¸æ¢è®¨ä¸¥æ ¼ç‰ˆçš„é—®é¢˜ï¼Œä½ æƒ³äº†è§£å¯ä»¥è‡ªè¡Œä¸Šç½‘æŸ¥æ‰¾ã€‚ æƒ…å†µ2ï¼šå¦‚æœä¸€ä¸ªå‡½æ•°ä¸­æœ‰thisï¼Œè¿™ä¸ªå‡½æ•°æœ‰è¢«ä¸Šä¸€çº§çš„å¯¹è±¡æ‰€è°ƒç”¨ï¼Œé‚£ä¹ˆthisæŒ‡å‘çš„å°±æ˜¯ä¸Šä¸€çº§çš„å¯¹è±¡ã€‚ æƒ…å†µ3ï¼šå¦‚æœä¸€ä¸ªå‡½æ•°ä¸­æœ‰thisï¼Œè¿™ä¸ªå‡½æ•°ä¸­åŒ…å«å¤šä¸ªå¯¹è±¡ï¼Œå°½ç®¡è¿™ä¸ªå‡½æ•°æ˜¯è¢«æœ€å¤–å±‚çš„å¯¹è±¡æ‰€è°ƒç”¨ï¼ŒthisæŒ‡å‘çš„ä¹Ÿåªæ˜¯å®ƒä¸Šä¸€çº§çš„å¯¹è±¡ï¼Œä¾‹å­3å¯ä»¥è¯æ˜ï¼Œå¦‚æœä¸ç›¸ä¿¡ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬ç»§ç»­çœ‹å‡ ä¸ªä¾‹å­ã€‚ var n={ a:10, b:{ // a:12, fn:function(){ console.log(this.a)//undefined } } }; n.b.fn(); å°½ç®¡å¯¹è±¡bä¸­æ²¡æœ‰å±æ€§aï¼Œè¿™ä¸ªthisæŒ‡å‘çš„ä¹Ÿæ˜¯å¯¹è±¡bï¼Œå› ä¸ºthisåªä¼šæŒ‡å‘å®ƒçš„ä¸Šä¸€çº§å¯¹è±¡ï¼Œä¸ç®¡è¿™ä¸ªå¯¹è±¡ä¸­æœ‰æ²¡æœ‰thisè¦çš„ä¸œè¥¿ã€‚è¿˜æœ‰ä¸€ç§ç‰¹æ®Šçš„æƒ…å†µï¼Œè¯·çœ‹ä¾‹å­4ã€‚ ä¾‹å­4 var n={ a:10, b:{ a:12, fn:function(){ console.log(this.a)//undefined console.log(this);//window } } }; var j=n.b.fn; j(); åœ¨è¿™é‡ŒthisæŒ‡å‘windowï¼Œè¿™é‡Œå°±åˆä¸æ˜ç™½äº†ï¼Œå…¶å®è¿˜æ˜¯ä¸ç†è§£thisæ°¸è¿œæŒ‡å‘æœ€åè°ƒç”¨å®ƒçš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯çœ‹å®ƒæ‰§è¡Œçš„æ—¶å€™æ˜¯è°è°ƒç”¨çš„å®ƒï¼Œä¾‹å­4ä¸­è™½ç„¶å‡½æ•°fnæ˜¯è¢«å¯¹è±¡bæ‰€å¼•ç”¨ï¼Œä½†æ˜¯åœ¨å°†fnèµ‹å€¼ç»™å˜é‡jçš„æ—¶å€™å¹¶æ²¡æœ‰æ‰§è¡Œæ‰€ä»¥æœ€ç»ˆæŒ‡å‘çš„æ˜¯windowï¼Œè¿™é‡Œå’Œä¾‹å­3æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¾‹å­3æ˜¯ç›´æ¥æ‰§è¡Œäº†fnã€‚ å½“thisé‡åˆ°retrunæ—¶å€™ function fn(){ this.user=&quot;LonJin&quot;; return {} }; var a=new fn; console.log(a.user);//underfind å†çœ‹ä¸€ä¸ª function fn(){ this.user=&quot;LonJin&quot;; return function(){ } }; var a=new fn; console.log(a.user);//undefined ç»§ç»­çœ‹ function fn(){ this.user=&quot;LonJin&quot;; return 1 }; var a=new fn; console.log(a.user);//LonJin function fn(){ this.user=&quot;LonJin&quot;; return undefined }; var a=new fn; console.log(a.user);//LonJin å¦‚æœè¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆthisæŒ‡å‘çš„å°±æ˜¯é‚£ä¸ªè¿”å›çš„å¯¹è±¡ï¼Œå¦‚æœè¿”å›å€¼ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡é‚£ä¹ˆthisè¿˜æ˜¯æŒ‡å‘å‡½æ•°çš„å®ä¾‹ã€‚ è¿˜æœ‰ä¸€ç‚¹å°±æ˜¯è™½ç„¶nullä¹Ÿæ˜¯å¯¹è±¡ï¼Œä½†æ˜¯åœ¨è¿™é‡Œthisè¿˜æ˜¯æŒ‡å‘é‚£ä¸ªå‡½æ•°çš„å®ä¾‹ï¼Œå› ä¸ºnullæ¯”è¾ƒç‰¹æ®Šã€‚ function fn(){ this.user=&quot;LonJin&quot;; return null }; var a=new fn; console.log(a.user);//LonJin è¡¥å…… åœ¨ä¸¥æ ¼ç‰ˆä¸­çš„é»˜è®¤çš„thisä¸å†æ˜¯windowï¼Œè€Œæ˜¯undefinedã€‚ ç»“å°¾ å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©ï¼Œå°±èµèµä¸€ä¸‹å§ï¼ WeChatï¼šljsw8686 ä¸€èµ·å­¦ä¹ ï¼Œä¸€èµ·è¿›æ­¥ï¼ ","link":"https://lonjinup.github.io/javascript-zhong-this-zhi-xiang-yi-ji-gai-bian-this-zhi-xiang/"},{"title":"ä¸¤è¡Œä»£ç ä¸ºç½‘é¡µæ·»åŠ æš—é»‘æ¨¡å¼","content":" è‡ªä»å¾®ä¿¡æ”¯æŒæš—é»‘æ¨¡å¼ä»¥åï¼Œå¾ˆå¤šç½‘ç«™ä¹ŸåŠ äº†æš—é»‘æ¨¡å¼ï¼Œè¿™ä¸ªå¯ä»¥åˆ©ç”¨cssçš„filterå³å¯åšåˆ°ã€‚ç›´æ¥çœ‹ä»£ç å§ï¼ å®ç°ä»£ç  html{ filter: invert(1) hue-rotate(180deg); } &lt;!-- é€†è½¬å›¾ç‰‡é¢œè‰² --&gt; html img{ filter: invert(1) hue-rotate(180deg); } å¦‚æœæƒ³æ·±å…¥äº†è§£çš„ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ç›¸å…³æ–‡æ¡£ filterè¯¦è§£ åŸºæœ¬ä»£ç å°±è¿™ä¹ˆä¸¤æ¡ï¼Œå¤§å®¶å¯ä»¥è¯•ä¸€ä¸‹æ•ˆæœã€‚ ","link":"https://lonjinup.github.io/heiaimoshi/"}]}